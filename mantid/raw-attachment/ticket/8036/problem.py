######################################################################
#Python Script Generated by GeneratePythonScript Algorithm
######################################################################
Load(Filename=r'/SNS/NOM/IPTS-9317/0/18251/NeXus/NOM_18251_event.nxs',OutputWorkspace='NOM_18251_1',ChunkNumber='1',TotalChunks='1')
FilterBadPulses(InputWorkspace='NOM_18251_1',OutputWorkspace='NOM_18251_1')
AlignAndFocusPowder(InputWorkspace='NOM_18251_1',OutputWorkspace='NOM_18251_1',CalFileName=r'/SNS/NOM/IPTS-9317/shared/autoreduce/NOM_calibrate_d18247_2013_09_23.cal',Params='0',ResampleX='-3000',DMin='0.31,0.25,0.13,0.13,0.13,0.42',DMax='13.66,5.83,3.93,2.09,1.57,31.42',TMin='300',TMax='16666.669999999998',PreserveEvents='0',RemovePromptPulseWidth='50',PrimaryFlightPath='19.5',SpectrumIDs='1,2,3,4,5,6',L2='2,2,2,2,2,2',Polar='15,31,67,122,154,7',Azimuthal='0,0,0,0,0,0')
RenameWorkspace(InputWorkspace='NOM_18251_1',OutputWorkspace='NOM_18251')
NormaliseByCurrent(InputWorkspace='NOM_18251',OutputWorkspace='NOM_18251')
ConvertUnits(InputWorkspace='NOM_18251',OutputWorkspace='NOM_18251',Target='TOF')
Load(Filename=r'/SNS/NOM/IPTS-9317/0/18250/NeXus/NOM_18250_event.nxs',OutputWorkspace='NOM_18250_1',ChunkNumber='1',TotalChunks='1')
FilterBadPulses(InputWorkspace='NOM_18250_1',OutputWorkspace='NOM_18250_1')
AlignAndFocusPowder(InputWorkspace='NOM_18250_1',OutputWorkspace='NOM_18250_1',CalFileName=r'/SNS/NOM/IPTS-9317/shared/autoreduce/NOM_calibrate_d18247_2013_09_23.cal',Params='0',ResampleX='-3000',DMin='0.31,0.25,0.13,0.13,0.13,0.42',DMax='13.66,5.83,3.93,2.09,1.57,31.42',TMin='300',TMax='16666.669999999998',PreserveEvents='0',RemovePromptPulseWidth='50',PrimaryFlightPath='19.5',SpectrumIDs='1,2,3,4,5,6',L2='2,2,2,2,2,2',Polar='15,31,67,122,154,7',Azimuthal='0,0,0,0,0,0')
RenameWorkspace(InputWorkspace='NOM_18250_1',OutputWorkspace='NOM_18250')
NormaliseByCurrent(InputWorkspace='NOM_18250',OutputWorkspace='NOM_18250')
Load(Filename=r'/SNS/NOM/IPTS-9317/0/18249/NeXus/NOM_18249_event.nxs',OutputWorkspace='NOM_18249_1',ChunkNumber='1',TotalChunks='1')
FilterBadPulses(InputWorkspace='NOM_18249_1',OutputWorkspace='NOM_18249_1')
AlignAndFocusPowder(InputWorkspace='NOM_18249_1',OutputWorkspace='NOM_18249_1',CalFileName=r'/SNS/NOM/IPTS-9317/shared/autoreduce/NOM_calibrate_d18247_2013_09_23.cal',Params='0',ResampleX='-3000',DMin='0.31,0.25,0.13,0.13,0.13,0.42',DMax='13.66,5.83,3.93,2.09,1.57,31.42',TMin='300',TMax='16666.669999999998',PreserveEvents='0',RemovePromptPulseWidth='50',PrimaryFlightPath='19.5',SpectrumIDs='1,2,3,4,5,6',L2='2,2,2,2,2,2',Polar='15,31,67,122,154,7',Azimuthal='0,0,0,0,0,0')
RenameWorkspace(InputWorkspace='NOM_18249_1',OutputWorkspace='NOM_18249')
NormaliseByCurrent(InputWorkspace='NOM_18249',OutputWorkspace='NOM_18249')
Minus(LHSWorkspace='NOM_18250',RHSWorkspace='NOM_18249',OutputWorkspace='NOM_18250')
ConvertUnits(InputWorkspace='NOM_18250',OutputWorkspace='NOM_18250',Target='dSpacing')
StripVanadiumPeaks(InputWorkspace='NOM_18250',OutputWorkspace='NOM_18250',BackgroundType='Quadratic',PeakPositionTolerance='0.050000000000000003')
ConvertUnits(InputWorkspace='NOM_18250',OutputWorkspace='NOM_18250',Target='TOF')
FFTSmooth(InputWorkspace='NOM_18250',OutputWorkspace='NOM_18250',Filter='Butterworth',Params='20,2',IgnoreXBins='1',AllSpectra='1')
MultipleScatteringCylinderAbsorption(InputWorkspace='NOM_18250',OutputWorkspace='NOM_18250')
SetUncertainties(InputWorkspace='NOM_18250',OutputWorkspace='NOM_18250')
ConvertUnits(InputWorkspace='NOM_18250',OutputWorkspace='NOM_18250',Target='TOF')
Minus(LHSWorkspace='NOM_18251',RHSWorkspace='NOM_18251',OutputWorkspace='NOM_18251')

SaveNexusProcessed(InputWorkspace='NOM_18250', Filename='NOM_18250_Foc.nxs')
SaveNexusProcessed(InputWorkspace='NOM_18251', Filename='NOM_18251_Foc.nxs')

Divide(LHSWorkspace='NOM_18251',RHSWorkspace='NOM_18250',OutputWorkspace='NOM_18251')

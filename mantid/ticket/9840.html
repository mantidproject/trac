<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      #9840 (ReflectometryReductionOne should utilise PolarizationCorrection)
     â€“ Mantid Project
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="9839.html" title="Ticket #9839" />
        <link rel="last" href="11888.html" title="Ticket #11888" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/9840?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/9840?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/9840?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="9841.html" title="Ticket #9841" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mantid Project" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="a82fe30e7bef2e30fd2838e9";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/mantid/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 9840, escape_newlines: 0}
        $("#comment").autoPreview("/mantid/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/mantid/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.mantidproject.org/"><img src="../chrome/site/mantid_logo_with_name.png" alt="Mantid Logo" width="250" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://trac.mantidproject.org/mantid/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="9839.html" title="Ticket #9839">Previous Ticket</a></span></li><li><span><a class="next" href="9841.html" title="Ticket #9841">Next Ticket</a> &rarr;</span></li><li class="last"><a href="../depgraph/9840.html">Depgraph</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="9840.html">Ticket #9840</a>
          <span class="status">(closed: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-07-08T11%3A15%3A34%2B01%3A00&amp;precision=second" title="2014-07-08T11:15:34+01:00 in Timeline">6 years</a> ago</p>
    <p>Last modified <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T03%3A34%3A53%2B01%3A00&amp;precision=second" title="2015-06-04T03:34:53+01:00 in Timeline">5 years</a> ago</p>
  </div>
  <h2 class="summary searchable">ReflectometryReductionOne should utilise PolarizationCorrection</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;reporter=Owen+Arnold">Owen Arnold</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;owner=Harry+Jeffery">Harry Jeffery</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;priority=major">major</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="../milestone/Release&#32;3.3.html">Release 3.3</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;component=Reflectometry">Reflectometry</a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby"><span><a class="closed ticket" href="8948.html" title="Polarisation Corrections">#8948</a>, <a class="closed ticket" href="10131.html" title="Cannot have a workspace that is both of type MultiperiodGroup and  DataProcessing">#10131</a></span></td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking"><span><a class="closed ticket" href="10205.html" title="Flow diagram for algorithm processing">#10205</a>, <a class="assigned ticket" href="10655.html" title="Verify polarization correction behaves correctly in new refl UI">#10655</a></span></td>
        <th id="h_tester">
          Tester:
        </th>
        <td headers="h_tester">
              Dan Nixon
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
    </h3>
    <div class="searchable">
      <p>
This is a low risk change, because it should really just involve wiring the properties in, and adding an additional one to enable the polarization correction.
</p>
<p>
We want to be able to perform polarization corrections (using the new polarization correction algorithm) to ReflectometryReductionOne and ReflectometryReductionOneAuto.
</p>

    </div>
  </div>
</div>
          
    <div id="attachments">
        <h2 class="foldable">Attachments</h2>
        <div>
          <dl class="attachments">
              <dt>
    <a href="../attachment/ticket/9840/wire_in_polarization_correction.py.html" title="View attachment">wire_in_polarization_correction.py</a><a href="../raw-attachment/ticket/9840/wire_in_polarization_correction.py" class="trac-rawlink" title="Download">â€‹</a>
       (<span title="603 bytes">603 bytes</span>) -
      added by <em>Owen Arnold</em> <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-07-09T09%3A22%3A23%2B01%3A00&amp;precision=second" title="2014-07-09T09:22:23+01:00 in Timeline">6 years</a> ago.
  </dt>
          </dl>
          
        </div>
    </div>

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="9840.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-07-08T11%3A16%3A18%2B01%3A00&amp;precision=second" title="2014-07-08T11:16:18+01:00 in Timeline">6 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
This is the last 'nail in the coffin' of the quick scripts, which is why I'd like to get it done as part of 3.2
</p>

    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="9840.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-07-08T13%3A09%3A02%2B01%3A00&amp;precision=second" title="2014-07-08T13:09:02+01:00 in Timeline">6 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>assigned</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="9840.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-07-08T16%3A03%3A48%2B01%3A00&amp;precision=second" title="2014-07-08T16:03:48+01:00 in Timeline">6 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>assigned</em> to <em>inprogress</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="9840.html" title="enhancement: ReflectometryReductionOne should utilise PolarizationCorrection (closed: fixed)">#9840</a>. Wired it up.
</p>
<p>
Now using polarizationcorrection, but untested.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/e1998de400de23ed02a138c3525c4538237a0ae7" title="e1998de400de23ed02a138c3525c4538237a0ae7">e1998de400de23ed02a138c3525c4538237a0ae7</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="9840.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-07-09T09%3A21%3A01%2B01%3A00&amp;precision=second" title="2014-07-09T09:21:01+01:00 in Timeline">6 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="9840.html" title="enhancement: ReflectometryReductionOne should utilise PolarizationCorrection (closed: fixed)">#9840</a>. Issue encountered with multiperiod.
</p>
<p>
All seems to be running so far, but the PolarizationCorrection called from ReflectometryReductionOne is failing because it is not being passed the full input group workspace. This is most likely because ReflectometryReductionOne inherits from ReflectometryWorkflowBase, which inherits from DataProcessingAlgorithm, which inherits from Algorithm. I cannot inject the proper group workpsace processing algorithm (via MultiPeriodGroupAlgorithm) into this chain easily without making major structural changes.
</p>
<p>
The suggested way forwards would be to modify MultiPeriodGroupAlgorithm so that it's working were available as static methods. so that ReflectometryReductionOne could override ProcessGroups and CheckGroups and then point to the static methods in MultiPeriodGroupAlgorithm without technically inheriting from it.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/0f09a01e68221a41d47afd0ef34d57bda1e9362a" title="0f09a01e68221a41d47afd0ef34d57bda1e9362a">0f09a01e68221a41d47afd0ef34d57bda1e9362a</a>
</p>

    </div>

              </div>
              <div class="change">
                <h3 class="change">
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-07-09T09%3A22%3A23%2B01%3A00&amp;precision=second" title="2014-07-09T09:22:23+01:00 in Timeline">6 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Attachment</strong>
        <a href="../attachment/ticket/9840/wire_in_polarization_correction.py.html"><em>wire_in_polarization_correction.py</em></a><a href="../raw-attachment/ticket/9840/wire_in_polarization_correction.py" title="Download" class="trac-rawlink">â€‹</a>
          added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="9840.html#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-07-09T09%3A22%3A50%2B01%3A00&amp;precision=second" title="2014-07-09T09:22:50+01:00 in Timeline">6 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
Attached script + changes induce problem described above.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="9840.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-07-09T09%3A28%3A59%2B01%3A00&amp;precision=second" title="2014-07-09T09:28:59+01:00 in Timeline">6 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
TODO: PolarizationCorrection should also inherit from MultiPeriodGroupAlgorithm, which it  currently doesn't do!
</p>

    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="9840.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-07-09T12%3A16%3A38%2B01%3A00&amp;precision=second" title="2014-07-09T12:16:38+01:00 in Timeline">6 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>Release 3.2</em> to <em>Release 3.3</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
The changes involved here are too dangerous this close to the release. It will have to be done as part of 3.3
</p>

    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="9840.html#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-08-05T08%3A32%3A19%2B01%3A00&amp;precision=second" title="2014-08-05T08:32:19+01:00 in Timeline">6 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Owner</strong>
        changed from <em>Owen Arnold</em> to <em>Harry Jeffery</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="9840.html#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-08-27T16%3A30%3A00%2B01%3A00&amp;precision=second" title="2014-08-27T16:30:00+01:00 in Timeline">6 years</a> ago by Harry Jeffery
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>inprogress</em> to <em>assigned</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="9840.html#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-09-05T15%3A53%3A13%2B01%3A00&amp;precision=second" title="2014-09-05T15:53:13+01:00 in Timeline">6 years</a> ago by Harry Jeffery
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocked By</strong>
        <em>10131</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="9840.html#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-11-24T11%3A33%3A04Z&amp;precision=second" title="2014-11-24T11:33:04Z in Timeline">6 years</a> ago by Harry Jeffery
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>assigned</em> to <em>inprogress</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="9840.html#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-11-24T12%3A56%3A37Z&amp;precision=second" title="2014-11-24T12:56:37Z in Timeline">6 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
Comment 4 is no longer a problem since I introduced <a class="closed ticket" href="10131.html" title="Cannot have a workspace that is both of type MultiperiodGroup and  ... (closed: fixed)">#10131</a>. We can now use the shared code in this class to achieve our aims. We do NOT need to inherit from MultiPeriodAlgorithm to do this any longer. See the implementation of MultiPeriodAlgorithm to see how one would do this for the reflectometry workflow algorithms.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="9840.html#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-11-25T16%3A44%3A27Z&amp;precision=second" title="2014-11-25T16:44:27Z in Timeline">6 years</a> ago by Harry Jeffery
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="9840.html" title="enhancement: ReflectometryReductionOne should utilise PolarizationCorrection (closed: fixed)">#9840</a> Allow ReflRedOneAuto to handle WorkspaceGroups
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/aadb793a367bc457ebf2bb573f35e4285c128b72" title="aadb793a367bc457ebf2bb573f35e4285c128b72">aadb793a367bc457ebf2bb573f35e4285c128b72</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-14">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:14" class="cnum">
      <a href="9840.html#comment:14">comment:14</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-11-25T16%3A44%3A27Z&amp;precision=second" title="2014-11-25T16:44:27Z in Timeline">6 years</a> ago by Harry Jeffery
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="9840.html" title="enhancement: ReflectometryReductionOne should utilise PolarizationCorrection (closed: fixed)">#9840</a> Add polarization correction inputs
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/269bdfc6e2b20122c05dc6a0b6b9e302c341eca3" title="269bdfc6e2b20122c05dc6a0b6b9e302c341eca3">269bdfc6e2b20122c05dc6a0b6b9e302c341eca3</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-15">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:15" class="cnum">
      <a href="9840.html#comment:15">comment:15</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-11-25T17%3A30%3A58Z&amp;precision=second" title="2014-11-25T17:30:58Z in Timeline">6 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
Harry, i've sent you an email about a silicon sample to test this with. 
</p>

    </div>

              </div>
              <div class="change" id="trac-change-16">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:16" class="cnum">
      <a href="9840.html#comment:16">comment:16</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-11-25T17%3A48%3A55Z&amp;precision=second" title="2014-11-25T17:48:55Z in Timeline">6 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
I've just had a quick look at <a class="ext-link" href="https://github.com/mantidproject/mantid/compare/feature/9840_reflectometryreductionone_polarizationcorrection"><span class="icon">â€‹</span>https://github.com/mantidproject/mantid/compare/feature/9840_reflectometryreductionone_polarizationcorrection</a>
</p>
<p>
Regarding checkGroups()
</p>
<ul><li>You also need to check that the input workspace is multiperiod, as well as whether it is a group workspace. Use the  isMultiperiod() method on the WorkspaceGroup for that.
</li><li>I don't know why you're fetching the workspace out of the ADS? directly
</li></ul>
    </div>

              </div>
              <div class="change" id="trac-change-17">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:17" class="cnum">
      <a href="9840.html#comment:17">comment:17</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-11-27T11%3A48%3A29Z&amp;precision=second" title="2014-11-27T11:48:29Z in Timeline">6 years</a> ago by Harry Jeffery
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="9840.html" title="enhancement: ReflectometryReductionOne should utilise PolarizationCorrection (closed: fixed)">#9840</a> Fix typo in previous commit
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/da0c61c7897732f84bee9013b6fe8927d822a1ac" title="da0c61c7897732f84bee9013b6fe8927d822a1ac">da0c61c7897732f84bee9013b6fe8927d822a1ac</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-18">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:18" class="cnum">
      <a href="9840.html#comment:18">comment:18</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-11-27T11%3A48%3A29Z&amp;precision=second" title="2014-11-27T11:48:29Z in Timeline">6 years</a> ago by Harry Jeffery
                </h3>
                
    <div class="comment searchable">
      
      <p>
Merge branch 'master' into feature/9840_reflectometryreductionone_polarizationcorrection
</p>
<p>
Refs <a class="closed ticket" href="9840.html" title="enhancement: ReflectometryReductionOne should utilise PolarizationCorrection (closed: fixed)">#9840</a>
</p>
<p>
This merge is to incorporate the changes from <a class="closed ticket" href="10524.html" title="Location parameters mutate (closed: fixed)">#10524</a> into <a class="closed ticket" href="9840.html" title="enhancement: ReflectometryReductionOne should utilise PolarizationCorrection (closed: fixed)">#9840</a>.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/8f25e486e211ed09fd8399a4c4453e3ddef6f3ab" title="8f25e486e211ed09fd8399a4c4453e3ddef6f3ab">8f25e486e211ed09fd8399a4c4453e3ddef6f3ab</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-19">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:19" class="cnum">
      <a href="9840.html#comment:19">comment:19</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-11-27T11%3A48%3A29Z&amp;precision=second" title="2014-11-27T11:48:29Z in Timeline">6 years</a> ago by Harry Jeffery
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="9840.html" title="enhancement: ReflectometryReductionOne should utilise PolarizationCorrection (closed: fixed)">#9840</a> Remove polref duct tape from ReflMainViewPresenter
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/6669f2f425ad26824dea391842511819238284d5" title="6669f2f425ad26824dea391842511819238284d5">6669f2f425ad26824dea391842511819238284d5</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-20">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:20" class="cnum">
      <a href="9840.html#comment:20">comment:20</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-11-27T11%3A48%3A29Z&amp;precision=second" title="2014-11-27T11:48:29Z in Timeline">6 years</a> ago by Harry Jeffery
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="9840.html" title="enhancement: ReflectometryReductionOne should utilise PolarizationCorrection (closed: fixed)">#9840</a> Implement polarization correction
</p>
<p>
Known bug: History is not recorded correctly.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/3e210693bae1ccb1a5db32babd8095f5d65e5527" title="3e210693bae1ccb1a5db32babd8095f5d65e5527">3e210693bae1ccb1a5db32babd8095f5d65e5527</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-21">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:21" class="cnum">
      <a href="9840.html#comment:21">comment:21</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-11-27T11%3A48%3A29Z&amp;precision=second" title="2014-11-27T11:48:29Z in Timeline">6 years</a> ago by Harry Jeffery
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="9840.html" title="enhancement: ReflectometryReductionOne should utilise PolarizationCorrection (closed: fixed)">#9840</a> Don't use the ADS in ReflectometryReductionOneAuto
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/1233ec6878162f9c53caa85f247f2ab8cd6895f3" title="1233ec6878162f9c53caa85f247f2ab8cd6895f3">1233ec6878162f9c53caa85f247f2ab8cd6895f3</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-22">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:22" class="cnum">
      <a href="9840.html#comment:22">comment:22</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-11-27T13%3A53%3A56Z&amp;precision=second" title="2014-11-27T13:53:56Z in Timeline">6 years</a> ago by Harry Jeffery
                </h3>
                
    <div class="comment searchable">
      
      <p>
Revert "Refs <a class="closed ticket" href="9840.html" title="enhancement: ReflectometryReductionOne should utilise PolarizationCorrection (closed: fixed)">#9840</a> Don't use the ADS in ReflectometryReductionOneAuto"
</p>
<p>
This reverts commit <a class="changeset" href="https://github.com/mantidproject/mantid/commit/1233ec6878162f9c53caa85f247f2ab8cd6895f3" title="1233ec6878162f9c53caa85f247f2ab8cd6895f3">1233ec6878162f9c53caa85f247f2ab8cd6895f3</a>.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/c7e784e68d0e877ba6c9fae413266ab6eaa1ac60" title="c7e784e68d0e877ba6c9fae413266ab6eaa1ac60">c7e784e68d0e877ba6c9fae413266ab6eaa1ac60</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-23">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:23" class="cnum">
      <a href="9840.html#comment:23">comment:23</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-11-27T15%3A03%3A51Z&amp;precision=second" title="2014-11-27T15:03:51Z in Timeline">6 years</a> ago by Harry Jeffery
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="9840.html" title="enhancement: ReflectometryReductionOne should utilise PolarizationCorrection (closed: fixed)">#9840</a> Tidy up execution order
</p>
<p>
We can group the IvsQ workspaces at the same time as the IvsLam ones
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/2d5ed6a2ca69c68d03a7e52704d8a5ce661adb6e" title="2d5ed6a2ca69c68d03a7e52704d8a5ce661adb6e">2d5ed6a2ca69c68d03a7e52704d8a5ce661adb6e</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-24">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:24" class="cnum">
      <a href="9840.html#comment:24">comment:24</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-11-28T09%3A34%3A53Z&amp;precision=second" title="2014-11-28T09:34:53Z in Timeline">6 years</a> ago by Harry Jeffery
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="9840.html" title="enhancement: ReflectometryReductionOne should utilise PolarizationCorrection (closed: fixed)">#9840</a> Fix error when re-stitching polref results
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/4daab451b52535ca1f26a6e4cfcb8830ccc73638" title="4daab451b52535ca1f26a6e4cfcb8830ccc73638">4daab451b52535ca1f26a6e4cfcb8830ccc73638</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-25">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:25" class="cnum">
      <a href="9840.html#comment:25">comment:25</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-11-28T10%3A26%3A10Z&amp;precision=second" title="2014-11-28T10:26:10Z in Timeline">6 years</a> ago by Harry Jeffery
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocking</strong>
        <em>10655</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-25">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:25" class="cnum">
      <a href="9840.html#comment:25">comment:25</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-11-28T10%3A27%3A50Z&amp;precision=second" title="2014-11-28T10:27:50Z in Timeline">6 years</a> ago by Harry Jeffery
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>inprogress</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li><li>
      <strong>Blocking</strong>
        <em>10655</em> removed
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
<strong>Testing</strong>
</p>
<p>
The new functionality is a little tricky to test as we haven't any data to hand that clearly demonstrates the intended behaviour. However, the new functionality is only accessible by manually setting some options in the options column, so it will only be used in its current state by those who already know what they're doing, and what the correct output would look like. If the behaviour is incorrect, it should not cause any regressions in any other use cases.
</p>
<p>
When combined with <a class="closed ticket" href="10646.html" title="PolarizationCorrection doesn't preserve history (closed: fixed)">#10646</a> it's easier to test, as we can look at the overall history of the output workspace and check that the processing workflow makes sense.
</p>
<p>
The behaviour covered by this ticket will be tested before the release of Mantid v3.3, as instructed by <a class="assigned ticket" href="10655.html" title="Verify polarization correction behaves correctly in new refl UI (assigned)">#10655</a>.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-26">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:26" class="cnum">
      <a href="9840.html#comment:26">comment:26</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-11-28T11%3A38%3A45Z&amp;precision=second" title="2014-11-28T11:38:45Z in Timeline">6 years</a> ago by Harry Jeffery
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocking</strong>
        <em>10655</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-28">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:28" class="cnum">
      <a href="9840.html#comment:28">comment:28</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-12-02T11%3A35%3A51Z&amp;precision=second" title="2014-12-02T11:35:51Z in Timeline">6 years</a> ago by Harry Jeffery
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>closed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Merge branch 'master' into feature/9840_reflectometryreductionone_polarizationcorrection
</p>
<p>
Refs <a class="closed ticket" href="9840.html" title="enhancement: ReflectometryReductionOne should utilise PolarizationCorrection (closed: fixed)">#9840</a>
</p>
<p>
This merge is to incorporate the changes from <a class="closed ticket" href="10524.html" title="Location parameters mutate (closed: fixed)">#10524</a> into <a class="closed ticket" href="9840.html" title="enhancement: ReflectometryReductionOne should utilise PolarizationCorrection (closed: fixed)">#9840</a>.
</p>
<p>
Full changeset: <a class="ext-link" href="https://github.com/mantidproject/mantid/commit/8f25e486e211ed09fd8399a4c4453e3ddef6f3ab"><span class="icon">â€‹</span>8f25e486e211ed09fd8399a4c4453e3ddef6f3ab</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-29">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:29" class="cnum">
      <a href="9840.html#comment:29">comment:29</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-12-02T11%3A35%3A52Z&amp;precision=second" title="2014-12-02T11:35:52Z in Timeline">6 years</a> ago by Dan Nixon
                </h3>
                
    <div class="comment searchable">
      
      <p>
Merge remote-tracking branch 'origin/feature/9840_reflectometryreductionone_polarizationcorrection'
</p>
<p>
Full changeset: <a class="ext-link" href="https://github.com/mantidproject/mantid/commit/19fb27610c6f6924d5f29f4e12ca09dc4eb0e95e"><span class="icon">â€‹</span>19fb27610c6f6924d5f29f4e12ca09dc4eb0e95e</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-30">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:30" class="cnum">
      <a href="9840.html#comment:30">comment:30</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-12-02T11%3A36%3A17Z&amp;precision=second" title="2014-12-02T11:36:17Z in Timeline">6 years</a> ago by Dan Nixon
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Tester</strong>
        set to <em>Dan Nixon</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-31">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:31" class="cnum">
      <a href="9840.html#comment:31">comment:31</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-12-02T13%3A25%3A57Z&amp;precision=second" title="2014-12-02T13:25:57Z in Timeline">6 years</a> ago by Harry Jeffery
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocking</strong>
        <em>10205</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-32">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:32" class="cnum">
      <a href="9840.html#comment:32">comment:32</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T03%3A34%3A53%2B01%3A00&amp;precision=second" title="2015-06-04T03:34:53+01:00 in Timeline">5 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
This ticket has been transferred to github issue <a class="ext-link" href="http://github.com/mantidproject/mantid/issues/10682"><span class="icon">â€‹</span>10682</a>
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/9840?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/9840?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/9840?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.5</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
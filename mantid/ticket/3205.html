<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      #3205 (Add low-level method to find the UB matrix given a list of peaks and the lattice parameters.)
     â€“ Mantid Project
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="3204.html" title="Ticket #3204" />
        <link rel="last" href="11888.html" title="Ticket #11888" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/3205?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/3205?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/3205?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="3206.html" title="Ticket #3206" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mantid Project" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="a82fe30e7bef2e30fd2838e9";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/mantid/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 3205, escape_newlines: 0}
        $("#comment").autoPreview("/mantid/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/mantid/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.mantidproject.org/"><img src="../chrome/site/mantid_logo_with_name.png" alt="Mantid Logo" width="250" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://trac.mantidproject.org/mantid/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="3204.html" title="Ticket #3204">Previous Ticket</a></span></li><li class="last"><span><a class="next" href="3206.html" title="Ticket #3206">Next Ticket</a> &rarr;</span></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="3205.html">Ticket #3205</a>
          <span class="status">(closed: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-06-20T21%3A48%3A43%2B01%3A00&amp;precision=second" title="2011-06-20T21:48:43+01:00 in Timeline">9 years</a> ago</p>
    <p>Last modified <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-03T22%3A57%3A04%2B01%3A00&amp;precision=second" title="2015-06-03T22:57:04+01:00 in Timeline">5 years</a> ago</p>
  </div>
  <h2 class="summary searchable">Add low-level method to find the UB matrix given a list of peaks and the lattice parameters.</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;reporter=Dennis+Mikkelson">Dennis Mikkelson</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;owner=Dennis+Mikkelson">Dennis Mikkelson</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;priority=major">major</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="../milestone/Iteration&#32;30.html">Iteration 30</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;component=Mantid">Mantid</a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby"><span></span></td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking"><span></span></td>
        <th id="h_tester">
          Tester:
        </th>
        <td headers="h_tester">
              Janik Zikovsky
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
    </h3>
    <div class="searchable">
      <p>
Given a list of peak positions and the lattice parameters, find the UB matrix that best indexes the peaks, without changing any of the lattice parameters.  If the lattice parameters can be adjusted to better match the data, the BestFit_UB method can be used once the peaks are indexed by the UB matrix returned by this method.
</p>

    </div>
  </div>
</div>
          

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="3205.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-06-20T21%3A48%3A54%2B01%3A00&amp;precision=second" title="2011-06-20T21:48:54+01:00 in Timeline">9 years</a> ago by Dennis Mikkelson
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>accepted</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="3205.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-06-20T21%3A52%3A15%2B01%3A00&amp;precision=second" title="2011-06-20T21:52:15+01:00 in Timeline">9 years</a> ago by Dennis Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[12675]</a>) Added method to check for a valid index.
Added tests for NumberIndexed() and ValidIndex()
methods.
refs <a class="closed ticket" href="3205.html" title="enhancement: Add low-level method to find the UB matrix given a list of peaks and the ... (closed: fixed)">#3205</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="3205.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-06-21T23%3A02%3A56%2B01%3A00&amp;precision=second" title="2011-06-21T23:02:56+01:00 in Timeline">9 years</a> ago by Dennis Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[12704]</a>) Added method to generate list of direction vectors, uniformly
distributed over the y&gt;0 hemisphere.  This will be used for
finding reciprocal space plane normal directions that have
specified spacing.
refs <a class="closed ticket" href="3205.html" title="enhancement: Add low-level method to find the UB matrix given a list of peaks and the ... (closed: fixed)">#3205</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="3205.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-06-22T22%3A51%3A54%2B01%3A00&amp;precision=second" title="2011-06-22T22:51:54+01:00 in Timeline">9 years</a> ago by Dennis Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[12731]</a>) Added method BestFit_Direction that will find the direction,
in a list of directions, that most nearly corresponds to
plane normals in reciprocal space, for a specified plane
spacing.
refs <a class="closed ticket" href="3205.html" title="enhancement: Add low-level method to find the UB matrix given a list of peaks and the ... (closed: fixed)">#3205</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="3205.html#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-06-23T19%3A12%3A52%2B01%3A00&amp;precision=second" title="2011-06-23T19:12:52+01:00 in Timeline">9 years</a> ago by Dennis Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[12755]</a>) Changed name of earlier BestFit_Direction() to SelectDirection(),
since that more accurately describes it's action of selecting the
best vector from a list.
Added new method BestFit_Direction() that uses QR factorization to
optimize the direction and length of the plane normal to a family
of planes in reciprocal space, given a list of Qxyz vectors and
one of the Miller indices for those vectors.
refs <a class="closed ticket" href="3205.html" title="enhancement: Add low-level method to find the UB matrix given a list of peaks and the ... (closed: fixed)">#3205</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="3205.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-06-23T22%3A22%3A26%2B01%3A00&amp;precision=second" title="2011-06-23T22:22:26+01:00 in Timeline">9 years</a> ago by Dennis Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[12768]</a>) Added method to generate a list containing the circle of 
vectors that all form a specified angle with a specified 
axis vector.  This method will be used to find the family
of planes in the reciprocal lattice corresponding to a
second unit cell basis vector.
refs <a class="closed ticket" href="3205.html" title="enhancement: Add low-level method to find the UB matrix given a list of peaks and the ... (closed: fixed)">#3205</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="3205.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-06-26T00%3A32%3A29%2B01%3A00&amp;precision=second" title="2011-06-26T00:32:29+01:00 in Timeline">9 years</a> ago by Dennis Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[12836]</a>) Added methods GetIndexedPeaks_1D() and GetIndexedPeaks_3D()
to indexing utils.
Added tests for methods: BestFit_Direction(), GetIndexedPeaks_1D()
GetIndexedPeaks_3D() and SelectDirection(), so all methods now
have tests.
refs <a class="closed ticket" href="3205.html" title="enhancement: Add low-level method to find the UB matrix given a list of peaks and the ... (closed: fixed)">#3205</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="3205.html#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-06-26T23%3A07%3A09%2B01%3A00&amp;precision=second" title="2011-06-26T23:07:09+01:00 in Timeline">9 years</a> ago by Dennis Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[12842]</a>) Added method BestFit_UB() that finds the UB matrix
given lattice parameters and a list of Q vectors.
Added test for this method as well.
refs <a class="closed ticket" href="3205.html" title="enhancement: Add low-level method to find the UB matrix given a list of peaks and the ... (closed: fixed)">#3205</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="3205.html#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-06-26T23%3A07%3A56%2B01%3A00&amp;precision=second" title="2011-06-26T23:07:56+01:00 in Timeline">9 years</a> ago by Dennis Mikkelson
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>accepted</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="3205.html#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-06-27T17%3A22%3A55%2B01%3A00&amp;precision=second" title="2011-06-27T17:22:55+01:00 in Timeline">9 years</a> ago by Dennis Mikkelson
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>reopened</em>
    </li><li>
      <strong>Resolution</strong>
        <em>fixed</em> deleted
    </li><li>
      <strong>Milestone</strong>
        changed from <em>Iteration 29</em> to <em>Iteration 30</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
While the key method for finding a UB given lattice parameters currently works, it is very sensitive to the accuracy of the lattice parameters.  Further improvements to this are need so that it is more robust with real data.  For example, it may help to first index peaks at lower Q then gradually extend the peaks being indexed to include higher Q peaks.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="3205.html#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-07-05T21%3A05%3A27%2B01%3A00&amp;precision=second" title="2011-07-05T21:05:27+01:00 in Timeline">9 years</a> ago by Dennis Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[12985]</a>) Cleaned up test code by putting code that gets a vector of
Q's for testing into static method.
refs <a class="closed ticket" href="3205.html" title="enhancement: Add low-level method to find the UB matrix given a list of peaks and the ... (closed: fixed)">#3205</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="3205.html#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-07-05T22%3A40%3A43%2B01%3A00&amp;precision=second" title="2011-07-05T22:40:43+01:00 in Timeline">9 years</a> ago by Dennis Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[12990]</a>) Added method GetIndexedPeaks() that takes a UB 
matrix instead of one or three direction vectors.
Added test for this method.
refs <a class="closed ticket" href="3205.html" title="enhancement: Add low-level method to find the UB matrix given a list of peaks and the ... (closed: fixed)">#3205</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="3205.html#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-07-05T23%3A59%3A49%2B01%3A00&amp;precision=second" title="2011-07-05T23:59:49+01:00 in Timeline">9 years</a> ago by Dennis Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[12991]</a>) Removed package specifier Kernel from 
Kernel::DblMatrix.  For some reason this
does not build on Win7, but does on Linux?
refs <a class="closed ticket" href="3205.html" title="enhancement: Add low-level method to find the UB matrix given a list of peaks and the ... (closed: fixed)">#3205</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-14">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:14" class="cnum">
      <a href="3205.html#comment:14">comment:14</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-07-06T17%3A04%3A07%2B01%3A00&amp;precision=second" title="2011-07-06T17:04:07+01:00 in Timeline">9 years</a> ago by Dennis Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[13003]</a>) Added method Make_c_dir() to calculate the third edge vector
of a rotated unit cell, given the other two rotated edge
vectors, the length of side "c" and the cell angles.
refs <a class="closed ticket" href="3205.html" title="enhancement: Add low-level method to find the UB matrix given a list of peaks and the ... (closed: fixed)">#3205</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-15">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:15" class="cnum">
      <a href="3205.html#comment:15">comment:15</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-07-06T21%3A08%3A10%2B01%3A00&amp;precision=second" title="2011-07-06T21:08:10+01:00 in Timeline">9 years</a> ago by Dennis Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[13006]</a>) Added method ScanFor_UB() that makes an initial scan
across a large set of rotations to identify a UB that
indexes the peaks.
refs <a class="closed ticket" href="3205.html" title="enhancement: Add low-level method to find the UB matrix given a list of peaks and the ... (closed: fixed)">#3205</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-16">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:16" class="cnum">
      <a href="3205.html#comment:16">comment:16</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-07-08T04%3A52%3A49%2B01%3A00&amp;precision=second" title="2011-07-08T04:52:49+01:00 in Timeline">9 years</a> ago by Dennis Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[13037]</a>) Added a fairly robust method Find_UB(), that first searches
a huge list of possible orientations to find a UB that indexes 
a small subset of low magnitude Q vectors.  It then does a
least squares refinement on the UB, and gradually increases the
number of peaks to be indexed by adding Q vectors with increasing
|Q|, doing a least squares refinement at each step.  The number
of low |Q| peaks to be initially indexed and the distance between
possible orientations are controlled by parameters.
refs <a class="closed ticket" href="3205.html" title="enhancement: Add low-level method to find the UB matrix given a list of peaks and the ... (closed: fixed)">#3205</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-17">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:17" class="cnum">
      <a href="3205.html#comment:17">comment:17</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-07-08T16%3A16%3A32%2B01%3A00&amp;precision=second" title="2011-07-08T16:16:32+01:00 in Timeline">9 years</a> ago by Dennis Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[13050]</a>) Find_UB() given lattice parameters now properly adds
Q vectors from the sorted list, rather than from the
original list.
refs <a class="closed ticket" href="3205.html" title="enhancement: Add low-level method to find the UB matrix given a list of peaks and the ... (closed: fixed)">#3205</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-18">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:18" class="cnum">
      <a href="3205.html#comment:18">comment:18</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-07-19T15%3A30%3A03%2B01%3A00&amp;precision=second" title="2011-07-19T15:30:03+01:00 in Timeline">9 years</a> ago by Dennis Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[13295]</a>:
</p>
<div class="message"><p>
Fix minor error in documentation comment.<br />
refs <a class="closed ticket" href="3205.html" title="enhancement: Add low-level method to find the UB matrix given a list of peaks and the ... (closed: fixed)">#3205</a><br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-19">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:19" class="cnum">
      <a href="3205.html#comment:19">comment:19</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-07-26T15%3A16%3A56%2B01%3A00&amp;precision=second" title="2011-07-26T15:16:56+01:00 in Timeline">9 years</a> ago by Dennis Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[13492]</a>:
</p>
<div class="message"><p>
Removed older method for finding UB given lattice<br />
parameters.  The newer method is more robust.<br />
refs <a class="closed ticket" href="3205.html" title="enhancement: Add low-level method to find the UB matrix given a list of peaks and the ... (closed: fixed)">#3205</a><br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-20">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:20" class="cnum">
      <a href="3205.html#comment:20">comment:20</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-08-08T21%3A58%3A39%2B01%3A00&amp;precision=second" title="2011-08-08T21:58:39+01:00 in Timeline">9 years</a> ago by Dennis Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[13792]</a>:
</p>
<div class="message"><p>
Added option to shift list of peaks indexed to<br />
be centered around a specified peak.<br />
refs <a class="closed ticket" href="3205.html" title="enhancement: Add low-level method to find the UB matrix given a list of peaks and the ... (closed: fixed)">#3205</a><br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-21">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:21" class="cnum">
      <a href="3205.html#comment:21">comment:21</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-08-12T15%3A20%3A18%2B01%3A00&amp;precision=second" title="2011-08-12T15:20:18+01:00 in Timeline">9 years</a> ago by Dennis Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[13924]</a>:
</p>
<div class="message"><p>
Added sort of list of Q's in all cases to Find_UB given<br />
lattice parameters.<br />
Updated test to test both cases: where default base_index<br />
is used and where base_index specifies an actual peak.<br />
refs <a class="closed ticket" href="3205.html" title="enhancement: Add low-level method to find the UB matrix given a list of peaks and the ... (closed: fixed)">#3205</a><br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-22">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:22" class="cnum">
      <a href="3205.html#comment:22">comment:22</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-08-12T15%3A50%3A43%2B01%3A00&amp;precision=second" title="2011-08-12T15:50:43+01:00 in Timeline">9 years</a> ago by Dennis Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[13925]</a>:
</p>
<div class="message"><p>
Renamed the Find_UB method that took indexed peaks<br />
to Optimize_UB, and Find_Direction to Optimize_Direction<br />
to more accurately reflect the use of these methods.<br />
refs <a class="closed ticket" href="3205.html" title="enhancement: Add low-level method to find the UB matrix given a list of peaks and the ... (closed: fixed)">#3205</a><br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-23">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:23" class="cnum">
      <a href="3205.html#comment:23">comment:23</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-08-12T15%3A54%3A29%2B01%3A00&amp;precision=second" title="2011-08-12T15:54:29+01:00 in Timeline">9 years</a> ago by Dennis Mikkelson
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>reopened</em> to <em>accepted</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-24">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:24" class="cnum">
      <a href="3205.html#comment:24">comment:24</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-08-12T15%3A54%3A52%2B01%3A00&amp;precision=second" title="2011-08-12T15:54:52+01:00 in Timeline">9 years</a> ago by Dennis Mikkelson
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>accepted</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-25">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:25" class="cnum">
      <a href="3205.html#comment:25">comment:25</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-09-20T16%3A32%3A18%2B01%3A00&amp;precision=second" title="2011-09-20T16:32:18+01:00 in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li><li>
      <strong>Tester</strong>
        set to <em>Janik Zikovsky</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-26">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:26" class="cnum">
      <a href="3205.html#comment:26">comment:26</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-09-20T16%3A33%3A36%2B01%3A00&amp;precision=second" title="2011-09-20T16:33:36+01:00 in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>closed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Have used these (indirectly) with the FindUBUsingLatticeParameters algo.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-27">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:27" class="cnum">
      <a href="3205.html#comment:27">comment:27</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-03T22%3A57%3A04%2B01%3A00&amp;precision=second" title="2015-06-03T22:57:04+01:00 in Timeline">5 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
This ticket has been transferred to github issue <a class="ext-link" href="http://github.com/mantidproject/mantid/issues/4052"><span class="icon">â€‹</span>4052</a>
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/3205?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/3205?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/3205?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.5</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
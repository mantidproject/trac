<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      #6385 (Race condition in ConvertToMD)
     â€“ Mantid Project
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="6384.html" title="Ticket #6384" />
        <link rel="last" href="11888.html" title="Ticket #11888" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/6385?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/6385?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/6385?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="6386.html" title="Ticket #6386" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mantid Project" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="a82fe30e7bef2e30fd2838e9";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/mantid/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 6385, escape_newlines: 0}
        $("#comment").autoPreview("/mantid/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/mantid/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.mantidproject.org/"><img src="../chrome/site/mantid_logo_with_name.png" alt="Mantid Logo" width="250" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://trac.mantidproject.org/mantid/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="6384.html" title="Ticket #6384">Previous Ticket</a></span></li><li class="last"><span><a class="next" href="6386.html" title="Ticket #6386">Next Ticket</a> &rarr;</span></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="6385.html">Ticket #6385</a>
          <span class="status">(assigned)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-01-22T01%3A16%3A26Z&amp;precision=second" title="2013-01-22T01:16:26Z in Timeline">8 years</a> ago</p>
    <p>Last modified <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T01%3A11%3A41%2B01%3A00&amp;precision=second" title="2015-06-04T01:11:41+01:00 in Timeline">5 years</a> ago</p>
  </div>
  <h2 class="summary searchable">Race condition in ConvertToMD</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;reporter=Vickie+Lynch">Vickie Lynch</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;owner=Vickie+Lynch">Vickie Lynch</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;priority=major">major</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="milestone" href="../milestone/Backlog.html">Backlog</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;component=Framework">Framework</a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby"><span></span></td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking"><span></span></td>
        <th id="h_tester">
          Tester:
        </th>
        <td headers="h_tester">
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
    </h3>
    <div class="searchable">
      <p>
There is a race condition in ConvertToMD that sometimes breaks it when
running through nx, but not through ssh or on localhost.
</p>

    </div>
  </div>
</div>
          

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="6385.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-01-22T01%3A17%3A38Z&amp;precision=second" title="2013-01-22T01:17:38Z in Timeline">8 years</a> ago by Vickie Lynch
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>accepted</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="6385.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-01-23T17%3A11%3A34Z&amp;precision=second" title="2013-01-23T17:11:34Z in Timeline">8 years</a> ago by Vickie Lynch
                </h3>
                
    <div class="comment searchable">
      
      <p>
Tried nx on outback2 and topaz.  Tried event and matrix2d workspaces.  Tried ConvertToMD and ConvertToDiffractionMDWorkspace.  Tried repeating conversions 5 times. Did not see crash.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="6385.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-01-24T19%3A52%3A34Z&amp;precision=second" title="2013-01-24T19:52:34Z in Timeline">8 years</a> ago by Vickie Lynch
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>Release 2.4</em> to <em>Release 2.5</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="6385.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-01-25T12%3A15%3A08Z&amp;precision=second" title="2013-01-25T12:15:08Z in Timeline">8 years</a> ago by Vickie Lynch
                </h3>
                
    <div class="comment searchable">
      
      <p>
Hi Vickie,
</p>
<blockquote>
<p>
The scripts that have the problem are currently in my home directory:
</p>
</blockquote>
<p>
/SNS/users/eu7/MANTID_SCD_REDUCTION.  To see the problem, copy the scripts
</p>
<p>
MDReduceOneSCD_Run.py
ReduceDictionary.py
ReduceSCD_Parallel.py
</p>
<p>
and the configuration file:
</p>
<p>
MDSAPPHIRE_JUNE_SPHERE.config
</p>
<p>
to a subdirectory of your home directory.  You will need to edit the configuration file and change the output directory to a subdirectory you can write to.  The scripts write out a bunch of intermediate results so it's best to direct the output to a dedicated subdirectory.
</p>
<p>
The peculiar problem can be demonstrated as follows:
</p>
<ol><li>Connect to the analysis cluster using NX.
</li></ol><ol start="2"><li>Within a command window in the NX session, ssh to local host.
</li></ol><ol start="3"><li>In that ssh session, cd to the directory with the scripts and configuration file and type
"python ReduceSCD_Parallel.py MDSAPPHIRE_JUNE_SPHERE.config"
In about 3 minutes the script should finish and produce the main output
"SAPPHIRE_JUNE_SPHERE_Rhombohedral_R.integrate"
and lots of intermediate files.  That is, the scripts work fine when
run through an ssh session or on a local machine.
</li></ol><ol start="4"><li>Exit the ssh local host window to get back to the command window which is directly in the NX session.
</li></ol><ol start="5"><li>Delete all the files made by the script.
</li></ol><ol start="6"><li>In the direct command window cd to the directory and run the script again.  This time, after about 3 minutes the script will "hang".
</li></ol><ol start="7"><li>In a different window, check the output directory. The intermediate files for runs 5637-5644 should all have been created, but none of the final result files, "SAPPHIRE_JUNE_SPHERE*" will have been created, when the script "hangs".
</li></ol><ol start="8"><li>In the window where the script was started, press &lt;control&gt;c and in a few seconds the script should terminate normally, writing out all of the final result files.
</li></ol><p>
The puzzle is, why does the last separate process not terminate properly when run in an NX session.  That causes the driving script to hang.  I've never seen the problem when running on my local systems, or from an ssh session, but it happens consistently in an NX session.
</p>
<p>
Thanks for trying this, and for any suggestion you might have on how to fix this.
</p>
<p>
NOTE: The script SegFaultDemo.py is a MUCH simpler script showing a problem in NX.  Running the script directly from a command window in NX causes a segfault, but running it from an ssh session works :-(
</p>
<p>
Dennis
</p>

    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="6385.html#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-01-27T22%3A31%3A27Z&amp;precision=second" title="2013-01-27T22:31:27Z in Timeline">8 years</a> ago by Vickie Lynch
                </h3>
                
    <div class="comment searchable">
      
      <p>
Scripts run using nx if this environmental variable is not set:
</p>
<pre class="wiki">import os

os.environ['LD_PRELOAD'] = ''
</pre>
    </div>

                <div class="trac-lastedit ">
                  Last edited <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-01-27T22%3A31%3A46Z&amp;precision=second" title="2013-01-27T22:31:46Z in Timeline">8 years</a> ago
                      by Vickie Lynch
                    (<a href="https://trac.mantidproject.org/mantid/ticket/6385?cversion=0&amp;cnum_hist=5#comment:5">previous</a>)
                    (<a href="https://trac.mantidproject.org/mantid/ticket/6385?action=comment-diff&amp;cnum=5&amp;version=1">diff</a>)
                </div>
              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="6385.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-01-27T23%3A20%3A01Z&amp;precision=second" title="2013-01-27T23:20:01Z in Timeline">8 years</a> ago by Vickie Lynch
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="assigned ticket" href="6385.html" title="defect: Race condition in ConvertToMD (assigned)">#6385</a> environment variable for nx python 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/737c01a1e5e8546e7a69d4ac9214601208e2ebad" title="737c01a1e5e8546e7a69d4ac9214601208e2ebad">737c01a1e5e8546e7a69d4ac9214601208e2ebad</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="6385.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-01-27T23%3A24%3A22Z&amp;precision=second" title="2013-01-27T23:24:22Z in Timeline">8 years</a> ago by Vickie Lynch
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>Release 2.5</em> to <em>Release 2.4</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="6385.html#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-01-28T09%3A23%3A22Z&amp;precision=second" title="2013-01-28T09:23:22Z in Timeline">8 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>Release 2.4</em> to <em>Release 2.5</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Moved at the code freeze for release 2.4
</p>

    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="6385.html#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-01-28T13%3A27%3A04Z&amp;precision=second" title="2013-01-28T13:27:04Z in Timeline">8 years</a> ago by Vickie Lynch
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>accepted</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li><li>
      <strong>type</strong>
        changed from <em>enhancement</em> to <em>defect</em>
    </li><li>
      <strong>Milestone</strong>
        changed from <em>Release 2.5</em> to <em>Release 2.4</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Tested using nx on SNS analyis computers and works for stand alone python scripts with both new and old api.  Use this script from Dennis to test:
</p>
<pre class="wiki">import sys

sys.path.append("/opt/mantidunstable/bin")
#sys.path.append("/opt/Mantid/bin")

from MantidFramework import mtd
mtd.initialise()
#from mantidsimple import *
from mantid.simpleapi import *

file_name = "/SNS/TOPAZ/IPTS-4822/0/3857/NeXus/TOPAZ_3857_event.nxs"

LoadEventNexus( Filename=file_name, OutputWorkspace='TOPAZ_events', FilterByTofMin='500', FilterByTofMax='16000' )

ConvertToDiffractionMDWorkspace( InputWorkspace='TOPAZ_events', OutputWorkspace='TOPAZ_MDEW', 
	LorentzCorrection='1', OutputDimensions='Q (lab frame)', SplitInto='2,2,2', SplitThreshold='50',MaxRecursionDepth='12')

sys.exit()

</pre>
    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="6385.html#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-01-28T14%3A21%3A33Z&amp;precision=second" title="2013-01-28T14:21:33Z in Timeline">8 years</a> ago by Vickie Lynch
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>reopened</em>
    </li><li>
      <strong>Resolution</strong>
        <em>fixed</em> deleted
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="6385.html#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-01-28T14%3A30%3A29Z&amp;precision=second" title="2013-01-28T14:30:29Z in Timeline">8 years</a> ago by Vickie Lynch
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>reopened</em> to <em>accepted</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="6385.html#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-01-28T14%3A32%3A49Z&amp;precision=second" title="2013-01-28T14:32:49Z in Timeline">8 years</a> ago by Vickie Lynch
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="assigned ticket" href="6385.html" title="defect: Race condition in ConvertToMD (assigned)">#6385</a> only set variable if using nx 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/fc231d6915a73c74b2c715126316cfe93ac621e5" title="fc231d6915a73c74b2c715126316cfe93ac621e5">fc231d6915a73c74b2c715126316cfe93ac621e5</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="6385.html#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-01-28T14%3A34%3A18Z&amp;precision=second" title="2013-01-28T14:34:18Z in Timeline">8 years</a> ago by Vickie Lynch
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>accepted</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Martyn requested this variable only be changed if using nx.  See script above for testing.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-14">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:14" class="cnum">
      <a href="6385.html#comment:14">comment:14</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-01-28T16%3A09%3A55Z&amp;precision=second" title="2013-01-28T16:09:55Z in Timeline">8 years</a> ago by Vickie Lynch
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>reopened</em>
    </li><li>
      <strong>Resolution</strong>
        <em>fixed</em> deleted
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Saw this error again so reopening
</p>

    </div>

              </div>
              <div class="change" id="trac-change-15">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:15" class="cnum">
      <a href="6385.html#comment:15">comment:15</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-01-28T16%3A10%3A03Z&amp;precision=second" title="2013-01-28T16:10:03Z in Timeline">8 years</a> ago by Vickie Lynch
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>reopened</em> to <em>accepted</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-16">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:16" class="cnum">
      <a href="6385.html#comment:16">comment:16</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-01-30T12%3A30%3A41Z&amp;precision=second" title="2013-01-30T12:30:41Z in Timeline">8 years</a> ago by Vickie Lynch
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="assigned ticket" href="6385.html" title="defect: Race condition in ConvertToMD (assigned)">#6385</a> Reverting changes that do not work 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/638205c0f4ec50f93dd79af39741cbb402be1d5a" title="638205c0f4ec50f93dd79af39741cbb402be1d5a">638205c0f4ec50f93dd79af39741cbb402be1d5a</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-17">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:17" class="cnum">
      <a href="6385.html#comment:17">comment:17</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-01-30T12%3A33%3A59Z&amp;precision=second" title="2013-01-30T12:33:59Z in Timeline">8 years</a> ago by Vickie Lynch
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>Release 2.4</em> to <em>Release 2.5</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
This only effects stand-alone python scripts run through NX on the analysis computers.  The topaz computer does not have this problem.  I will check if this can be fixed by changing NX on them.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-18">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:18" class="cnum">
      <a href="6385.html#comment:18">comment:18</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-02-04T11%3A08%3A21Z&amp;precision=second" title="2013-02-04T11:08:21Z in Timeline">8 years</a> ago by Vickie Lynch
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="assigned ticket" href="6385.html" title="defect: Race condition in ConvertToMD (assigned)">#6385</a> only set variable if using nx 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/fc231d6915a73c74b2c715126316cfe93ac621e5" title="fc231d6915a73c74b2c715126316cfe93ac621e5">fc231d6915a73c74b2c715126316cfe93ac621e5</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-19">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:19" class="cnum">
      <a href="6385.html#comment:19">comment:19</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-02-04T11%3A08%3A25Z&amp;precision=second" title="2013-02-04T11:08:25Z in Timeline">8 years</a> ago by Vickie Lynch
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="assigned ticket" href="6385.html" title="defect: Race condition in ConvertToMD (assigned)">#6385</a> Reverting changes that do not work 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/638205c0f4ec50f93dd79af39741cbb402be1d5a" title="638205c0f4ec50f93dd79af39741cbb402be1d5a">638205c0f4ec50f93dd79af39741cbb402be1d5a</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-20">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:20" class="cnum">
      <a href="6385.html#comment:20">comment:20</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-02-24T00%3A30%3A33Z&amp;precision=second" title="2013-02-24T00:30:33Z in Timeline">8 years</a> ago by Vickie Lynch
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="assigned ticket" href="6385.html" title="defect: Race condition in ConvertToMD (assigned)">#6385</a> set environment variable needed for SNS analysis computers 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/4be36a5245218aeb0799368468158873dbc8f791" title="4be36a5245218aeb0799368468158873dbc8f791">4be36a5245218aeb0799368468158873dbc8f791</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-21">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:21" class="cnum">
      <a href="6385.html#comment:21">comment:21</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-02-24T00%3A30%3A33Z&amp;precision=second" title="2013-02-24T00:30:33Z in Timeline">8 years</a> ago by Vickie Lynch
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="assigned ticket" href="6385.html" title="defect: Race condition in ConvertToMD (assigned)">#6385</a> LD_PRELOAD in mantid.csh 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/696aab3a4dd3f73ad107605121b20a662c44264c" title="696aab3a4dd3f73ad107605121b20a662c44264c">696aab3a4dd3f73ad107605121b20a662c44264c</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-22">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:22" class="cnum">
      <a href="6385.html#comment:22">comment:22</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-04-29T10%3A49%3A55%2B01%3A00&amp;precision=second" title="2013-04-29T10:49:55+01:00 in Timeline">7 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>Release 2.5</em> to <em>Release 2.6</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Moved to <a class="missing changeset" title="No default repository defined">r2</a>.6 at the end of <a class="missing changeset" title="No default repository defined">r2</a>.5
</p>

    </div>

              </div>
              <div class="change" id="trac-change-23">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:23" class="cnum">
      <a href="6385.html#comment:23">comment:23</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-07-18T12%3A06%3A34%2B01%3A00&amp;precision=second" title="2013-07-18T12:06:34+01:00 in Timeline">7 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>accepted</em> to <em>assigned</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-24">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:24" class="cnum">
      <a href="6385.html#comment:24">comment:24</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-07-18T16%3A27%3A11%2B01%3A00&amp;precision=second" title="2013-07-18T16:27:11+01:00 in Timeline">7 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>assigned</em> to <em>new</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-25">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:25" class="cnum">
      <a href="6385.html#comment:25">comment:25</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-07-24T09%3A53%3A09%2B01%3A00&amp;precision=second" title="2013-07-24T09:53:09+01:00 in Timeline">7 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Component</strong>
        changed from <em>Mantid</em> to <em>Framework</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-26">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:26" class="cnum">
      <a href="6385.html#comment:26">comment:26</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-07-26T14%3A55%3A00%2B01%3A00&amp;precision=second" title="2013-07-26T14:55:00+01:00 in Timeline">7 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>Release 2.6</em> to <em>Backlog</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Moved to backlog at the code freeze for R2.6
</p>

    </div>

              </div>
              <div class="change" id="trac-change-27">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:27" class="cnum">
      <a href="6385.html#comment:27">comment:27</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-14T11%3A04%3A58Z&amp;precision=second" title="2014-02-14T11:04:58Z in Timeline">7 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>assigned</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Bulk move to assigned at the introduction of the triage step
</p>

    </div>

              </div>
              <div class="change" id="trac-change-28">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:28" class="cnum">
      <a href="6385.html#comment:28">comment:28</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T01%3A11%3A41%2B01%3A00&amp;precision=second" title="2015-06-04T01:11:41+01:00 in Timeline">5 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
This ticket has been transferred to github issue <a class="ext-link" href="http://github.com/mantidproject/mantid/issues/7231"><span class="icon">â€‹</span>7231</a>
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/6385?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/6385?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/6385?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.5</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
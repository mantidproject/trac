<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      #11421 (Fix time chunks in ISIS direct inelastic)
     â€“ Mantid Project
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="11420.html" title="Ticket #11420" />
        <link rel="last" href="11888.html" title="Ticket #11888" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/11421?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/11421?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/11421?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="11422.html" title="Ticket #11422" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mantid Project" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="a82fe30e7bef2e30fd2838e9";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/mantid/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 11421, escape_newlines: 0}
        $("#comment").autoPreview("/mantid/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/mantid/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.mantidproject.org/"><img src="../chrome/site/mantid_logo_with_name.png" alt="Mantid Logo" width="250" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://trac.mantidproject.org/mantid/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="11420.html" title="Ticket #11420">Previous Ticket</a></span></li><li class="last"><span><a class="next" href="11422.html" title="Ticket #11422">Next Ticket</a> &rarr;</span></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="11421.html">Ticket #11421</a>
          <span class="status">(closed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-03-23T10%3A51%3A18Z&amp;precision=second" title="2015-03-23T10:51:18Z in Timeline">6 years</a> ago</p>
    <p>Last modified <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T04%3A35%3A44%2B01%3A00&amp;precision=second" title="2015-06-04T04:35:44+01:00 in Timeline">5 years</a> ago</p>
  </div>
  <h2 class="summary searchable">Fix time chunks in ISIS direct inelastic</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;reporter=Alex+Buts">Alex Buts</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;owner=Alex+Buts">Alex Buts</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;priority=critical">critical</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="../milestone/Release&#32;3.4.html">Release 3.4</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;component=Direct+Inelastic">Direct Inelastic</a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby"><span></span></td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking"><span></span></td>
        <th id="h_tester">
          Tester:
        </th>
        <td headers="h_tester">
              Federico Montesino Pouzols
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
      <span class="lastmod" title="2015-03-23 10:53:13.068892+00:00">
        (last modified by Alex Buts)
        (<a href="https://trac.mantidproject.org/mantid/ticket/11421?action=diff&amp;version=2">diff</a>)
      </span>
    </h3>
    <div class="searchable">
      <p>
When ISIS direct inelastic reduction works in multirep mode, it cuts workspace in units of TOF into chunks according to TOF ranges, from  fastest TOF on closest(to sample) detector to slowest TOF on furtherest detector for the selected energy range. 
</p>
<p>
doing so it currently does not take in consideration the fact, that the TOF counter starts counting somewhere at the moment pulse hits the moderator, and calculates TOF range assuming that TOF-0 occurs when pulse hits monitor 2. This causes incorrect selection of the TOF range and incorrect cut-off of energy transfers on closest detectors (see picture attached, the black ark-shaped area in the left bottom corner) 
</p>
<p>
The issue has to be fixed.
</p>

    </div>
  </div>
</div>
          
    <div id="attachments">
        <h2 class="foldable">Attachments</h2>
        <div>
          <dl class="attachments">
              <dt>
    <a href="../attachment/ticket/11421/image001.jpg.html" title="View attachment">image001.jpg</a><a href="../raw-attachment/ticket/11421/image001.jpg" class="trac-rawlink" title="Download">â€‹</a>
       (<span title="6630 bytes">6.5 KB</span>) -
      added by <em>Alex Buts</em> <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-03-23T10%3A52%3A02Z&amp;precision=second" title="2015-03-23T10:52:02Z in Timeline">6 years</a> ago.
  </dt>
          </dl>
          
        </div>
    </div>

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change">
                <h3 class="change">
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-03-23T10%3A52%3A02Z&amp;precision=second" title="2015-03-23T10:52:02Z in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Attachment</strong>
        <a href="../attachment/ticket/11421/image001.jpg.html"><em>image001.jpg</em></a><a href="../raw-attachment/ticket/11421/image001.jpg" title="Download" class="trac-rawlink">â€‹</a>
          added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="11421.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-03-23T10%3A52%3A56Z&amp;precision=second" title="2015-03-23T10:52:56Z in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Description</strong>
        modified (<a href="https://trac.mantidproject.org/mantid/ticket/11421?action=diff&amp;version=1">diff</a>)
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="11421.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-03-23T10%3A53%3A13Z&amp;precision=second" title="2015-03-23T10:53:13Z in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Description</strong>
        modified (<a href="https://trac.mantidproject.org/mantid/ticket/11421?action=diff&amp;version=2">diff</a>)
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="11421.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-03-23T10%3A53%3A52Z&amp;precision=second" title="2015-03-23T10:53:52Z in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>inprogress</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="11421.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-03-23T17%3A40%3A48Z&amp;precision=second" title="2015-03-23T17:40:48Z in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="11421.html" title="Fix time chunks in ISIS direct inelastic (closed)">#11421</a> Warn user if tof_spectra are not defined in IDF
</p>
<p>
also touch changed parameter files for them to work on developer mantid
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/2c372796b06ff62be93751e56beb1f0cc9d84d6a" title="2c372796b06ff62be93751e56beb1f0cc9d84d6a">2c372796b06ff62be93751e56beb1f0cc9d84d6a</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="11421.html#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-03-23T22%3A07%3A31Z&amp;precision=second" title="2015-03-23T22:07:31Z in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="11421.html" title="Fix time chunks in ISIS direct inelastic (closed)">#11421</a> Provide more accurate calculations for energy range
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/0be35b95e83ad2a5b34b85f7d13ca9f4e71904cd" title="0be35b95e83ad2a5b34b85f7d13ca9f4e71904cd">0be35b95e83ad2a5b34b85f7d13ca9f4e71904cd</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="11421.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-03-23T22%3A07%3A32Z&amp;precision=second" title="2015-03-23T22:07:32Z in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="11421.html" title="Fix time chunks in ISIS direct inelastic (closed)">#11421</a> Better processing for range of the filenames
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/96df3219c6cb5892d6acc61cc3ebb80dbefc3ef4" title="96df3219c6cb5892d6acc61cc3ebb80dbefc3ef4">96df3219c6cb5892d6acc61cc3ebb80dbefc3ef4</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="11421.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-03-24T14%3A34%3A23Z&amp;precision=second" title="2015-03-24T14:34:23Z in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="11421.html" title="Fix time chunks in ISIS direct inelastic (closed)">#11421</a> Fixed "invalid tuple" error when target directory is not
</p>
<p>
available.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/b995db13611faeef845f4d54f59d6a047b09dd37" title="b995db13611faeef845f4d54f59d6a047b09dd37">b995db13611faeef845f4d54f59d6a047b09dd37</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="11421.html#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-03-25T16%3A05%3A33Z&amp;precision=second" title="2015-03-25T16:05:33Z in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="11421.html" title="Fix time chunks in ISIS direct inelastic (closed)">#11421</a> minor Comments
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/dd268d223b02f826b23cefb7988fbc807f83b2c5" title="dd268d223b02f826b23cefb7988fbc807f83b2c5">dd268d223b02f826b23cefb7988fbc807f83b2c5</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="11421.html#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-03-25T16%3A17%3A21Z&amp;precision=second" title="2015-03-25T16:17:21Z in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="11421.html" title="Fix time chunks in ISIS direct inelastic (closed)">#11421</a> Modified reference file for LETMulirep system test
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/d47b2974cd2f0cad1c0ee70209d23ec6036c789f" title="d47b2974cd2f0cad1c0ee70209d23ec6036c789f">d47b2974cd2f0cad1c0ee70209d23ec6036c789f</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="11421.html#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-03-25T20%3A23%3A52Z&amp;precision=second" title="2015-03-25T20:23:52Z in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="11421.html" title="Fix time chunks in ISIS direct inelastic (closed)">#11421</a> Enabled clearing old results in multirep mode
</p>
<p>
and various unit tests for ReductionWrapper, verifying output file name procedure
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/26cddbd226f53bb27fd3a663b5659dc26d2a2082" title="26cddbd226f53bb27fd3a663b5659dc26d2a2082">26cddbd226f53bb27fd3a663b5659dc26d2a2082</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="11421.html#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-03-25T20%3A29%3A02Z&amp;precision=second" title="2015-03-25T20:29:02Z in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
it addressed as PR <a class="ext-link" href="https://github.com/mantidproject/mantid/pull/464"><span class="icon">â€‹</span>https://github.com/mantidproject/mantid/pull/464</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="11421.html#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-03-26T11%3A22%3A17Z&amp;precision=second" title="2015-03-26T11:22:17Z in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
It is not easy to test this ticket as the reason for the problem appeared not the one initially anticipated. 
I think, testing this by code review is the most appropriate way forward.
</p>
<p>
Actually, it was wrong instrument configuration causing the problem -- not error in the chunking procedure. The chunking procedure was occasionally working correctly as IDE counter starts counting approximately at the pulse at source. 
</p>
<p>
This ticket was used as opportunity to make program independent on the quality of this assumption, to fix two other minor bugs identified by instrument scientists during the run and to write more unit tests to confirm the code correctness. 
</p>
<p>
To check, that the problem do not appear any more, a careful tester may run LETMiltirep2015 test, try to produce picture as above (use SofQ3 and Sliceviewer to do that in Mantid) and ensure that no missing corners appear. As the problem was due to the instrument configuration rather then bug in the program, previous instance of Mantid with correct instrument would not reproduce the problem as well. 
</p>
<p>
I did this check number of times working on the ticket so a tester may trust my judgement on this (I will be called overnight if this appear in any way incorrect)
</p>
<p>
There were also changes to ensure that previously reduced workspaces are deleted when multiple files are processed not to grab increasing amount of Mantid memory. This feature is unit tested for ticket and verified on working instrument too. 
</p>
<p>
 
</p>

    </div>

              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="11421.html#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-03-27T18%3A20%3A39Z&amp;precision=second" title="2015-03-27T18:20:39Z in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="11421.html" title="Fix time chunks in ISIS direct inelastic (closed)">#11421</a> Better diagnostics message if chunking can not identify
</p>
<p>
proper incident energy
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/5025671e0e3bb857a16e44038b2ba2a56c262914" title="5025671e0e3bb857a16e44038b2ba2a56c262914">5025671e0e3bb857a16e44038b2ba2a56c262914</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-14">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:14" class="cnum">
      <a href="11421.html#comment:14">comment:14</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-03-30T08%3A14%3A44%2B01%3A00&amp;precision=second" title="2015-03-30T08:14:44+01:00 in Timeline">6 years</a> ago by Federico Montesino Pouzols
                </h3>
                
    <div class="comment searchable">
      
      <p>
Is this PR for release 3.3.1? Or is it 3.4?
</p>

    </div>

              </div>
              <div class="change" id="trac-change-15">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:15" class="cnum">
      <a href="11421.html#comment:15">comment:15</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-03-30T08%3A55%3A22%2B01%3A00&amp;precision=second" title="2015-03-30T08:55:22+01:00 in Timeline">6 years</a> ago by Federico Montesino Pouzols
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>inprogress</em> to <em>verifying</em>
    </li><li>
      <strong>Tester</strong>
        set to <em>Federico Montesino Pouzols</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-16">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:16" class="cnum">
      <a href="11421.html#comment:16">comment:16</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-03-30T09%3A40%3A55%2B01%3A00&amp;precision=second" title="2015-03-30T09:40:55+01:00 in Timeline">6 years</a> ago by Federico Montesino Pouzols
                </h3>
                
    <div class="comment searchable">
      
      <p>
I'm not sure what will happen with 3.3.1. I'd assume next release will be 3.4, as the freeze will be around the 10th of April if I recall correctly. 
</p>
<p>
Let's merge it in, as it all looks good, tests passed locally, and it is a required fix. I run <tt>LETReductionEvent2015Multirep</tt> and it worked well. I couldn't go much farther. If you'd like me to double-check/reproduce the SofQ3/sliceviewer figure just let me know, as I wasn't sure what exact files and steps are involved. Maybe a check for the "missing corner" and/or similar glitches could be added in the system test later on?
</p>
<p>
I only noticed that the system test <tt>LETReductionEvent2015Multirep</tt> could run with much less than 20GB, I think that 16 or 10GB would be enough, as it used less than 10GB on debian when I run it (not sure if for some reason it's more memory hungry on windows). Decreasing this limit in requiredMemoryMB() would ensure that the test is run more often and not skipped on most/many machines.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-17">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:17" class="cnum">
      <a href="11421.html#comment:17">comment:17</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-03-30T09%3A41%3A39%2B01%3A00&amp;precision=second" title="2015-03-30T09:41:39+01:00 in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="11421.html" title="Fix time chunks in ISIS direct inelastic (closed)">#11421</a> Warn user if tof_spectra are not defined in IDF
</p>
<p>
also touch changed parameter files for them to work on developer mantid
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/2c372796b06ff62be93751e56beb1f0cc9d84d6a" title="2c372796b06ff62be93751e56beb1f0cc9d84d6a">2c372796b06ff62be93751e56beb1f0cc9d84d6a</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-18">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:18" class="cnum">
      <a href="11421.html#comment:18">comment:18</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-03-30T09%3A41%3A39%2B01%3A00&amp;precision=second" title="2015-03-30T09:41:39+01:00 in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="11421.html" title="Fix time chunks in ISIS direct inelastic (closed)">#11421</a> Provide more accurate calculations for energy range
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/0be35b95e83ad2a5b34b85f7d13ca9f4e71904cd" title="0be35b95e83ad2a5b34b85f7d13ca9f4e71904cd">0be35b95e83ad2a5b34b85f7d13ca9f4e71904cd</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-19">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:19" class="cnum">
      <a href="11421.html#comment:19">comment:19</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-03-30T09%3A41%3A39%2B01%3A00&amp;precision=second" title="2015-03-30T09:41:39+01:00 in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="11421.html" title="Fix time chunks in ISIS direct inelastic (closed)">#11421</a> Better processing for range of the filenames
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/96df3219c6cb5892d6acc61cc3ebb80dbefc3ef4" title="96df3219c6cb5892d6acc61cc3ebb80dbefc3ef4">96df3219c6cb5892d6acc61cc3ebb80dbefc3ef4</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-20">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:20" class="cnum">
      <a href="11421.html#comment:20">comment:20</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-03-30T09%3A41%3A39%2B01%3A00&amp;precision=second" title="2015-03-30T09:41:39+01:00 in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="11421.html" title="Fix time chunks in ISIS direct inelastic (closed)">#11421</a> Fixed "invalid tuple" error when target directory is not
</p>
<p>
available.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/b995db13611faeef845f4d54f59d6a047b09dd37" title="b995db13611faeef845f4d54f59d6a047b09dd37">b995db13611faeef845f4d54f59d6a047b09dd37</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-21">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:21" class="cnum">
      <a href="11421.html#comment:21">comment:21</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-03-30T09%3A41%3A39%2B01%3A00&amp;precision=second" title="2015-03-30T09:41:39+01:00 in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="11421.html" title="Fix time chunks in ISIS direct inelastic (closed)">#11421</a> minor Comments
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/dd268d223b02f826b23cefb7988fbc807f83b2c5" title="dd268d223b02f826b23cefb7988fbc807f83b2c5">dd268d223b02f826b23cefb7988fbc807f83b2c5</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-22">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:22" class="cnum">
      <a href="11421.html#comment:22">comment:22</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-03-30T09%3A41%3A40%2B01%3A00&amp;precision=second" title="2015-03-30T09:41:40+01:00 in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="11421.html" title="Fix time chunks in ISIS direct inelastic (closed)">#11421</a> Modified reference file for LETMulirep system test
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/d47b2974cd2f0cad1c0ee70209d23ec6036c789f" title="d47b2974cd2f0cad1c0ee70209d23ec6036c789f">d47b2974cd2f0cad1c0ee70209d23ec6036c789f</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-23">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:23" class="cnum">
      <a href="11421.html#comment:23">comment:23</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-03-30T09%3A41%3A40%2B01%3A00&amp;precision=second" title="2015-03-30T09:41:40+01:00 in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="11421.html" title="Fix time chunks in ISIS direct inelastic (closed)">#11421</a> Enabled clearing old results in multirep mode
</p>
<p>
and various unit tests for ReductionWrapper, verifying output file name procedure
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/26cddbd226f53bb27fd3a663b5659dc26d2a2082" title="26cddbd226f53bb27fd3a663b5659dc26d2a2082">26cddbd226f53bb27fd3a663b5659dc26d2a2082</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-24">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:24" class="cnum">
      <a href="11421.html#comment:24">comment:24</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-03-30T09%3A41%3A40%2B01%3A00&amp;precision=second" title="2015-03-30T09:41:40+01:00 in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="11421.html" title="Fix time chunks in ISIS direct inelastic (closed)">#11421</a> Better diagnostics message if chunking can not identify
</p>
<p>
proper incident energy
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/5025671e0e3bb857a16e44038b2ba2a56c262914" title="5025671e0e3bb857a16e44038b2ba2a56c262914">5025671e0e3bb857a16e44038b2ba2a56c262914</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-25">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:25" class="cnum">
      <a href="11421.html#comment:25">comment:25</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-03-30T09%3A41%3A40%2B01%3A00&amp;precision=second" title="2015-03-30T09:41:40+01:00 in Timeline">6 years</a> ago by Federico Montesino Pouzols
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>closed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Merge pull request <a class="closed ticket" href="464.html" title="enhancement: Change AlgorithmManager to store a Proxy version of the algorithm (closed: fixed)">#464</a> from mantidproject/11421_tof_range_calculations
</p>
<p>
Correct TOF range in multirep mode
</p>
<p>
Full changeset: <a class="ext-link" href="https://github.com/mantidproject/mantid/commit/8e2b160c7983e9ece7f7a67c0a793b99eb8e6be3"><span class="icon">â€‹</span>8e2b160c7983e9ece7f7a67c0a793b99eb8e6be3</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-26">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:26" class="cnum">
      <a href="11421.html#comment:26">comment:26</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-03-30T12%3A59%3A00%2B01%3A00&amp;precision=second" title="2015-03-30T12:59:00+01:00 in Timeline">6 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
The only changes we had for 3.3.1 were to make mantid work on RHEL7 - but it seems with the code freeze so close we won't bother with a 3.3.1 release now - unless @martyngigg would like a formal rhel7 3.3 kit ?
</p>

    </div>

              </div>
              <div class="change" id="trac-change-27">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:27" class="cnum">
      <a href="11421.html#comment:27">comment:27</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-03-30T13%3A02%3A46%2B01%3A00&amp;precision=second" title="2015-03-30T13:02:46+01:00 in Timeline">6 years</a> ago by Martyn Gigg
                </h3>
                
    <div class="comment searchable">
      
      <p>
I agree I don't think we need to bother with 3.3.1 now. The only people wanting rhel7 needed a nightly anyway so we can just keep going with that.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-28">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:28" class="cnum">
      <a href="11421.html#comment:28">comment:28</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T04%3A35%3A44%2B01%3A00&amp;precision=second" title="2015-06-04T04:35:44+01:00 in Timeline">5 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
This ticket has been transferred to github issue <a class="ext-link" href="http://github.com/mantidproject/mantid/issues/12260"><span class="icon">â€‹</span>12260</a>
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/11421?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/11421?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/11421?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.5</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      #9989 (Generic load algorithm does not load monitors as(and) LoadISISNexus do not allow monitors loading)
     – Mantid Project
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="9988.html" title="Ticket #9988" />
        <link rel="last" href="11888.html" title="Ticket #11888" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/9989?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/9989?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/9989?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="9990.html" title="Ticket #9990" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mantid Project" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="a82fe30e7bef2e30fd2838e9";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/mantid/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 9989, escape_newlines: 0}
        $("#comment").autoPreview("/mantid/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/mantid/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.mantidproject.org/"><img src="../chrome/site/mantid_logo_with_name.png" alt="Mantid Logo" width="250" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://trac.mantidproject.org/mantid/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="9988.html" title="Ticket #9988">Previous Ticket</a></span></li><li><span><a class="next" href="9990.html" title="Ticket #9990">Next Ticket</a> &rarr;</span></li><li class="last"><a href="../depgraph/9989.html">Depgraph</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="9989.html">Ticket #9989</a>
          <span class="status">(closed: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-07-24T13%3A29%3A06%2B01%3A00&amp;precision=second" title="2014-07-24T13:29:06+01:00 in Timeline">6 years</a> ago</p>
    <p>Last modified <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T03%3A41%3A03%2B01%3A00&amp;precision=second" title="2015-06-04T03:41:03+01:00 in Timeline">5 years</a> ago</p>
  </div>
  <h2 class="summary searchable">Generic load algorithm does not load monitors as(and) LoadISISNexus do not allow monitors loading</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;reporter=Alex+Buts">Alex Buts</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;owner=Alex+Buts">Alex Buts</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;priority=major">major</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="../milestone/Release&#32;3.3.html">Release 3.3</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;component=Framework">Framework</a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
              tatiana.guidi@…
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby"><span><a class="closed ticket" href="10309.html" title="LoadISISNexus does not load monitors if they are at the end of the spectra list">#10309</a></span></td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking"><span></span></td>
        <th id="h_tester">
          Tester:
        </th>
        <td headers="h_tester">
              Federico M Pouzols
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
    </h3>
    <div class="searchable">
      <p>
Let's take file MER23092.n001 which is histogram mode nexus file from Merlin taken from cycle 2014_2 
</p>
<pre class="wiki">w1=Load('MER23092.n001',LoadMonitors=1)
</pre><p>
fails with strange error (can not find a histogram with appropriate number)
</p>
<p>
This may be because LoadISISNexus does not allow loading monitors and LoadNexusMonitors should be used to load them or due to other reasons but generic loader should be able to load data and monitors from neuxs file in a way, it does for any other loader. 
</p>

    </div>
  </div>
</div>
          

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="9989.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-07-28T11%3A33%3A06%2B01%3A00&amp;precision=second" title="2014-07-28T11:33:06+01:00 in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Cc</strong>
        <em>tatiana.guidi@…</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="9989.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-10-02T16%3A47%3A05%2B01%3A00&amp;precision=second" title="2014-10-02T16:47:05+01:00 in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>assigned</em>
    </li><li>
      <strong>Owner</strong>
        set to <em>Alex Buts</em>
    </li><li>
      <strong>Milestone</strong>
        changed from <em>Backlog</em> to <em>Release 3.3</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="9989.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-10-07T10%3A03%3A21%2B01%3A00&amp;precision=second" title="2014-10-07T10:03:21+01:00 in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocked By</strong>
        <em>10309</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="9989.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-10-07T17%3A13%3A37%2B01%3A00&amp;precision=second" title="2014-10-07T17:13:37+01:00 in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>assigned</em> to <em>inprogress</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="9989.html" title="Generic load algorithm does not load monitors as(and) LoadISISNexus do not ... (closed: fixed)">#9989</a> Crude fix allowing monitors loading when the later are
</p>
<p>
placed after the detectors. Ignoring different time channels, if any are in the file.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/718d34808e6a6326430a308402d5675fc1246b77" title="718d34808e6a6326430a308402d5675fc1246b77">718d34808e6a6326430a308402d5675fc1246b77</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="9989.html#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-10-07T18%3A06%3A17%2B01%3A00&amp;precision=second" title="2014-10-07T18:06:17+01:00 in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="9989.html" title="Generic load algorithm does not load monitors as(and) LoadISISNexus do not ... (closed: fixed)">#9989</a> new property to load monitors
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/b77cff67a3621caf021209b9ceda85d24e3db4b1" title="b77cff67a3621caf021209b9ceda85d24e3db4b1">b77cff67a3621caf021209b9ceda85d24e3db4b1</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="9989.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-10-08T09%3A10%3A20%2B01%3A00&amp;precision=second" title="2014-10-08T09:10:20+01:00 in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="9989.html" title="Generic load algorithm does not load monitors as(and) LoadISISNexus do not ... (closed: fixed)">#9989</a> Make LoadRaw monitor loading options transferable
</p>
<p>
to provide common code for LoadRaw3 and LoadISISNexus
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/492991c5556949a413eb3aa3b851a342fa397933" title="492991c5556949a413eb3aa3b851a342fa397933">492991c5556949a413eb3aa3b851a342fa397933</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="9989.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-10-08T18%3A57%3A27%2B01%3A00&amp;precision=second" title="2014-10-08T18:57:27+01:00 in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="9989.html" title="Generic load algorithm does not load monitors as(and) LoadISISNexus do not ... (closed: fixed)">#9989</a> Load monitors "Exclude&amp;Separate" works for main workspace
</p>
<p>
though unit tests are needed and prospective include LoadNexusMonitors for "Separate" option
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/e31757fedad009457665cd2d3c12d27bd61afb94" title="e31757fedad009457665cd2d3c12d27bd61afb94">e31757fedad009457665cd2d3c12d27bd61afb94</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="9989.html#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-10-09T10%3A21%3A52%2B01%3A00&amp;precision=second" title="2014-10-09T10:21:52+01:00 in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="9989.html" title="Generic load algorithm does not load monitors as(and) LoadISISNexus do not ... (closed: fixed)">#9989</a> Unit test for LoadMonitorsSeparately option
</p>
<p>
and some small niceness to the code, which performs this operation (comments, var names, code duplication).
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/23863776bab89d3e9133805e1a02907a383eac7e" title="23863776bab89d3e9133805e1a02907a383eac7e">23863776bab89d3e9133805e1a02907a383eac7e</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="9989.html#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-10-09T10%3A41%3A05%2B01%3A00&amp;precision=second" title="2014-10-09T10:41:05+01:00 in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="9989.html" title="Generic load algorithm does not load monitors as(and) LoadISISNexus do not ... (closed: fixed)">#9989</a> Fixing unit test
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/f0092432761e177c4f3bcebe8c3fbfaefa44f9f3" title="f0092432761e177c4f3bcebe8c3fbfaefa44f9f3">f0092432761e177c4f3bcebe8c3fbfaefa44f9f3</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="9989.html#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-10-09T10%3A46%3A10%2B01%3A00&amp;precision=second" title="2014-10-09T10:46:10+01:00 in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="9989.html" title="Generic load algorithm does not load monitors as(and) LoadISISNexus do not ... (closed: fixed)">#9989</a> Unix compilation error
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/1597485ebe8b4dade55cded2288ea1c1d2e336fa" title="1597485ebe8b4dade55cded2288ea1c1d2e336fa">1597485ebe8b4dade55cded2288ea1c1d2e336fa</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="9989.html#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-10-09T10%3A52%3A31%2B01%3A00&amp;precision=second" title="2014-10-09T10:52:31+01:00 in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="9989.html" title="Generic load algorithm does not load monitors as(and) LoadISISNexus do not ... (closed: fixed)">#9989</a> doxygen error
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/294cfddc9fdb82f7bc18d582d062cac0c1923c1f" title="294cfddc9fdb82f7bc18d582d062cac0c1923c1f">294cfddc9fdb82f7bc18d582d062cac0c1923c1f</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="9989.html#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-10-09T17%3A47%3A50%2B01%3A00&amp;precision=second" title="2014-10-09T17:47:50+01:00 in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="9989.html" title="Generic load algorithm does not load monitors as(and) LoadISISNexus do not ... (closed: fixed)">#9989</a> Preparing LoadRawHelper for use with LoadISISNexus2
</p>
<p>
+ changes intended to make logic of LoadISISNexus2 simpler
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/87a745864ca0afef98a5e9e20a833bff8843f629" title="87a745864ca0afef98a5e9e20a833bff8843f629">87a745864ca0afef98a5e9e20a833bff8843f629</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="9989.html#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-10-10T15%3A32%3A39%2B01%3A00&amp;precision=second" title="2014-10-10T15:32:39+01:00 in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="9989.html" title="Generic load algorithm does not load monitors as(and) LoadISISNexus do not ... (closed: fixed)">#9989</a> Include&amp;Exclude monitors seems work fine
</p>
<p>
(with groups too)
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/da40d52c8c56ccbef7f5973f98891316ad05737d" title="da40d52c8c56ccbef7f5973f98891316ad05737d">da40d52c8c56ccbef7f5973f98891316ad05737d</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-14">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:14" class="cnum">
      <a href="9989.html#comment:14">comment:14</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-10-10T15%3A52%3A20%2B01%3A00&amp;precision=second" title="2014-10-10T15:52:20+01:00 in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="9989.html" title="Generic load algorithm does not load monitors as(and) LoadISISNexus do not ... (closed: fixed)">#9989</a> Doxygen errors and compiler warnings
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/10c743471f93ded9d13285196ba8fb393e5022db" title="10c743471f93ded9d13285196ba8fb393e5022db">10c743471f93ded9d13285196ba8fb393e5022db</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-15">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:15" class="cnum">
      <a href="9989.html#comment:15">comment:15</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-10-10T15%3A57%3A51%2B01%3A00&amp;precision=second" title="2014-10-10T15:57:51+01:00 in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="9989.html" title="Generic load algorithm does not load monitors as(and) LoadISISNexus do not ... (closed: fixed)">#9989</a> C++ check and doxygen warnings
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/b87d6c18e408a5dd172e33f941ad30118a9f67bc" title="b87d6c18e408a5dd172e33f941ad30118a9f67bc">b87d6c18e408a5dd172e33f941ad30118a9f67bc</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-16">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:16" class="cnum">
      <a href="9989.html#comment:16">comment:16</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-10-10T20%3A02%3A01%2B01%3A00&amp;precision=second" title="2014-10-10T20:02:01+01:00 in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="9989.html" title="Generic load algorithm does not load monitors as(and) LoadISISNexus do not ... (closed: fixed)">#9989</a> Kind of works
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/3f35bb777a57a6db4ecd8d4aa2249335b4cc5d15" title="3f35bb777a57a6db4ecd8d4aa2249335b4cc5d15">3f35bb777a57a6db4ecd8d4aa2249335b4cc5d15</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-17">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:17" class="cnum">
      <a href="9989.html#comment:17">comment:17</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-10-10T20%3A08%3A49%2B01%3A00&amp;precision=second" title="2014-10-10T20:08:49+01:00 in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="9989.html" title="Generic load algorithm does not load monitors as(and) LoadISISNexus do not ... (closed: fixed)">#9989</a> Doxygen errors
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/8dae714e806ff0c9bbd44ab951e6dc6c87c04237" title="8dae714e806ff0c9bbd44ab951e6dc6c87c04237">8dae714e806ff0c9bbd44ab951e6dc6c87c04237</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-18">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:18" class="cnum">
      <a href="9989.html#comment:18">comment:18</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-10-11T15%3A35%3A29%2B01%3A00&amp;precision=second" title="2014-10-11T15:35:29+01:00 in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="9989.html" title="Generic load algorithm does not load monitors as(and) LoadISISNexus do not ... (closed: fixed)">#9989</a> Should fix SANS2D data loading
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/862b30f67c561bc5892adc577b7f8c03ac9472a1" title="862b30f67c561bc5892adc577b7f8c03ac9472a1">862b30f67c561bc5892adc577b7f8c03ac9472a1</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-19">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:19" class="cnum">
      <a href="9989.html#comment:19">comment:19</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-10-13T10%3A57%3A38%2B01%3A00&amp;precision=second" title="2014-10-13T10:57:38+01:00 in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="9989.html" title="Generic load algorithm does not load monitors as(and) LoadISISNexus do not ... (closed: fixed)">#9989</a> Setup monitor workspace attached to data ws
</p>
<p>
and little code improvements.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/1bad2767406af308561cd8c11ffaa6d988cb2e64" title="1bad2767406af308561cd8c11ffaa6d988cb2e64">1bad2767406af308561cd8c11ffaa6d988cb2e64</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-20">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:20" class="cnum">
      <a href="9989.html#comment:20">comment:20</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-10-13T11%3A47%3A07%2B01%3A00&amp;precision=second" title="2014-10-13T11:47:07+01:00 in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocked By</strong>
        <em>10309</em> removed
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-20">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:20" class="cnum">
      <a href="9989.html#comment:20">comment:20</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-10-13T11%3A47%3A16%2B01%3A00&amp;precision=second" title="2014-10-13T11:47:16+01:00 in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>inprogress</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li><li>
      <strong>Blocked By</strong>
        <em>10309</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
The code described in the ticket should work now. This requested changes in the code much larger then I had ever anticipated. 
</p>
<p>
The problem with the generic loader above was that LoadISISNexus2, invoked by it after this command did not understand option "Load Monitors separately"
</p>
<p>
To fix this ticket I've implemented two and accounted for third thing:
</p>
<p>
1) An interface (borrowed from load raw), which allows to select separate monitor's loading. 
</p>
<p>
2) A possibility to load monitors which have different time binning wrt the detectors. 
</p>
<p>
3) Sometimes, scientists on instrument mix up wiring table and monitors data go into detectors data. I do not know if monitors data are written into monitors block, but I've tried explicitly identify this situation and reading the monitors data from the detector's table in this case. 
</p>
<p>
LoadISISNexus have now two logically separate operation modes. The old one, which is default and should work as before if LoadMonitors-&gt;Included is selected.
</p>
<p>
The new one, where spectra selection options are largely ignored should be common for LoadISISNexus, LoadRaw and LoadEventNexus. It is necessary for seamless functioning of reduction from common loader's interface and loads monitors together, separately or excludes them from workspace. 
</p>
<p>
I tried but have not implemented LoadMonitors-&gt;Separately for group workspace. If somebody needs this option, a separate ticket to do that should be issued. 
</p>
<p>
I tried this loader on range of files, presented at <a class="ext-link" href="ftp://ftp.nd.rl.ac.uk/scratch/abuts/Ticket_9989/"><span class="icon">​</span>ftp://ftp.nd.rl.ac.uk/scratch/abuts/Ticket_9989/</a> It works fine for me but changes to underlying code are so big, that tester should try to break the loader selecting different files and different mixtures of the interface options. 
</p>
<p>
Special attention should be paid for correspondence between detectors ID-s, spectra numbers and loaded data.
</p>

    </div>

                <div class="trac-lastedit ">
                  Last edited <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-10-13T11%3A48%3A51%2B01%3A00&amp;precision=second" title="2014-10-13T11:48:51+01:00 in Timeline">6 years</a> ago
                      by Alex Buts
                    (<a href="https://trac.mantidproject.org/mantid/ticket/9989?cversion=0&amp;cnum_hist=20#comment:20">previous</a>)
                    (<a href="https://trac.mantidproject.org/mantid/ticket/9989?action=comment-diff&amp;cnum=20&amp;version=1">diff</a>)
                </div>
              </div>
              <div class="change" id="trac-change-21">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:21" class="cnum">
      <a href="9989.html#comment:21">comment:21</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-10-29T19%3A53%3A34Z&amp;precision=second" title="2014-10-29T19:53:34Z in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
it worth checking if the changes fixed <a class="closed ticket" href="9499.html" title="defect: SpectrumList not working for LoadISISNexus data (closed: worksforme)">#9499</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-22">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:22" class="cnum">
      <a href="9989.html#comment:22">comment:22</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-10-31T15%3A11%3A44Z&amp;precision=second" title="2014-10-31T15:11:44Z in Timeline">6 years</a> ago by Federico M Pouzols
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li><li>
      <strong>Tester</strong>
        set to <em>Federico M Pouzols</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-23">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:23" class="cnum">
      <a href="9989.html#comment:23">comment:23</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-10-31T17%3A09%3A25Z&amp;precision=second" title="2014-10-31T17:09:25Z in Timeline">6 years</a> ago by Federico M Pouzols
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>closed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
I tested with the files included in the ftp url given above, and also
ome other nexus and non-nexus test and systemtest files (like
TOPAZ_3680_5_sec_MDEW.nxs, MAP17186.raw, LOQ48097.raw, etc.). I could
not make it fail or crash:
</p>
<ul><li>It seems to work when using different values for Spectrum Min/Max/List (and combining them). The indices and spectra numbers are correct.
</li></ul><ul><li>LoadMonitors-&gt;Include/Exclude/Separate work well for different files.
</li></ul><ul><li>Tests and systemtests pass
</li></ul><ul><li>The code is well organized and documented, and new unit tests have been added.
</li></ul><ul><li>The (not implemented) loading LoadMonitors-&gt;Separately for group
workspaces produces an informative message.
</li></ul><p>
I only noticed that the value for LoadMonitors was accepted as an integer before:
</p>
<pre class="wiki">w1=Load('MER23092.n001',LoadMonitors=1)
</pre><p>
it used to work. But now it will produce an error
</p>
<pre class="wiki">home/fedemp/test/build-mantid/bin/mantid/simpleapi.pyc in Load(Filename, **kwargs)
    109             logger.warning("You've passed a property (%s) to Load() that doesn't apply to this file type." % key)
    110             del final_keywords[key]
--&gt; 111     _set_properties(algm, **final_keywords)
    112     algm.execute()
    113 

/home/fedemp/test/build-mantid/bin/mantid/simpleapi.pyc in _set_properties(alg_object, *args, **kwargs)
    530             alg_object.setPropertyValue(key, value.name())
    531         else:
--&gt; 532             alg_object.setProperty(key, value)
    533 
    534 def _create_algorithm_function(algorithm, version, _algm_object):

TypeError: No registered converter was able to produce a C++ rvalue of type std::string from this Python object of type int
</pre><p>
This must be related to other ongoing changes that I'm not directly
aware of, as it also affects other types of files.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-25">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:25" class="cnum">
      <a href="9989.html#comment:25">comment:25</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-10-31T17%3A09%3A59Z&amp;precision=second" title="2014-10-31T17:09:59Z in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
Merge branch 'master' into bugfix/9989_LoadISISNexusAndMonitors
</p>
<p>
Full changeset: <a class="ext-link" href="https://github.com/mantidproject/mantid/commit/93df62213e29d30b7cc8f9a5d95467e48fbf36ed"><span class="icon">​</span>93df62213e29d30b7cc8f9a5d95467e48fbf36ed</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-26">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:26" class="cnum">
      <a href="9989.html#comment:26">comment:26</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-10-31T17%3A09%3A59Z&amp;precision=second" title="2014-10-31T17:09:59Z in Timeline">6 years</a> ago by Federico Montesino Pouzols
                </h3>
                
    <div class="comment searchable">
      
      <p>
Merge remote-tracking branch 'origin/bugfix/9989_LoadISISNexusAndMonitors'
</p>
<p>
Full changeset: <a class="ext-link" href="https://github.com/mantidproject/mantid/commit/acfcb3fce4db1ac91c21482a32667d2ead741794"><span class="icon">​</span>acfcb3fce4db1ac91c21482a32667d2ead741794</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-27">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:27" class="cnum">
      <a href="9989.html#comment:27">comment:27</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T03%3A41%3A03%2B01%3A00&amp;precision=second" title="2015-06-04T03:41:03+01:00 in Timeline">5 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
This ticket has been transferred to github issue <a class="ext-link" href="http://github.com/mantidproject/mantid/issues/10831"><span class="icon">​</span>10831</a>
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/9989?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/9989?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/9989?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.5</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
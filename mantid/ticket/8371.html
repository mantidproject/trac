<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      #8371 (Quick to Algorithms)
     â€“ Mantid Project
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="8370.html" title="Ticket #8370" />
        <link rel="last" href="11888.html" title="Ticket #11888" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/8371?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/8371?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/8371?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="8372.html" title="Ticket #8372" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mantid Project" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="a82fe30e7bef2e30fd2838e9";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/mantid/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 8371, escape_newlines: 0}
        $("#comment").autoPreview("/mantid/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/mantid/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.mantidproject.org/"><img src="../chrome/site/mantid_logo_with_name.png" alt="Mantid Logo" width="250" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://trac.mantidproject.org/mantid/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="8370.html" title="Ticket #8370">Previous Ticket</a></span></li><li><span><a class="next" href="8372.html" title="Ticket #8372">Next Ticket</a> &rarr;</span></li><li class="last"><a href="../depgraph/8371.html">Depgraph</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="8371.html">Ticket #8371</a>
          <span class="status">(closed: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-05T14%3A19%3A01Z&amp;precision=second" title="2013-11-05T14:19:01Z in Timeline">7 years</a> ago</p>
    <p>Last modified <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T02%3A34%3A00%2B01%3A00&amp;precision=second" title="2015-06-04T02:34:00+01:00 in Timeline">5 years</a> ago</p>
  </div>
  <h2 class="summary searchable">Quick to Algorithms</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;reporter=Owen+Arnold">Owen Arnold</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;owner=Owen+Arnold">Owen Arnold</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;priority=blocker">blocker</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="../milestone/Release&#32;3.1.html">Release 3.1</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;component=Reflectometry">Reflectometry</a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby"><span><a class="closed ticket" href="8372.html" title="Quick to Lam">#8372</a></span></td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking"><span><a class="closed ticket" href="8583.html" title="Division by zero in quick">#8583</a>, <a class="closed ticket" href="8588.html" title="Python Algorithm Decorator">#8588</a>, <a class="closed ticket" href="8617.html" title="ReflectometryReductionOneAuto">#8617</a>, <a class="closed ticket" href="8618.html" title="ReflectometryReductionOneAuto">#8618</a></span></td>
        <th id="h_tester">
          Tester:
        </th>
        <td headers="h_tester">
              Peter Parker
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
    </h3>
    <div class="searchable">
      <p>
Users want the quick script to be turned into a decent set of Mantid algorithms. Then gut quick. Later on kill the quick script altogether. 
</p>
<p>
1 Week
</p>

    </div>
  </div>
</div>
          

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="8371.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-05T14%3A22%3A20Z&amp;precision=second" title="2013-11-05T14:22:20Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocking</strong>
        <em>8372</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="8371.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-26T12%3A34%3A34Z&amp;precision=second" title="2013-11-26T12:34:34Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocking</strong>
        <em>8372</em> removed
    </li><li>
      <strong>Blocked By</strong>
        <em>8372</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="8371.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-26T16%3A17%3A45Z&amp;precision=second" title="2013-11-26T16:17:45Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
Latest idea is to have this algorithm as a c++ workflow algorithm with a top level algorithm called something like "RefelectometryReduction" to be implemented shortly.
</p>
<p>
My feeling is that we shouldn't call this algorithm 'Quick' even though It would be the easiest go-to for the users. I think something like ReflectometryRecuctionOne, to highlight that this algorithm is only handling the reduction for a single run. I'm sure the users will want me to rename it to something else in the near future, but I'll go with that for now.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="8371.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-28T17%3A24%3A26Z&amp;precision=second" title="2013-11-28T17:24:26Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>inprogress</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. Template for quick algorithm.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/29e776f5d82254fc0bf7c95b26edc22ba57403ea" title="29e776f5d82254fc0bf7c95b26edc22ba57403ea">29e776f5d82254fc0bf7c95b26edc22ba57403ea</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="8371.html#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-28T17%3A24%3A26Z&amp;precision=second" title="2013-11-28T17:24:26Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. Sketch out workflow inputs.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/8346d00fef1b606258b58715908a091ca283671a" title="8346d00fef1b606258b58715908a091ca283671a">8346d00fef1b606258b58715908a091ca283671a</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="8371.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-28T17%3A24%3A26Z&amp;precision=second" title="2013-11-28T17:24:26Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. Extend inputs and test to make more like quick.
</p>
<p>
A new builder has been added to the test class, which can dynamically create builders around mantid algorithms. This is used to create a standard algorithm for testing, which can be copied around before executing. This is probably generally useful for python unit testing.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/bcc568323fa958817b0708ef08086b4dd4bf6fef" title="bcc568323fa958817b0708ef08086b4dd4bf6fef">bcc568323fa958817b0708ef08086b4dd4bf6fef</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="8371.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-29T16%3A59%3A48Z&amp;precision=second" title="2013-11-29T16:59:48Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. Background and integration limit inputs.
</p>
<p>
These are very different to the overall wavelength min and max inputs already provided. Extend test coverage for these.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/dffbce2599ee7180d2b44381c66127a3cfa6eb66" title="dffbce2599ee7180d2b44381c66127a3cfa6eb66">dffbce2599ee7180d2b44381c66127a3cfa6eb66</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="8371.html#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-29T16%3A59%3A49Z&amp;precision=second" title="2013-11-29T16:59:49Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. Better logic around transmission runs.
</p>
<p>
More tests, and also testing around workspace index lists.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/609be63ed10ba16186c98e9685071b6679bf6504" title="609be63ed10ba16186c98e9685071b6679bf6504">609be63ed10ba16186c98e9685071b6679bf6504</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="8371.html#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-29T16%3A59%3A49Z&amp;precision=second" title="2013-11-29T16:59:49Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. Region of interest direct beam.
</p>
<p>
Read property if not point detector mode. Quit if point detector mode.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/74f76827a805a3b1ecb09376ca68daeb22209f8b" title="74f76827a805a3b1ecb09376ca68daeb22209f8b">74f76827a805a3b1ecb09376ca68daeb22209f8b</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="8371.html#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-03T12%3A38%3A59Z&amp;precision=second" title="2013-12-03T12:38:59Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. Extend and refactor inputs.
</p>
<p>
Extend checking for roi and db inputs. Refactor validation and setting of inputs out into separate methods where possible to separate from future processing logic.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/5bd84ec3b496acf4acab0daf918af24ee81c373c" title="5bd84ec3b496acf4acab0daf918af24ee81c373c">5bd84ec3b496acf4acab0daf918af24ee81c373c</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="8371.html#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-03T12%3A38%3A59Z&amp;precision=second" title="2013-12-03T12:38:59Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. toLam functionality implemented.
</p>
<p>
Start work on toLam functionality using convert_to_wavlength.py as guide. Only the detector side of things has been implemented thus far, but test coverage is quite good, and I have implemented the pieces that mean that detector id ranges can be used.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/a7ce35c3bcb469943bfb66163ddfbfbfbb82ea5d" title="a7ce35c3bcb469943bfb66163ddfbfbfbb82ea5d">a7ce35c3bcb469943bfb66163ddfbfbfbb82ea5d</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="8371.html#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-03T12%3A38%3A59Z&amp;precision=second" title="2013-12-03T12:38:59Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. Handle detectors and monitors in toLam.
</p>
<p>
Extend tests and functionality to handle monitor conversion and flat background correction.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/7b6a36bd8d7da39791dc52cbad30a80be97729e7" title="7b6a36bd8d7da39791dc52cbad30a80be97729e7">7b6a36bd8d7da39791dc52cbad30a80be97729e7</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="8371.html#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-04T11%3A03%3A32Z&amp;precision=second" title="2013-12-04T11:03:32Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. Refactor toLam code. Method too large.
</p>
<p>
Better to break this function up into its monitor and detector components.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/a0ca7a54c5601edcdc8033b6da958933360a7aae" title="a0ca7a54c5601edcdc8033b6da958933360a7aae">a0ca7a54c5601edcdc8033b6da958933360a7aae</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-14">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:14" class="cnum">
      <a href="8371.html#comment:14">comment:14</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-04T11%3A03%3A32Z&amp;precision=second" title="2013-12-04T11:03:32Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. Transmission correction function added.
</p>
<p>
Basic transmission correction functionality. Will need refactoring as we go along. Only working for point detector mode with a single transmission workspace at the moment. No stitching yet.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/3adcfcd773fa4844983a44820fdbfa5a3b5db5a9" title="3adcfcd773fa4844983a44820fdbfa5a3b5db5a9">3adcfcd773fa4844983a44820fdbfa5a3b5db5a9</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-15">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:15" class="cnum">
      <a href="8371.html#comment:15">comment:15</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-04T11%3A03%3A32Z&amp;precision=second" title="2013-12-04T11:03:32Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. Transmission correction with two corrections.
</p>
<p>
This involves using Stitch1D (currently a python algorithm). In order to do this I need to work around this interface a little by pushing the input workspaces into the ADS prior to algorithm execution, and cleaning them out again afterwards. When I move Stitch1D to be a c++ algorithm, I will no longer need to do this. More refactoring work is required around these new features.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/4d78e0a2023c3a200580d9bbaa09fc95719c7657" title="4d78e0a2023c3a200580d9bbaa09fc95719c7657">4d78e0a2023c3a200580d9bbaa09fc95719c7657</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-16">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:16" class="cnum">
      <a href="8371.html#comment:16">comment:16</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-04T11%3A03%3A32Z&amp;precision=second" title="2013-12-04T11:03:32Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. Make StartOverlap and EndOverlap properties.
</p>
<p>
Previously these were hard-coded in the quick scripts, but it's very important that they are exposed.
Add checking and tests around these features. Refactoring step required to separate validation from setting of these optional parameters.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/ed4858b34fee1abb6abc606157d94ef9aa2d5abf" title="ed4858b34fee1abb6abc606157d94ef9aa2d5abf">ed4858b34fee1abb6abc606157d94ef9aa2d5abf</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-17">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:17" class="cnum">
      <a href="8371.html#comment:17">comment:17</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-04T11%3A03%3A33Z&amp;precision=second" title="2013-12-04T11:03:33Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. Intermediate refactoring.
</p>
<p>
Refactoring before I start tackling the rest of the multi-detector options, and IvsQ aspects of the conversion. Improve the documentation and make the methods const where possible.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/1b7e2bcd85fe689577b79a8564d8d27091b9060a" title="1b7e2bcd85fe689577b79a8564d8d27091b9060a">1b7e2bcd85fe689577b79a8564d8d27091b9060a</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-18">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:18" class="cnum">
      <a href="8371.html#comment:18">comment:18</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-04T17%3A07%3A23Z&amp;precision=second" title="2013-12-04T17:07:23Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. Explicit rebin and fix tests.
</p>
<p>
I have used the existing quick functionality to check that everything up to and including the transmission correction functionality for point detectors is working (Have a script for this). Remove the Align bins and explicitly renin, although the wavelength step is hard-coded, and should probably be exposed.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/3f14bed1160c2c85d0b8b9eeb3c758fb5a7d6224" title="3f14bed1160c2c85d0b8b9eeb3c758fb5a7d6224">3f14bed1160c2c85d0b8b9eeb3c758fb5a7d6224</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-19">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:19" class="cnum">
      <a href="8371.html#comment:19">comment:19</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-04T17%3A12%3A13Z&amp;precision=second" title="2013-12-04T17:12:13Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <div class="code"><pre>
<span class="k">class</span> <span class="nc">ReflectometryQuick</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
  
    <span class="k">def</span> <span class="nf">runTest</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        defaultInstKey <span class="o">=</span> <span class="s">'default.instrument'</span>
        defaultInstrument <span class="o">=</span> config<span class="p">[</span>defaultInstKey<span class="p">]</span>
        
        config<span class="p">[</span>defaultInstKey<span class="p">]</span> <span class="o">=</span> <span class="s">'INTER'</span>
        LoadISISNexus<span class="p">(</span>Filename<span class="o">=</span><span class="s">'13463'</span><span class="p">,</span> OutputWorkspace<span class="o">=</span><span class="s">'13463'</span><span class="p">)</span>
        LoadISISNexus<span class="p">(</span>Filename<span class="o">=</span><span class="s">'13464'</span><span class="p">,</span> OutputWorkspace<span class="o">=</span><span class="s">'13464'</span><span class="p">)</span>
        LoadISISNexus<span class="p">(</span>Filename<span class="o">=</span><span class="s">'13460'</span><span class="p">,</span> OutputWorkspace<span class="o">=</span><span class="s">'13460'</span><span class="p">)</span>
    
        transmissionRuns <span class="o">=</span> <span class="s">'13463,13464'</span>
        <span class="c">#transmissionRuns = '13463'</span>
        runNo <span class="o">=</span> <span class="s">'13460'</span>
        incidentAngle <span class="o">=</span> <span class="mf">0.7</span>
        quick<span class="o">.</span>quick<span class="p">(</span>runNo<span class="p">,</span> trans<span class="o">=</span>transmissionRuns<span class="p">,</span> theta<span class="o">=</span>incidentAngle<span class="p">)</span> 
        
        defaults <span class="o">=</span>quick<span class="o">.</span>get_defaults<span class="p">(</span>mtd<span class="p">[</span><span class="s">'13460'</span><span class="p">])</span>
        <span class="k">print</span> defaults

        config<span class="p">[</span>defaultInstKey<span class="p">]</span> <span class="o">=</span> defaultInstrument
        
        <span class="c"># new is in lambda! later it will be in IvsQ</span>
        new_IvsLam <span class="o">=</span> ReflectometryReductionOne<span class="p">(</span>InputWorkspace<span class="o">=</span><span class="s">'13460'</span><span class="p">,</span> WavelengthMin<span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> WavelengthMax<span class="o">=</span><span class="mf">17.0</span><span class="p">,</span> MonitorBackgroundWavelengthMin<span class="o">=</span><span class="mf">15.0</span><span class="p">,</span> MonitorBackgroundWavelengthMax<span class="o">=</span><span class="mf">17.0</span><span class="p">,</span> I0MonitorIndex<span class="o">=</span><span class="mi">2</span><span class="p">,</span> MonitorIntegrationWavelengthMin<span class="o">=</span><span class="mf">4.0</span><span class="p">,</span> MonitorIntegrationWavelengthMax<span class="o">=</span><span class="mf">10.0</span><span class="p">,</span> WorkspaceIndexList<span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> Params<span class="o">=</span><span class="p">[</span><span class="mf">1.5</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="mi">17</span><span class="p">],</span> StartOverlapQ<span class="o">=</span><span class="mf">10.0</span><span class="p">,</span> EndOverlapQ<span class="o">=</span><span class="mf">12.0</span><span class="p">,</span> FirstTransmissionRun<span class="o">=</span><span class="s">'13463'</span><span class="p">,</span> SecondTransmissionRun<span class="o">=</span><span class="s">'13464'</span><span class="p">)</span>
        
        plotSpectrum<span class="p">([</span>new_IvsLam<span class="p">,</span><span class="s">'13460_IvsLam'</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        
        
test <span class="o">=</span> ReflectometryQuick<span class="p">()</span>
test<span class="o">.</span>runTest<span class="p">()</span>

</pre></div><p>
This has been used to demonstrate the lambda side of the functionality working.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-20">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:20" class="cnum">
      <a href="8371.html#comment:20">comment:20</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-05T11%3A22%3A29Z&amp;precision=second" title="2013-12-05T11:22:29Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. Allow the rebinning step to be specified.
</p>
<p>
This has been hard-coded previously. Better that we allow it to be externally controlled.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/2ce37cdbeaed2d6aa1d2f9bdd0b9fdb50b2c8bc5" title="2ce37cdbeaed2d6aa1d2f9bdd0b9fdb50b2c8bc5">2ce37cdbeaed2d6aa1d2f9bdd0b9fdb50b2c8bc5</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-21">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:21" class="cnum">
      <a href="8371.html#comment:21">comment:21</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-05T11%3A22%3A29Z&amp;precision=second" title="2013-12-05T11:22:29Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. Layout for toQ and pos corrections
</p>
<p>
This functionality was previously wrapped up in the l2q script. However, I'm going to need to merge in changes from master to fully get this working, and i'm also going to need to provide some testing over these features.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/f1965fc38b19e88e78525af085ed6a93d8f39c58" title="f1965fc38b19e88e78525af085ed6a93d8f39c58">f1965fc38b19e88e78525af085ed6a93d8f39c58</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-22">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:22" class="cnum">
      <a href="8371.html#comment:22">comment:22</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-05T13%3A43%3A17Z&amp;precision=second" title="2013-12-05T13:43:17Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. Template for quick algorithm.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/a080c455547a113fdeab59ebe7414faf8b44e41a" title="a080c455547a113fdeab59ebe7414faf8b44e41a">a080c455547a113fdeab59ebe7414faf8b44e41a</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-23">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:23" class="cnum">
      <a href="8371.html#comment:23">comment:23</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-05T13%3A43%3A17Z&amp;precision=second" title="2013-12-05T13:43:17Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. Sketch out workflow inputs.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/22db2a13d33d6fad982f8d97d483b74889288bd7" title="22db2a13d33d6fad982f8d97d483b74889288bd7">22db2a13d33d6fad982f8d97d483b74889288bd7</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-24">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:24" class="cnum">
      <a href="8371.html#comment:24">comment:24</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-05T13%3A43%3A17Z&amp;precision=second" title="2013-12-05T13:43:17Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. Extend inputs and test to make more like quick.
</p>
<p>
A new builder has been added to the test class, which can dynamically create builders around mantid algorithms. This is used to create a standard algorithm for testing, which can be copied around before executing. This is probably generally useful for python unit testing.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/d7fda0ac11e0dca864fe750371ff85cedf641077" title="d7fda0ac11e0dca864fe750371ff85cedf641077">d7fda0ac11e0dca864fe750371ff85cedf641077</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-25">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:25" class="cnum">
      <a href="8371.html#comment:25">comment:25</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-05T13%3A43%3A17Z&amp;precision=second" title="2013-12-05T13:43:17Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. Background and integration limit inputs.
</p>
<p>
These are very different to the overall wavelength min and max inputs already provided. Extend test coverage for these.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/62565b75ae7f51b9639e304ab2311b499cc8a62b" title="62565b75ae7f51b9639e304ab2311b499cc8a62b">62565b75ae7f51b9639e304ab2311b499cc8a62b</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-26">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:26" class="cnum">
      <a href="8371.html#comment:26">comment:26</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-05T13%3A43%3A17Z&amp;precision=second" title="2013-12-05T13:43:17Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. Better logic around transmission runs.
</p>
<p>
More tests, and also testing around workspace index lists.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/248ad715437865e90efa4015fbf0cf90d46b38e8" title="248ad715437865e90efa4015fbf0cf90d46b38e8">248ad715437865e90efa4015fbf0cf90d46b38e8</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-27">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:27" class="cnum">
      <a href="8371.html#comment:27">comment:27</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-05T13%3A43%3A17Z&amp;precision=second" title="2013-12-05T13:43:17Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. Region of interest direct beam.
</p>
<p>
Read property if not point detector mode. Quit if point detector mode.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/974968931477aba474aa335c5e20c222dfe63d58" title="974968931477aba474aa335c5e20c222dfe63d58">974968931477aba474aa335c5e20c222dfe63d58</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-28">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:28" class="cnum">
      <a href="8371.html#comment:28">comment:28</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-05T13%3A43%3A18Z&amp;precision=second" title="2013-12-05T13:43:18Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. Extend and refactor inputs.
</p>
<p>
Extend checking for roi and db inputs. Refactor validation and setting of inputs out into separate methods where possible to separate from future processing logic.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/fa3b19ff5af50bc08718c8e8e05864c2951199b1" title="fa3b19ff5af50bc08718c8e8e05864c2951199b1">fa3b19ff5af50bc08718c8e8e05864c2951199b1</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-29">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:29" class="cnum">
      <a href="8371.html#comment:29">comment:29</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-05T13%3A43%3A18Z&amp;precision=second" title="2013-12-05T13:43:18Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. toLam functionality implemented.
</p>
<p>
Start work on toLam functionality using convert_to_wavlength.py as guide. Only the detector side of things has been implemented thus far, but test coverage is quite good, and I have implemented the pieces that mean that detector id ranges can be used.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/08826bed084801bbd5bf217d9f692057bc9f96bb" title="08826bed084801bbd5bf217d9f692057bc9f96bb">08826bed084801bbd5bf217d9f692057bc9f96bb</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-30">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:30" class="cnum">
      <a href="8371.html#comment:30">comment:30</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-05T13%3A43%3A18Z&amp;precision=second" title="2013-12-05T13:43:18Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. Handle detectors and monitors in toLam.
</p>
<p>
Extend tests and functionality to handle monitor conversion and flat background correction.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/fde013a2118f85959e56f9658f770c81d8fceafc" title="fde013a2118f85959e56f9658f770c81d8fceafc">fde013a2118f85959e56f9658f770c81d8fceafc</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-31">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:31" class="cnum">
      <a href="8371.html#comment:31">comment:31</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-05T13%3A43%3A18Z&amp;precision=second" title="2013-12-05T13:43:18Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. Refactor toLam code. Method too large.
</p>
<p>
Better to break this function up into its monitor and detector components.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/2857bc92990dd3c429a246c1ab42e8b9d1082ce4" title="2857bc92990dd3c429a246c1ab42e8b9d1082ce4">2857bc92990dd3c429a246c1ab42e8b9d1082ce4</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-32">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:32" class="cnum">
      <a href="8371.html#comment:32">comment:32</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-05T13%3A43%3A18Z&amp;precision=second" title="2013-12-05T13:43:18Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. Transmission correction function added.
</p>
<p>
Basic transmission correction functionality. Will need refactoring as we go along. Only working for point detector mode with a single transmission workspace at the moment. No stitching yet.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/48400b677592cc989fe522b7efe18cdbcbd158ce" title="48400b677592cc989fe522b7efe18cdbcbd158ce">48400b677592cc989fe522b7efe18cdbcbd158ce</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-33">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:33" class="cnum">
      <a href="8371.html#comment:33">comment:33</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-05T13%3A43%3A18Z&amp;precision=second" title="2013-12-05T13:43:18Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. Transmission correction with two corrections.
</p>
<p>
This involves using Stitch1D (currently a python algorithm). In order to do this I need to work around this interface a little by pushing the input workspaces into the ADS prior to algorithm execution, and cleaning them out again afterwards. When I move Stitch1D to be a c++ algorithm, I will no longer need to do this. More refactoring work is required around these new features.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/79e85b5d14522ab22951632afa875e15c9fed777" title="79e85b5d14522ab22951632afa875e15c9fed777">79e85b5d14522ab22951632afa875e15c9fed777</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-34">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:34" class="cnum">
      <a href="8371.html#comment:34">comment:34</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-05T13%3A43%3A18Z&amp;precision=second" title="2013-12-05T13:43:18Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. Make StartOverlap and EndOverlap properties.
</p>
<p>
Previously these were hard-coded in the quick scripts, but it's very important that they are exposed.
Add checking and tests around these features. Refactoring step required to separate validation from setting of these optional parameters.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/3b45a3c021af7525f2b5871f378397abbb6b14ab" title="3b45a3c021af7525f2b5871f378397abbb6b14ab">3b45a3c021af7525f2b5871f378397abbb6b14ab</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-35">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:35" class="cnum">
      <a href="8371.html#comment:35">comment:35</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-05T13%3A43%3A18Z&amp;precision=second" title="2013-12-05T13:43:18Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. Intermediate refactoring.
</p>
<p>
Refactoring before I start tackling the rest of the multi-detector options, and IvsQ aspects of the conversion. Improve the documentation and make the methods const where possible.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/a02c311f047b873543c6864c8cb89d10d0b3e819" title="a02c311f047b873543c6864c8cb89d10d0b3e819">a02c311f047b873543c6864c8cb89d10d0b3e819</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-36">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:36" class="cnum">
      <a href="8371.html#comment:36">comment:36</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-05T13%3A43%3A19Z&amp;precision=second" title="2013-12-05T13:43:19Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. Explicit rebin and fix tests.
</p>
<p>
I have used the existing quick functionality to check that everything up to and including the transmission correction functionality for point detectors is working (Have a script for this). Remove the Align bins and explicitly renin, although the wavelength step is hard-coded, and should probably be exposed.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/f572122a565901cf337c081d12c5c97b42937561" title="f572122a565901cf337c081d12c5c97b42937561">f572122a565901cf337c081d12c5c97b42937561</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-37">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:37" class="cnum">
      <a href="8371.html#comment:37">comment:37</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-05T13%3A43%3A19Z&amp;precision=second" title="2013-12-05T13:43:19Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. Allow the rebinning step to be specified.
</p>
<p>
This has been hard-coded previously. Better that we allow it to be externally controlled.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/34cbcbbe88683032e0a89a471b4e06c46504f01a" title="34cbcbbe88683032e0a89a471b4e06c46504f01a">34cbcbbe88683032e0a89a471b4e06c46504f01a</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-38">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:38" class="cnum">
      <a href="8371.html#comment:38">comment:38</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-05T13%3A43%3A19Z&amp;precision=second" title="2013-12-05T13:43:19Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. Layout for toQ and pos corrections
</p>
<p>
This functionality was previously wrapped up in the l2q script. However, I'm going to need to merge in changes from master to fully get this working, and i'm also going to need to provide some testing over these features.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/de39927f6070e22de7b53153821be63fc4fa1c84" title="de39927f6070e22de7b53153821be63fc4fa1c84">de39927f6070e22de7b53153821be63fc4fa1c84</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-39">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:39" class="cnum">
      <a href="8371.html#comment:39">comment:39</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-05T17%3A16%3A14Z&amp;precision=second" title="2013-12-05T17:16:14Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. Get working with move instrument components.
</p>
<p>
Comments on what needs doing next for the point detector run.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/9b8a7e07a827026458d6ff83a635c2729081188c" title="9b8a7e07a827026458d6ff83a635c2729081188c">9b8a7e07a827026458d6ff83a635c2729081188c</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-40">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:40" class="cnum">
      <a href="8371.html#comment:40">comment:40</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-09T11%3A43%3A37Z&amp;precision=second" title="2013-12-09T11:43:37Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. Multiple output workspaces supported.
</p>
<p>
There is a need to fetch out the full q-workspace as well as the intermediate lam-workspace.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/b5755fe33aa21587e0cffba3a9c799cffc68aa8a" title="b5755fe33aa21587e0cffba3a9c799cffc68aa8a">b5755fe33aa21587e0cffba3a9c799cffc68aa8a</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-41">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:41" class="cnum">
      <a href="8371.html#comment:41">comment:41</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-09T11%3A44%3A59Z&amp;precision=second" title="2013-12-09T11:44:59Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
The following python script shows this working in point detector mode with a supplied theta value.
</p>
<div class="code"><pre><span class="kn">from</span> <span class="nn">mantid.simpleapi</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">isis_reflectometry</span> <span class="kn">import</span> quick
<span class="nb">reload</span><span class="p">(</span>quick<span class="p">)</span>

<span class="k">class</span> <span class="nc">ReflectometryQuick</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
  
    <span class="k">def</span> <span class="nf">runTest</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        defaultInstKey <span class="o">=</span> <span class="s">'default.instrument'</span>
        defaultInstrument <span class="o">=</span> config<span class="p">[</span>defaultInstKey<span class="p">]</span>
        
        config<span class="p">[</span>defaultInstKey<span class="p">]</span> <span class="o">=</span> <span class="s">'INTER'</span>
        LoadISISNexus<span class="p">(</span>Filename<span class="o">=</span><span class="s">'13463'</span><span class="p">,</span> OutputWorkspace<span class="o">=</span><span class="s">'13463'</span><span class="p">)</span>
        LoadISISNexus<span class="p">(</span>Filename<span class="o">=</span><span class="s">'13464'</span><span class="p">,</span> OutputWorkspace<span class="o">=</span><span class="s">'13464'</span><span class="p">)</span>
        LoadISISNexus<span class="p">(</span>Filename<span class="o">=</span><span class="s">'13460'</span><span class="p">,</span> OutputWorkspace<span class="o">=</span><span class="s">'13460'</span><span class="p">)</span>
    
        transmissionRuns <span class="o">=</span> <span class="s">'13463,13464'</span>
        <span class="c">#transmissionRuns = '13463'</span>
        runNo <span class="o">=</span> <span class="s">'13460'</span>
        incidentAngle <span class="o">=</span> <span class="mf">0.7</span>
        quick<span class="o">.</span>quick<span class="p">(</span>runNo<span class="p">,</span> trans<span class="o">=</span>transmissionRuns<span class="p">,</span> theta<span class="o">=</span>incidentAngle<span class="p">)</span> 
        
        defaults <span class="o">=</span>quick<span class="o">.</span>get_defaults<span class="p">(</span>mtd<span class="p">[</span><span class="s">'13460'</span><span class="p">])</span>
        <span class="k">print</span> defaults

        config<span class="p">[</span>defaultInstKey<span class="p">]</span> <span class="o">=</span> defaultInstrument
        
        <span class="c"># new is in lambda! later it will be in IvsQ</span>
        new_IvsQ<span class="p">,</span> new_IvsLam <span class="o">=</span> ReflectometryReductionOne<span class="p">(</span>InputWorkspace<span class="o">=</span><span class="s">'13460'</span><span class="p">,</span> Theta<span class="o">=</span>incidentAngle<span class="p">,</span> WavelengthMin<span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> WavelengthMax<span class="o">=</span><span class="mf">17.0</span><span class="p">,</span> WavelengthStep<span class="o">=</span><span class="mf">0.05</span><span class="p">,</span> MonitorBackgroundWavelengthMin<span class="o">=</span><span class="mf">15.0</span><span class="p">,</span> MonitorBackgroundWavelengthMax<span class="o">=</span><span class="mf">17.0</span><span class="p">,</span> I0MonitorIndex<span class="o">=</span><span class="mi">2</span><span class="p">,</span> MonitorIntegrationWavelengthMin<span class="o">=</span><span class="mf">4.0</span><span class="p">,</span> MonitorIntegrationWavelengthMax<span class="o">=</span><span class="mf">10.0</span><span class="p">,</span> WorkspaceIndexList<span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> Params<span class="o">=</span><span class="p">[</span><span class="mf">1.5</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="mi">17</span><span class="p">],</span> StartOverlapQ<span class="o">=</span><span class="mf">10.0</span><span class="p">,</span> EndOverlapQ<span class="o">=</span><span class="mf">12.0</span><span class="p">,</span> FirstTransmissionRun<span class="o">=</span><span class="s">'13463'</span><span class="p">,</span> SecondTransmissionRun<span class="o">=</span><span class="s">'13464'</span><span class="p">)</span>
        
        plotSpectrum<span class="p">([</span>new_IvsLam<span class="p">,</span><span class="s">'13460_IvsLam'</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        plotSpectrum<span class="p">([</span>new_IvsQ<span class="p">,</span> <span class="s">'13460_IvsQ'</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        
        
test <span class="o">=</span> ReflectometryQuick<span class="p">()</span>
test<span class="o">.</span>runTest<span class="p">()</span>

</pre></div>
    </div>

              </div>
              <div class="change" id="trac-change-42">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:42" class="cnum">
      <a href="8371.html#comment:42">comment:42</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-09T14%3A58%3A10Z&amp;precision=second" title="2013-12-09T14:58:10Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. Possible injection of component names.
</p>
<p>
The component names may be specified externally. That way we have no hard-coded values. The algorithm will guess at component names to use, but will fail if they don't exist and the user can provide these names via the algorithm inputs.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/3da1bf40f7efcf951c96047316e69b9c2de81fb8" title="3da1bf40f7efcf951c96047316e69b9c2de81fb8">3da1bf40f7efcf951c96047316e69b9c2de81fb8</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-43">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:43" class="cnum">
      <a href="8371.html#comment:43">comment:43</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-09T14%3A58%3A10Z&amp;precision=second" title="2013-12-09T14:58:10Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. Calculate theta if not given.
</p>
<p>
This replicates the current functionality of quick. Tests show this working. Results have been compared to existing quick script.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/48da2d18e699032c633a493d7ed0661e71798fe7" title="48da2d18e699032c633a493d7ed0661e71798fe7">48da2d18e699032c633a493d7ed0661e71798fe7</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-44">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:44" class="cnum">
      <a href="8371.html#comment:44">comment:44</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-10T12%3A23%3A11Z&amp;precision=second" title="2013-12-10T12:23:11Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. Ready for multi-detector implementation.
</p>
<p>
Disable properties that are not relevant in the gui between multi detector and line detector analysis modes. Move code to common blocks where possible.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/cea4f06eacfdb65c1afed5b24c4b028716a74547" title="cea4f06eacfdb65c1afed5b24c4b028716a74547">cea4f06eacfdb65c1afed5b24c4b028716a74547</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-45">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:45" class="cnum">
      <a href="8371.html#comment:45">comment:45</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-10T12%3A23%3A11Z&amp;precision=second" title="2013-12-10T12:23:11Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. Multi-detector processing.
</p>
<p>
Multidetector processing using roi and db. The normalisation step seems to be missing from the original quick script, but it probably should have been there. This will require further validation.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/dfb6d52774f404de64db2dcf8112b12f1fcb48b0" title="dfb6d52774f404de64db2dcf8112b12f1fcb48b0">dfb6d52774f404de64db2dcf8112b12f1fcb48b0</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-46">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:46" class="cnum">
      <a href="8371.html#comment:46">comment:46</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-10T12%3A23%3A11Z&amp;precision=second" title="2013-12-10T12:23:11Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. Re-adjust input layout.
</p>
<p>
This is a workflow algorithm with a log of input properties. Lets help the user narrow down the choices that can be made.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/cdd7505a277f9266985c47cb10a5a0683f95bc5b" title="cdd7505a277f9266985c47cb10a5a0683f95bc5b">cdd7505a277f9266985c47cb10a5a0683f95bc5b</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-47">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:47" class="cnum">
      <a href="8371.html#comment:47">comment:47</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-10T13%3A41%3A18Z&amp;precision=second" title="2013-12-10T13:41:18Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. Build on windows and fix warnings.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/410924fdd0d5c10759a953f752140d4839deb9f8" title="410924fdd0d5c10759a953f752140d4839deb9f8">410924fdd0d5c10759a953f752140d4839deb9f8</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-48">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:48" class="cnum">
      <a href="8371.html#comment:48">comment:48</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-10T13%3A55%3A09Z&amp;precision=second" title="2013-12-10T13:55:09Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocking</strong>
        <em>8583</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-49">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:49" class="cnum">
      <a href="8371.html#comment:49">comment:49</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-10T14%3A28%3A12Z&amp;precision=second" title="2013-12-10T14:28:12Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. Fix unused variable warning.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/536b7a9a2333608c5181fd1fcb5beac92d525756" title="536b7a9a2333608c5181fd1fcb5beac92d525756">536b7a9a2333608c5181fd1fcb5beac92d525756</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-50">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:50" class="cnum">
      <a href="8371.html#comment:50">comment:50</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-10T14%3A31%3A07Z&amp;precision=second" title="2013-12-10T14:31:07Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
Tester: The following script shows this algorithm working against quick. There are some minor differences owing to the fact that we are now providing an explicit rebin rather than using the AlignBins flag. The plots will show that this new algorithm is doing the same job as the old scripts.
</p>
<ul><li>I have provided a large number of unit tests for this functionality. 
</li><li>The code changes are very large (apologies), but isolated to a few files. I don't think there's much point trying to do a thorough code review of these changes.
</li></ul><div class="code"><pre><span class="kn">from</span> <span class="nn">mantid.simpleapi</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">isis_reflectometry</span> <span class="kn">import</span> quick
<span class="nb">reload</span><span class="p">(</span>quick<span class="p">)</span>

<span class="k">class</span> <span class="nc">ReflectometryQuick</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
  
    <span class="k">def</span> <span class="nf">runTest</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        defaultInstKey <span class="o">=</span> <span class="s">'default.instrument'</span>
        defaultInstrument <span class="o">=</span> config<span class="p">[</span>defaultInstKey<span class="p">]</span>
        
        config<span class="p">[</span>defaultInstKey<span class="p">]</span> <span class="o">=</span> <span class="s">'INTER'</span>
        LoadISISNexus<span class="p">(</span>Filename<span class="o">=</span><span class="s">'13463'</span><span class="p">,</span> OutputWorkspace<span class="o">=</span><span class="s">'13463'</span><span class="p">)</span>
        LoadISISNexus<span class="p">(</span>Filename<span class="o">=</span><span class="s">'13464'</span><span class="p">,</span> OutputWorkspace<span class="o">=</span><span class="s">'13464'</span><span class="p">)</span>
        LoadISISNexus<span class="p">(</span>Filename<span class="o">=</span><span class="s">'13460'</span><span class="p">,</span> OutputWorkspace<span class="o">=</span><span class="s">'13460'</span><span class="p">)</span>
    
        transmissionRuns <span class="o">=</span> <span class="s">'13463,13464'</span>
        <span class="c">#transmissionRuns = '13463'</span>
        runNo <span class="o">=</span> <span class="s">'13460'</span>
        incidentAngle <span class="o">=</span> <span class="mf">0.7</span>
        quick<span class="o">.</span>quick<span class="p">(</span>runNo<span class="p">,</span> trans<span class="o">=</span>transmissionRuns<span class="p">)</span> 
        
        defaults <span class="o">=</span>quick<span class="o">.</span>get_defaults<span class="p">(</span>mtd<span class="p">[</span><span class="s">'13460'</span><span class="p">])</span>
        <span class="k">print</span> defaults

        config<span class="p">[</span>defaultInstKey<span class="p">]</span> <span class="o">=</span> defaultInstrument
        
        <span class="c"># new is in lambda! later it will be in IvsQ</span>
        new_IvsQ<span class="p">,</span> new_IvsLam<span class="p">,</span> thetaOut <span class="o">=</span> ReflectometryReductionOne<span class="p">(</span>InputWorkspace<span class="o">=</span><span class="s">'13460'</span><span class="p">,</span> 
                                                                                                                WavelengthMin<span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> 
                                                                                                                WavelengthMax<span class="o">=</span><span class="mf">17.0</span><span class="p">,</span> 
                                                                                                                WavelengthStep<span class="o">=</span><span class="mf">0.05</span><span class="p">,</span> 
                                                                                                                MonitorBackgroundWavelengthMin<span class="o">=</span><span class="mf">15.0</span><span class="p">,</span> 
                                                                                                                MonitorBackgroundWavelengthMax<span class="o">=</span><span class="mf">17.0</span><span class="p">,</span> 
                                                                                                                I0MonitorIndex<span class="o">=</span><span class="mi">2</span><span class="p">,</span> 
                                                                                                                MonitorIntegrationWavelengthMin<span class="o">=</span><span class="mf">4.0</span><span class="p">,</span> 
                                                                                                                MonitorIntegrationWavelengthMax<span class="o">=</span><span class="mf">10.0</span><span class="p">,</span> 
                                                                                                                WorkspaceIndexList<span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> 
                                                                                                                Params<span class="o">=</span><span class="p">[</span><span class="mf">1.5</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="mi">17</span><span class="p">],</span> 
                                                                                                                StartOverlapQ<span class="o">=</span><span class="mf">10.0</span><span class="p">,</span> 
                                                                                                                EndOverlapQ<span class="o">=</span><span class="mf">12.0</span><span class="p">,</span> 
                                                                                                                FirstTransmissionRun<span class="o">=</span><span class="s">'13463'</span><span class="p">,</span> 
                                                                                                                SecondTransmissionRun<span class="o">=</span><span class="s">'13464'</span><span class="p">)</span>
        
        plotSpectrum<span class="p">([</span>new_IvsLam<span class="p">,</span><span class="s">'13460_IvsLam'</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        plotSpectrum<span class="p">([</span>new_IvsQ<span class="p">,</span> <span class="s">'13460_IvsQ'</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        
        
test <span class="o">=</span> ReflectometryQuick<span class="p">()</span>
test<span class="o">.</span>runTest<span class="p">()</span>
</pre></div>
    </div>

                <div class="trac-lastedit ">
                  Last edited <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-10T15%3A10%3A37Z&amp;precision=second" title="2013-12-10T15:10:37Z in Timeline">7 years</a> ago
                      by Owen Arnold
                    (<a href="https://trac.mantidproject.org/mantid/ticket/8371?cversion=0&amp;cnum_hist=50#comment:50">previous</a>)
                    (<a href="https://trac.mantidproject.org/mantid/ticket/8371?action=comment-diff&amp;cnum=50&amp;version=1">diff</a>)
                </div>
              </div>
              <div class="change" id="trac-change-51">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:51" class="cnum">
      <a href="8371.html#comment:51">comment:51</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-10T15%3A00%3A38Z&amp;precision=second" title="2013-12-10T15:00:38Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8371.html" title="enhancement: Quick to Algorithms (closed: fixed)">#8371</a>. Wiki documentation provided.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/306866d0e860318f3a4ff2666c4b28db7c75fa64" title="306866d0e860318f3a4ff2666c4b28db7c75fa64">306866d0e860318f3a4ff2666c4b28db7c75fa64</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-52">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:52" class="cnum">
      <a href="8371.html#comment:52">comment:52</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-10T15%3A01%3A22Z&amp;precision=second" title="2013-12-10T15:01:22Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>inprogress</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-53">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:53" class="cnum">
      <a href="8371.html#comment:53">comment:53</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-10T15%3A17%3A37Z&amp;precision=second" title="2013-12-10T15:17:37Z in Timeline">7 years</a> ago by Peter Parker
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li><li>
      <strong>Tester</strong>
        set to <em>Peter Parker</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-54">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:54" class="cnum">
      <a href="8371.html#comment:54">comment:54</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-10T15%3A46%3A30Z&amp;precision=second" title="2013-12-10T15:46:30Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocking</strong>
        <em>8588</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-55">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:55" class="cnum">
      <a href="8371.html#comment:55">comment:55</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-10T16%3A31%3A50Z&amp;precision=second" title="2013-12-10T16:31:50Z in Timeline">7 years</a> ago by Peter Parker
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>closed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Merge remote-tracking branch 'origin/feature/8371_quick_algorithm'
</p>
<p>
Full changeset: <a class="ext-link" href="https://github.com/mantidproject/mantid/commit/82332bfe4397401d936c3cfde1415cf57f930ac5"><span class="icon">â€‹</span>82332bfe4397401d936c3cfde1415cf57f930ac5</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-56">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:56" class="cnum">
      <a href="8371.html#comment:56">comment:56</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-10T16%3A36%3A16Z&amp;precision=second" title="2013-12-10T16:36:16Z in Timeline">7 years</a> ago by Peter Parker
                </h3>
                
    <div class="comment searchable">
      
      <p>
The script does indeed show the very similar results of running the new algorithm against the old <tt>quick</tt> code.  The unit tests seem ample and are passing.
</p>
<p>
I've raised <a class="closed ticket" href="8591.html" title="defect: Move helper function to anonymous namespace to avoid potential linker ... (closed: fixed)">#8591</a> to move the <tt>checkNotPositive</tt> helper function into the anonymous namespace.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-57">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:57" class="cnum">
      <a href="8371.html#comment:57">comment:57</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-11T08%3A17%3A30Z&amp;precision=second" title="2013-12-11T08:17:30Z in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
    <div class="comment searchable">
      
      <p>
Added note to <a class="closed ticket" href="8591.html" title="defect: Move helper function to anonymous namespace to avoid potential linker ... (closed: fixed)">#8591</a> about addressing compiler warning in ReflectometryReductionOne.cpp.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-58">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:58" class="cnum">
      <a href="8371.html#comment:58">comment:58</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-13T11%3A40%3A55Z&amp;precision=second" title="2013-12-13T11:40:55Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocking</strong>
        <em>8617</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-59">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:59" class="cnum">
      <a href="8371.html#comment:59">comment:59</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-13T13%3A00%3A02Z&amp;precision=second" title="2013-12-13T13:00:02Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocking</strong>
        <em>8618</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-60">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:60" class="cnum">
      <a href="8371.html#comment:60">comment:60</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T02%3A34%3A00%2B01%3A00&amp;precision=second" title="2015-06-04T02:34:00+01:00 in Timeline">5 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
This ticket has been transferred to github issue <a class="ext-link" href="http://github.com/mantidproject/mantid/issues/9216"><span class="icon">â€‹</span>9216</a>
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <script type="text/javascript">
        jQuery.loadStyleSheet("/mantid/pygments/trac.css", "text/css");
    </script>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/8371?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/8371?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/8371?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.5</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
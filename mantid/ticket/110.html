<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      #110 (Alter the Algorithm factory to serve out algorithms based on name and version (not class name))
     – Mantid Project
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="109.html" title="Ticket #109" />
        <link rel="last" href="11888.html" title="Ticket #11888" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/110?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/110?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/110?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="111.html" title="Ticket #111" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mantid Project" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="a82fe30e7bef2e30fd2838e9";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/mantid/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 110, escape_newlines: 0}
        $("#comment").autoPreview("/mantid/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/mantid/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.mantidproject.org/"><img src="../chrome/site/mantid_logo_with_name.png" alt="Mantid Logo" width="250" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://trac.mantidproject.org/mantid/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="109.html" title="Ticket #109">Previous Ticket</a></span></li><li class="last"><span><a class="next" href="111.html" title="Ticket #111">Next Ticket</a> &rarr;</span></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="110.html">Ticket #110</a>
          <span class="status">(closed: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-03-07T16%3A35%3A32Z&amp;precision=second" title="2008-03-07T16:35:32Z in Timeline">13 years</a> ago</p>
    <p>Last modified <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-03T21%3A50%3A53%2B01%3A00&amp;precision=second" title="2015-06-03T21:50:53+01:00 in Timeline">5 years</a> ago</p>
  </div>
  <h2 class="summary searchable">Alter the Algorithm factory to serve out algorithms based on name and version (not class name)</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;reporter=Nick+Draper">Nick Draper</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;owner=Dickon+Champion">Dickon Champion</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;priority=major">major</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="../milestone/Iteration&#32;7.html">Iteration 7</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;component"></a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby"><span></span></td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking"><span></span></td>
        <th id="h_tester">
          Tester:
        </th>
        <td headers="h_tester">
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
    </h3>
    <div class="searchable">
      <p>
The current algorithm factory serves out algorithms based on the class name,  This needs to be changed to work on the internal name method and the version method of the algorithm.
</p>
<p>
Steps:
</p>
<ol><li>Change the Version method on algorithms to return an integer, not a string. You need to check that this does not break the algorithmHistory work.
</li><li>Alter the registration of the algorithm within the factory to use the name and version as the key (this could be done simply by some string concatenation with a seperator).
</li><li>Add a new map to the factory of (string alg_name, string full_key) to hold the key to the most recent algorithm
</li><li>Extend the methods for creating an algorithm with overloads to accept either just a name, or a name and a version.
</li><li>Create(name) should use the new map to look up the most recent version of an lagorithm and use that.
</li><li>Create(name,version) should return the requested version, but should also use the new map to see if a newer version is available and output that as an Information/warning? log message.
</li></ol>
    </div>
  </div>
</div>
          

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="110.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-03-10T14%3A31%3A23Z&amp;precision=second" title="2008-03-10T14:31:23Z in Timeline">13 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Owner</strong>
        set to <em>Dickon Champion</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="110.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-04-17T10%3A39%3A44%2B01%3A00&amp;precision=second" title="2008-04-17T10:39:44+01:00 in Timeline">12 years</a> ago by Dickon Champion
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[878]</a>) re <a class="closed ticket" href="110.html" title="enhancement: Alter the Algorithm factory to serve out algorithms based on name and ... (closed: fixed)">#110</a>
</p>
<p>
implementation of algorithm version convolution in the algorithm factory. more than one version of an algorithm can be registered
</p>
<p>
have edited tests but cannot test they all work on this crummy vista machine
</p>
<p>
need to test on the 32bit box
</p>

    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="110.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-04-17T11%3A47%3A35%2B01%3A00&amp;precision=second" title="2008-04-17T11:47:35+01:00 in Timeline">12 years</a> ago by Dickon Champion
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[879]</a>) re <a class="closed ticket" href="110.html" title="enhancement: Alter the Algorithm factory to serve out algorithms based on name and ... (closed: fixed)">#110</a>
</p>
<p>
fixed some of the tests to work differently, verification of others in due course
</p>

    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="110.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-04-17T15%3A30%3A16%2B01%3A00&amp;precision=second" title="2008-04-17T15:30:16+01:00 in Timeline">12 years</a> ago by Dickon Champion
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[882]</a>) re <a class="closed ticket" href="110.html" title="enhancement: Alter the Algorithm factory to serve out algorithms based on name and ... (closed: fixed)">#110</a>
</p>
<p>
moved macro into Algorithm.h put AlgorithmFactory::subscribe back into .h, extra test errors removed
</p>

    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="110.html#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-04-17T15%3A33%3A05%2B01%3A00&amp;precision=second" title="2008-04-17T15:33:05+01:00 in Timeline">12 years</a> ago by Dickon Champion
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[883]</a>) re <a class="closed ticket" href="110.html" title="enhancement: Alter the Algorithm factory to serve out algorithms based on name and ... (closed: fixed)">#110</a>
</p>
<p>
last case of int version
</p>

    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="110.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-04-17T15%3A37%3A10%2B01%3A00&amp;precision=second" title="2008-04-17T15:37:10+01:00 in Timeline">12 years</a> ago by Dickon Champion
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[884]</a>) re <a class="closed ticket" href="110.html" title="enhancement: Alter the Algorithm factory to serve out algorithms based on name and ... (closed: fixed)">#110</a>
</p>
<p>
try out declaration of Algorithm.h in AlgorithmFactory.cpp
</p>

    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="110.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-04-17T16%3A42%3A08%2B01%3A00&amp;precision=second" title="2008-04-17T16:42:08+01:00 in Timeline">12 years</a> ago by Dickon Champion
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[886]</a>) re <a class="closed ticket" href="110.html" title="enhancement: Alter the Algorithm factory to serve out algorithms based on name and ... (closed: fixed)">#110</a>
</p>
<p>
small typo in test function
</p>

    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="110.html#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-04-17T16%3A49%3A48%2B01%3A00&amp;precision=second" title="2008-04-17T16:49:48+01:00 in Timeline">12 years</a> ago by Nick Draper
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[887]</a>) re <a class="closed ticket" href="110.html" title="enhancement: Alter the Algorithm factory to serve out algorithms based on name and ... (closed: fixed)">#110</a>
</p>
<p>
This should work better in linux now
</p>

    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="110.html#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-04-17T16%3A54%3A11%2B01%3A00&amp;precision=second" title="2008-04-17T16:54:11+01:00 in Timeline">12 years</a> ago by Dickon Champion
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[888]</a>) re <a class="closed ticket" href="110.html" title="enhancement: Alter the Algorithm factory to serve out algorithms based on name and ... (closed: fixed)">#110</a>
stupid stupid HelloWorldAlgorithm
</p>

    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="110.html#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-04-17T16%3A54%3A49%2B01%3A00&amp;precision=second" title="2008-04-17T16:54:49+01:00 in Timeline">12 years</a> ago by Nick Draper
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[889]</a>) re <a class="closed ticket" href="110.html" title="enhancement: Alter the Algorithm factory to serve out algorithms based on name and ... (closed: fixed)">#110</a>
</p>
<p>
One more try, I'm suprised VS allowed worked without the correct scope being defined
</p>

    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="110.html#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-04-17T16%3A59%3A50%2B01%3A00&amp;precision=second" title="2008-04-17T16:59:50+01:00 in Timeline">12 years</a> ago by Nick Draper
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[890]</a>) re <a class="closed ticket" href="110.html" title="enhancement: Alter the Algorithm factory to serve out algorithms based on name and ... (closed: fixed)">#110</a>
</p>
<p>
More of the same thins but now in the cpp
</p>

    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="110.html#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-04-17T17%3A11%3A21%2B01%3A00&amp;precision=second" title="2008-04-17T17:11:21+01:00 in Timeline">12 years</a> ago by Dickon Champion
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>closed</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[891]</a>) fixes <a class="closed ticket" href="110.html" title="enhancement: Alter the Algorithm factory to serve out algorithms based on name and ... (closed: fixed)">#110</a>
</p>
<p>
final fix of  HelloWorldAlgorithm
</p>

    </div>

              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="110.html#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-03T21%3A50%3A53%2B01%3A00&amp;precision=second" title="2015-06-03T21:50:53+01:00 in Timeline">5 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
This ticket has been transferred to github issue <a class="ext-link" href="http://github.com/mantidproject/mantid/issues/958"><span class="icon">​</span>958</a>
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/110?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/110?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/110?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.5</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
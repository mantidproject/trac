<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      #53 (Implement a Mapping table in the Geometry to allow grouping of detectors to spectra)
     â€“ Mantid Project
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="52.html" title="Ticket #52" />
        <link rel="last" href="525.html" title="Ticket #525" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/53?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/53?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/53?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="up" href="https://trac.mantidproject.org/mantid/report/27?asc=1&amp;page=1" />
        <link rel="next" href="56.html" title="Ticket #56" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mantid Project" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="a82fe30e7bef2e30fd2838e9";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/mantid/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 53, escape_newlines: 0}
        $("#comment").autoPreview("/mantid/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/mantid/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.mantidproject.org/"><img src="../chrome/site/mantid_logo_with_name.png" alt="Mantid Logo" width="250" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://trac.mantidproject.org/mantid/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="52.html" title="Ticket #52">Previous Ticket</a></span></li><li><a href="https://trac.mantidproject.org/mantid/report/27?asc=1&amp;page=1">Back to Query</a></li><li class="last"><span><a class="next" href="56.html" title="Ticket #56">Next Ticket</a> &rarr;</span></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="53.html">Ticket #53</a>
          <span class="status">(closed: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2007-11-05T15%3A53%3A45Z&amp;precision=second" title="2007-11-05T15:53:45Z in Timeline">13 years</a> ago</p>
    <p>Last modified <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-03T21%3A50%3A25%2B01%3A00&amp;precision=second" title="2015-06-03T21:50:25+01:00 in Timeline">5 years</a> ago</p>
  </div>
  <h2 class="summary searchable">Implement a Mapping table in the Geometry to allow grouping of detectors to spectra</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;reporter=Nick+Draper">Nick Draper</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;owner=Laurent+Chapon">Laurent Chapon</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;priority=blocker">blocker</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="../milestone/Iteration&#32;9.html">Iteration 9</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;component"></a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby"><span></span></td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking"><span></span></td>
        <th id="h_tester">
          Tester:
        </th>
        <td headers="h_tester">
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
      <span class="lastmod" title="2008-04-25 07:34:42+00:00">
        (last modified by Nick Draper)
        (<a href="https://trac.mantidproject.org/mantid/ticket/53?action=diff&amp;version=10">diff</a>)
      </span>
    </h3>
    <div class="searchable">
      <p>
Use a mapping table to allow algorithms to select which dectectors contribute to a spectra.
This should allow
</p>
<ul><li>1-1
</li><li>1-many
</li><li>many dectectors to many sectra
</li></ul><p>
We need the detector groupd returned from a call to be able to support the same geometry operations (length angles etc).
</p>

    </div>
  </div>
</div>
          

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="53.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2007-11-05T15%3A53%3A59Z&amp;precision=second" title="2007-11-05T15:53:59Z in Timeline">13 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Description</strong>
        modified (<a href="https://trac.mantidproject.org/mantid/ticket/53?action=diff&amp;version=1">diff</a>)
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="53.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2007-12-03T15%3A02%3A43Z&amp;precision=second" title="2007-12-03T15:02:43Z in Timeline">13 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Description</strong>
        modified (<a href="https://trac.mantidproject.org/mantid/ticket/53?action=diff&amp;version=2">diff</a>)
    </li><li>
      <strong>Milestone</strong>
        changed from <em>Iteration 3</em> to <em>Iteration 4</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
moved to iteration 4
</p>

    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="53.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-02-11T13%3A02%3A48Z&amp;precision=second" title="2008-02-11T13:02:48Z in Timeline">13 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>Iteration 4</em> to <em>Iteration 5</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="53.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-02-14T14%3A23%3A49Z&amp;precision=second" title="2008-02-14T14:23:49Z in Timeline">13 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Owner</strong>
        <em>Laurent Chapon</em> deleted
    </li><li>
      <strong>Milestone</strong>
        changed from <em>Iteration 5</em> to <em>Iteration 6</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="53.html#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-03-10T14%3A09%3A21Z&amp;precision=second" title="2008-03-10T14:09:21Z in Timeline">13 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>Iteration 6</em> to <em>Iteration 7</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="53.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-03-18T15%3A05%3A23Z&amp;precision=second" title="2008-03-18T15:05:23Z in Timeline">13 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Owner</strong>
        set to <em>Laurent Chapon</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="53.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-04-09T14%3A25%3A06%2B01%3A00&amp;precision=second" title="2008-04-09T14:25:06+01:00 in Timeline">13 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Owner</strong>
        changed from <em>Laurent Chapon</em> to <em>Russell Taylor</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="53.html#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-04-15T16%3A13%3A56%2B01%3A00&amp;precision=second" title="2008-04-15T16:13:56+01:00 in Timeline">12 years</a> ago by Russell Taylor
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>closed</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[876]</a>) Version 1 of a virtual/effective/grouped detector for holding a collection of detectors. Fixes <a class="closed ticket" href="53.html" title="enhancement: Implement a Mapping table in the Geometry to allow grouping of detectors ... (closed: fixed)">#53</a>. Re <a class="closed ticket" href="103.html" title="enhancement: Create a virtual (or effective) detector class (closed: fixed)">#103</a>.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="53.html#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-04-25T08%3A33%3A59%2B01%3A00&amp;precision=second" title="2008-04-25T08:33:59+01:00 in Timeline">12 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>closed</em> to <em>reopened</em>
    </li><li>
      <strong>Resolution</strong>
        <em>fixed</em> deleted
    </li><li>
      <strong>Milestone</strong>
        changed from <em>Iteration 7</em> to <em>Iteration 8</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="53.html#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-04-25T08%3A34%3A42%2B01%3A00&amp;precision=second" title="2008-04-25T08:34:42+01:00 in Timeline">12 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>reopened</em> to <em>new</em>
    </li><li>
      <strong>Owner</strong>
        changed from <em>Russell Taylor</em> to <em>Laurent Chapon</em>
    </li><li>
      <strong>Description</strong>
        modified (<a href="https://trac.mantidproject.org/mantid/ticket/53?action=diff&amp;version=10">diff</a>)
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="53.html#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-04-25T11%3A39%3A17%2B01%3A00&amp;precision=second" title="2008-04-25T11:39:17+01:00 in Timeline">12 years</a> ago by Freddie Akeroyd
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[914]</a>) Add in an option not to read the raw data to make getting detector information
quicker. Refs <a class="closed ticket" href="53.html" title="enhancement: Implement a Mapping table in the Geometry to allow grouping of detectors ... (closed: fixed)">#53</a>.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="53.html#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-04-28T14%3A00%3A27%2B01%3A00&amp;precision=second" title="2008-04-28T14:00:27+01:00 in Timeline">12 years</a> ago by Laurent Chapon
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[919]</a>) re <a class="closed ticket" href="53.html" title="enhancement: Implement a Mapping table in the Geometry to allow grouping of detectors ... (closed: fixed)">#53</a>
</p>
<p>
Change Workspace Class to hold a shared pointer to an Instrument rather than an in stance of an instrument. Propagated changes to various other files using the Workspace implementation.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="53.html#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-04-28T14%3A05%3A36%2B01%3A00&amp;precision=second" title="2008-04-28T14:05:36+01:00 in Timeline">12 years</a> ago by Laurent Chapon
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[920]</a>) re <a class="closed ticket" href="53.html" title="enhancement: Implement a Mapping table in the Geometry to allow grouping of detectors ... (closed: fixed)">#53</a>
</p>
<p>
Undo changes to template call. 
</p>

    </div>

              </div>
              <div class="change" id="trac-change-14">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:14" class="cnum">
      <a href="53.html#comment:14">comment:14</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-04-28T14%3A19%3A17%2B01%3A00&amp;precision=second" title="2008-04-28T14:19:17+01:00 in Timeline">12 years</a> ago by Laurent Chapon
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[921]</a>) re <a class="closed ticket" href="53.html" title="enhancement: Implement a Mapping table in the Geometry to allow grouping of detectors ... (closed: fixed)">#53</a>
</p>
<p>
Implementation of appendLeaf and appendAssembly  methods with boost::shared_ptr&lt;Geometry::CompAssembly&gt; in LoadInstrument.cpp. 
</p>

    </div>

              </div>
              <div class="change" id="trac-change-15">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:15" class="cnum">
      <a href="53.html#comment:15">comment:15</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-04-28T17%3A08%3A13%2B01%3A00&amp;precision=second" title="2008-04-28T17:08:13+01:00 in Timeline">12 years</a> ago by Matt Clarke
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[923]</a>) Refs <a class="closed ticket" href="53.html" title="enhancement: Implement a Mapping table in the Geometry to allow grouping of detectors ... (closed: fixed)">#53</a>. Fixed some of the tests
</p>

    </div>

              </div>
              <div class="change" id="trac-change-16">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:16" class="cnum">
      <a href="53.html#comment:16">comment:16</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-04-29T09%3A46%3A36%2B01%3A00&amp;precision=second" title="2008-04-29T09:46:36+01:00 in Timeline">12 years</a> ago by Matt Clarke
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[924]</a>) Refs <a class="closed ticket" href="53.html" title="enhancement: Implement a Mapping table in the Geometry to allow grouping of detectors ... (closed: fixed)">#53</a>. Constructor of workspace now creates a blank instrument.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-17">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:17" class="cnum">
      <a href="53.html#comment:17">comment:17</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-04-29T12%3A03%3A18%2B01%3A00&amp;precision=second" title="2008-04-29T12:03:18+01:00 in Timeline">12 years</a> ago by Laurent Chapon
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[927]</a>) re <a class="closed ticket" href="53.html" title="enhancement: Implement a Mapping table in the Geometry to allow grouping of detectors ... (closed: fixed)">#53</a>
Implementation of SpectraDetectorMap and associated algorithm for Spectra to IDetector mapping. Workspace has been changed and now hold a shared pointer to a SpectraDetectorMap. 
Very basic at the moment, need to implement most of SpectraDetectorMap functionalities. 
</p>

    </div>

              </div>
              <div class="change" id="trac-change-18">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:18" class="cnum">
      <a href="53.html#comment:18">comment:18</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-04-29T13%3A34%3A30%2B01%3A00&amp;precision=second" title="2008-04-29T13:34:30+01:00 in Timeline">12 years</a> ago by Laurent Chapon
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[929]</a>) re <a class="closed ticket" href="53.html" title="enhancement: Implement a Mapping table in the Geometry to allow grouping of detectors ... (closed: fixed)">#53</a>
</p>
<p>
DLLExport macro was missing in SpectraDetectorMap. Fixxed 
</p>

    </div>

              </div>
              <div class="change" id="trac-change-19">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:19" class="cnum">
      <a href="53.html#comment:19">comment:19</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-04-29T13%3A44%3A13%2B01%3A00&amp;precision=second" title="2008-04-29T13:44:13+01:00 in Timeline">12 years</a> ago by Nick Draper
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[931]</a>) re <a class="closed ticket" href="53.html" title="enhancement: Implement a Mapping table in the Geometry to allow grouping of detectors ... (closed: fixed)">#53</a>
added missing DLLExport
</p>

    </div>

              </div>
              <div class="change" id="trac-change-20">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:20" class="cnum">
      <a href="53.html#comment:20">comment:20</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-04-29T13%3A55%3A47%2B01%3A00&amp;precision=second" title="2008-04-29T13:55:47+01:00 in Timeline">12 years</a> ago by Nick Draper
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[932]</a>) re <a class="closed ticket" href="53.html" title="enhancement: Implement a Mapping table in the Geometry to allow grouping of detectors ... (closed: fixed)">#53</a>
Fixed conetest issue
</p>

    </div>

              </div>
              <div class="change" id="trac-change-21">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:21" class="cnum">
      <a href="53.html#comment:21">comment:21</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-04-29T14%3A15%3A47%2B01%3A00&amp;precision=second" title="2008-04-29T14:15:47+01:00 in Timeline">12 years</a> ago by Laurent Chapon
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[933]</a>) re <a class="closed ticket" href="53.html" title="enhancement: Implement a Mapping table in the Geometry to allow grouping of detectors ... (closed: fixed)">#53</a>
</p>
<p>
Added method to get IDetector List for a spectra key in SpectraDetectorTable
</p>

    </div>

              </div>
              <div class="change" id="trac-change-22">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:22" class="cnum">
      <a href="53.html#comment:22">comment:22</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-05-02T12%3A26%3A26%2B01%3A00&amp;precision=second" title="2008-05-02T12:26:26+01:00 in Timeline">12 years</a> ago by Nick Draper
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[954]</a>) re <a class="closed ticket" href="53.html" title="enhancement: Implement a Mapping table in the Geometry to allow grouping of detectors ... (closed: fixed)">#53</a>
Improved test for the availability of unordered_map.h as linuxs1 does not have it.
The Scons build will test for its presence and use it if available.
If you are using another process to build it then you need to add -DHAS_UNORDERED_MAP_H to your compiler line.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-23">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:23" class="cnum">
      <a href="53.html#comment:23">comment:23</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-05-27T09%3A32%3A46%2B01%3A00&amp;precision=second" title="2008-05-27T09:32:46+01:00 in Timeline">12 years</a> ago by Laurent Chapon
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[1045]</a>) re <a class="closed ticket" href="53.html" title="enhancement: Implement a Mapping table in the Geometry to allow grouping of detectors ... (closed: fixed)">#53</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-24">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:24" class="cnum">
      <a href="53.html#comment:24">comment:24</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-05-27T16%3A15%3A50%2B01%3A00&amp;precision=second" title="2008-05-27T16:15:50+01:00 in Timeline">12 years</a> ago by Laurent Chapon
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[1049]</a>) re <a class="closed ticket" href="53.html" title="enhancement: Implement a Mapping table in the Geometry to allow grouping of detectors ... (closed: fixed)">#53</a>
</p>
<p>
Initialized various pointer to 0 in ISISRAW constructor. This was causing segmentation fault in the destructor in case the loadRaw algorithm failed to load the file 
</p>

    </div>

              </div>
              <div class="change" id="trac-change-25">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:25" class="cnum">
      <a href="53.html#comment:25">comment:25</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-05-27T16%3A16%3A42%2B01%3A00&amp;precision=second" title="2008-05-27T16:16:42+01:00 in Timeline">12 years</a> ago by Laurent Chapon
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[1050]</a>) re <a class="closed ticket" href="53.html" title="enhancement: Implement a Mapping table in the Geometry to allow grouping of detectors ... (closed: fixed)">#53</a>
</p>
<p>
minor change
</p>

    </div>

              </div>
              <div class="change" id="trac-change-26">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:26" class="cnum">
      <a href="53.html#comment:26">comment:26</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-05-29T14%3A54%3A01%2B01%3A00&amp;precision=second" title="2008-05-29T14:54:01+01:00 in Timeline">12 years</a> ago by Nick Draper
                </h3>
                
    <div class="comment searchable">
      
      <p>
Just the unit test to complete
</p>

    </div>

              </div>
              <div class="change" id="trac-change-27">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:27" class="cnum">
      <a href="53.html#comment:27">comment:27</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-05-30T10%3A35%3A39%2B01%3A00&amp;precision=second" title="2008-05-30T10:35:39+01:00 in Timeline">12 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Priority</strong>
        changed from <em>major</em> to <em>blocker</em>
    </li><li>
      <strong>Milestone</strong>
        changed from <em>Iteration 8</em> to <em>Iteration 9</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-28">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:28" class="cnum">
      <a href="53.html#comment:28">comment:28</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-05-30T12%3A41%3A07%2B01%3A00&amp;precision=second" title="2008-05-30T12:41:07+01:00 in Timeline">12 years</a> ago by Laurent Chapon
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[1061]</a>) re <a class="closed ticket" href="53.html" title="enhancement: Implement a Mapping table in the Geometry to allow grouping of detectors ... (closed: fixed)">#53</a>
</p>
<p>
Minor change, add method to return the number of elements in the map
</p>

    </div>

              </div>
              <div class="change" id="trac-change-29">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:29" class="cnum">
      <a href="53.html#comment:29">comment:29</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-05-30T12%3A43%3A08%2B01%3A00&amp;precision=second" title="2008-05-30T12:43:08+01:00 in Timeline">12 years</a> ago by Laurent Chapon
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[1062]</a>) re <a class="closed ticket" href="53.html" title="enhancement: Implement a Mapping table in the Geometry to allow grouping of detectors ... (closed: fixed)">#53</a>
</p>
<p>
Change Workspace2D to Workspace shared_ptr in LoadMappingTable.h
</p>

    </div>

              </div>
              <div class="change" id="trac-change-30">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:30" class="cnum">
      <a href="53.html#comment:30">comment:30</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-05-30T12%3A43%3A29%2B01%3A00&amp;precision=second" title="2008-05-30T12:43:29+01:00 in Timeline">12 years</a> ago by Laurent Chapon
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[1063]</a>) re <a class="closed ticket" href="53.html" title="enhancement: Implement a Mapping table in the Geometry to allow grouping of detectors ... (closed: fixed)">#53</a>
</p>
<p>
Change Workspace2D to Workspace shared_ptr in LoadMappingTable.h
</p>

    </div>

              </div>
              <div class="change" id="trac-change-31">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:31" class="cnum">
      <a href="53.html#comment:31">comment:31</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-05-30T12%3A53%3A26%2B01%3A00&amp;precision=second" title="2008-05-30T12:53:26+01:00 in Timeline">12 years</a> ago by Laurent Chapon
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[1064]</a>) re <a class="closed ticket" href="53.html" title="enhancement: Implement a Mapping table in the Geometry to allow grouping of detectors ... (closed: fixed)">#53</a>
</p>
<p>
Check-in the LoadMappingTable test. Tested so far with HET definition. Needs to be tested with other instruments eventually. 
</p>

    </div>

              </div>
              <div class="change" id="trac-change-32">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:32" class="cnum">
      <a href="53.html#comment:32">comment:32</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-05-30T15%3A32%3A28%2B01%3A00&amp;precision=second" title="2008-05-30T15:32:28+01:00 in Timeline">12 years</a> ago by Laurent Chapon
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[1065]</a>) re <a class="closed ticket" href="53.html" title="enhancement: Implement a Mapping table in the Geometry to allow grouping of detectors ... (closed: fixed)">#53</a>
</p>
<p>
Updated LoadRaw algorithm to read the SpectraDetectorMap. This is implemented as a sub-algorithm calling the LoadMappingTable. There is a slight penalty in doing that since the raw file is open another time but it is minimal compared to the time it takes to read data. 
The test LoadRawTest has been modified accordingly but there is currently a problem in the HET_definition.xml which does not contain all the individual pixel geometric information. New code in the LoadRawtest.h file is working (test with reading instrument from raw file instead of xml) but has been commented out for the moment. 
</p>

    </div>

              </div>
              <div class="change" id="trac-change-33">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:33" class="cnum">
      <a href="53.html#comment:33">comment:33</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-05-30T16%3A59%3A31%2B01%3A00&amp;precision=second" title="2008-05-30T16:59:31+01:00 in Timeline">12 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[1066]</a>) Our current HET instrument definition file doesn't work with the spectra-detector mapping. Better to just make sure LoadRaw doesn't use it and defaults to getting the instrumend information from the RAW file. Re <a class="closed ticket" href="53.html" title="enhancement: Implement a Mapping table in the Geometry to allow grouping of detectors ... (closed: fixed)">#53</a>.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-34">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:34" class="cnum">
      <a href="53.html#comment:34">comment:34</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-05-30T17%3A24%3A37%2B01%3A00&amp;precision=second" title="2008-05-30T17:24:37+01:00 in Timeline">12 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[1067]</a>) Some changes to the tests because of the change of name in the HET instrument definition file. Re <a class="closed ticket" href="53.html" title="enhancement: Implement a Mapping table in the Geometry to allow grouping of detectors ... (closed: fixed)">#53</a>.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-35">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:35" class="cnum">
      <a href="53.html#comment:35">comment:35</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-06-02T10%3A14%3A02%2B01%3A00&amp;precision=second" title="2008-06-02T10:14:02+01:00 in Timeline">12 years</a> ago by Nick Draper
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[1072]</a>) re <a class="closed ticket" href="53.html" title="enhancement: Implement a Mapping table in the Geometry to allow grouping of detectors ... (closed: fixed)">#53</a>
dllexport changes for windows
</p>

    </div>

              </div>
              <div class="change" id="trac-change-36">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:36" class="cnum">
      <a href="53.html#comment:36">comment:36</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2008-06-09T17%3A05%3A56%2B01%3A00&amp;precision=second" title="2008-06-09T17:05:56+01:00 in Timeline">12 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>closed</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-37">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:37" class="cnum">
      <a href="53.html#comment:37">comment:37</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-03T21%3A50%3A25%2B01%3A00&amp;precision=second" title="2015-06-03T21:50:25+01:00 in Timeline">5 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
This ticket has been transferred to github issue <a class="ext-link" href="http://github.com/mantidproject/mantid/issues/901"><span class="icon">â€‹</span>901</a>
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/53?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/53?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/53?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.5</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
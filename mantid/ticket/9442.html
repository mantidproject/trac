<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      #9442 (Minor changes required for Valgrind Jenkins jobs)
     â€“ Mantid Project
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="9441.html" title="Ticket #9441" />
        <link rel="last" href="11888.html" title="Ticket #11888" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/9442?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/9442?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/9442?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="9443.html" title="Ticket #9443" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mantid Project" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="a82fe30e7bef2e30fd2838e9";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/mantid/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 9442, escape_newlines: 0}
        $("#comment").autoPreview("/mantid/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/mantid/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.mantidproject.org/"><img src="../chrome/site/mantid_logo_with_name.png" alt="Mantid Logo" width="250" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://trac.mantidproject.org/mantid/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="9441.html" title="Ticket #9441">Previous Ticket</a></span></li><li class="last"><span><a class="next" href="9443.html" title="Ticket #9443">Next Ticket</a> &rarr;</span></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="9442.html">Ticket #9442</a>
          <span class="status">(closed: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-05-09T19%3A01%3A46%2B01%3A00&amp;precision=second" title="2014-05-09T19:01:46+01:00 in Timeline">6 years</a> ago</p>
    <p>Last modified <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T03%3A18%3A22%2B01%3A00&amp;precision=second" title="2015-06-04T03:18:22+01:00 in Timeline">5 years</a> ago</p>
  </div>
  <h2 class="summary searchable">Minor changes required for Valgrind Jenkins jobs</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;reporter=Russell+Taylor">Russell Taylor</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;owner=Russell+Taylor">Russell Taylor</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;priority=trivial">trivial</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="../milestone/Release&#32;3.2.html">Release 3.2</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;component=Tools">Tools</a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby"><span></span></td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking"><span></span></td>
        <th id="h_tester">
          Tester:
        </th>
        <td headers="h_tester">
              Peter Peterson
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
    </h3>
    <div class="searchable">
      <p>
These jobs involve running the test executable directly rather than via ctest, which is subtly different so sometimes exposes issues.
</p>
<p>
I'm also running separate jobs for each package and building only that test package, which is showing up some hidden dependencies.
</p>

    </div>
  </div>
</div>
          

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="9442.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-05-09T19%3A01%3A55%2B01%3A00&amp;precision=second" title="2014-05-09T19:01:55+01:00 in Timeline">6 years</a> ago by Russell Taylor
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>assigned</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="9442.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-05-09T19%3A10%3A02%2B01%3A00&amp;precision=second" title="2014-05-09T19:10:02+01:00 in Timeline">6 years</a> ago by Russell Taylor
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>assigned</em> to <em>inprogress</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="9442.html" title="enhancement: Minor changes required for Valgrind Jenkins jobs (closed: fixed)">#9442</a>. Change required to run CrystalTest directly.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/c83ab6a6db548825f27497fdca2a0c70af86664a" title="c83ab6a6db548825f27497fdca2a0c70af86664a">c83ab6a6db548825f27497fdca2a0c70af86664a</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="9442.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-05-09T19%3A10%3A02%2B01%3A00&amp;precision=second" title="2014-05-09T19:10:02+01:00 in Timeline">6 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="9442.html" title="enhancement: Minor changes required for Valgrind Jenkins jobs (closed: fixed)">#9442</a>. Make sure CurveFitting is up to date for Crystal tests.
</p>
<p>
One of the algorithms in Crystal uses the Fit algorithm so we have
to make sure CurveFitting is built before running the Crystal tests.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/f23bbb745b8c38c003349134353a0fec4b7ff62d" title="f23bbb745b8c38c003349134353a0fec4b7ff62d">f23bbb745b8c38c003349134353a0fec4b7ff62d</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="9442.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-05-09T20%3A25%3A57%2B01%3A00&amp;precision=second" title="2014-05-09T20:25:57+01:00 in Timeline">6 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="9442.html" title="enhancement: Minor changes required for Valgrind Jenkins jobs (closed: fixed)">#9442</a>. Add required packages for running tests.
</p>
<p>
GroupDetectors requires Divide.
LoadTest requires LoadMD.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/5cd1b2250db7787efd2d188564ade21840aca118" title="5cd1b2250db7787efd2d188564ade21840aca118">5cd1b2250db7787efd2d188564ade21840aca118</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="9442.html#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-05-09T20%3A29%3A07%2B01%3A00&amp;precision=second" title="2014-05-09T20:29:07+01:00 in Timeline">6 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="9442.html" title="enhancement: Minor changes required for Valgrind Jenkins jobs (closed: fixed)">#9442</a>. Also need to have Algorithms built.
</p>
<p>
LoadIsawUB requires Rebin.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/341f2d72ec84ac336bc0d1705151adea6bd15dc3" title="341f2d72ec84ac336bc0d1705151adea6bd15dc3">341f2d72ec84ac336bc0d1705151adea6bd15dc3</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="9442.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-05-13T19%3A27%3A19%2B01%3A00&amp;precision=second" title="2014-05-13T19:27:19+01:00 in Timeline">6 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="9442.html" title="enhancement: Minor changes required for Valgrind Jenkins jobs (closed: fixed)">#9442</a>. Add test dependency.
</p>
<p>
LoadLiveDataTest uses an MD algorithm.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/72c28ff712cd73c0f43f0bc56753276825112f54" title="72c28ff712cd73c0f43f0bc56753276825112f54">72c28ff712cd73c0f43f0bc56753276825112f54</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="9442.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-05-13T19%3A27%3A20%2B01%3A00&amp;precision=second" title="2014-05-13T19:27:20+01:00 in Timeline">6 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="9442.html" title="enhancement: Minor changes required for Valgrind Jenkins jobs (closed: fixed)">#9442</a>. Clear the AlgorithmManager at the start of the test.
</p>
<p>
Ensures that the LiveDataTest executable can be run directly (and successfully).
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/ef2a90f110b8b45ba8bca5f1f97d4adcd45d85b6" title="ef2a90f110b8b45ba8bca5f1f97d4adcd45d85b6">ef2a90f110b8b45ba8bca5f1f97d4adcd45d85b6</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="9442.html#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-05-13T20%3A16%3A51%2B01%3A00&amp;precision=second" title="2014-05-13T20:16:51+01:00 in Timeline">6 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="9442.html" title="enhancement: Minor changes required for Valgrind Jenkins jobs (closed: fixed)">#9442</a>. WorkflowAlgorithmTests require CurveFitting package.
</p>
<p>
MuonCalculateAsymmetry uses RemoveExpDecay which uses Fit.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/89ddf13e27204127e64c625ed19ef10bda9c50c9" title="89ddf13e27204127e64c625ed19ef10bda9c50c9">89ddf13e27204127e64c625ed19ef10bda9c50c9</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="9442.html#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-05-13T21%3A24%3A45%2B01%3A00&amp;precision=second" title="2014-05-13T21:24:45+01:00 in Timeline">6 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="9442.html" title="enhancement: Minor changes required for Valgrind Jenkins jobs (closed: fixed)">#9442</a>. Algorithms is required to run MDAlgorithmsTest.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/2330a6f20a30b0aa34b5f591e38820a1b727e05b" title="2330a6f20a30b0aa34b5f591e38820a1b727e05b">2330a6f20a30b0aa34b5f591e38820a1b727e05b</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="9442.html#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-05-14T16%3A23%3A50%2B01%3A00&amp;precision=second" title="2014-05-14T16:23:50+01:00 in Timeline">6 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="9442.html" title="enhancement: Minor changes required for Valgrind Jenkins jobs (closed: fixed)">#9442</a>. Running the Algorithm tests requires MDAlgorithms.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/887b13fdf835f91a5bb0dbca9527c103ef28bf2b" title="887b13fdf835f91a5bb0dbca9527c103ef28bf2b">887b13fdf835f91a5bb0dbca9527c103ef28bf2b</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="9442.html#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-05-14T16%3A23%3A50%2B01%3A00&amp;precision=second" title="2014-05-14T16:23:50+01:00 in Timeline">6 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="9442.html" title="enhancement: Minor changes required for Valgrind Jenkins jobs (closed: fixed)">#9442</a>. CurveFitting shouldn't need to be a full link.
</p>
<p>
Specifying it as a dependency should be enough - no tests use it
directly.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/f3bbf8f63d720e26673e82872ed6b755371a90df" title="f3bbf8f63d720e26673e82872ed6b755371a90df">f3bbf8f63d720e26673e82872ed6b755371a90df</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="9442.html#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-05-14T18%3A38%3A49%2B01%3A00&amp;precision=second" title="2014-05-14T18:38:49+01:00 in Timeline">6 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="9442.html" title="enhancement: Minor changes required for Valgrind Jenkins jobs (closed: fixed)">#9442</a>. Crystal also needed for AnvredCorrection.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/f1c8fca2523eeb18f8838947aad467875ccd5ba3" title="f1c8fca2523eeb18f8838947aad467875ccd5ba3">f1c8fca2523eeb18f8838947aad467875ccd5ba3</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="9442.html#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-05-14T20%3A57%3A19%2B01%3A00&amp;precision=second" title="2014-05-14T20:57:19+01:00 in Timeline">6 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="9442.html" title="enhancement: Minor changes required for Valgrind Jenkins jobs (closed: fixed)">#9442</a>. The CurveFitting tests require Algorithms.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/39d3994e2fff79b3adcec48bff71fded39d0a6c8" title="39d3994e2fff79b3adcec48bff71fded39d0a6c8">39d3994e2fff79b3adcec48bff71fded39d0a6c8</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-14">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:14" class="cnum">
      <a href="9442.html#comment:14">comment:14</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-05-16T20%3A44%3A18%2B01%3A00&amp;precision=second" title="2014-05-16T20:44:18+01:00 in Timeline">6 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="9442.html" title="enhancement: Minor changes required for Valgrind Jenkins jobs (closed: fixed)">#9442</a>. Make sure config variable is reset after running.
</p>
<p>
This is what was causing the DiffSphereTest to fail when running
the CurveFittingTest executable directly.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/13376069d589e65bf9f18545ec14de14eb9a1da2" title="13376069d589e65bf9f18545ec14de14eb9a1da2">13376069d589e65bf9f18545ec14de14eb9a1da2</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-15">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:15" class="cnum">
      <a href="9442.html#comment:15">comment:15</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-05-19T19%3A18%3A35%2B01%3A00&amp;precision=second" title="2014-05-19T19:18:35+01:00 in Timeline">6 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="9442.html" title="enhancement: Minor changes required for Valgrind Jenkins jobs (closed: fixed)">#9442</a>. Skip DiffSphereTest suite if running in Valgrind.
</p>
<p>
These tests fail if running under valgrind (see comment in commit itself).
Lean on a Valgrind macro to determine if we're running within Valgrind
and skip the tests if we are so that the rest of the tests can run
to completion (I'm running the CurveFittingTest executable directly so
it's running all the tests together).
</p>
<p>
The required header from valgrind has been placed into the CurveFitting/test
directory so we're not creating a dependency. If some platforms don't like
it I'll conditionally include/use it on linux only.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/f736a87310ae2b4a1dbb19a27489d3bb5afd3150" title="f736a87310ae2b4a1dbb19a27489d3bb5afd3150">f736a87310ae2b4a1dbb19a27489d3bb5afd3150</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-16">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:16" class="cnum">
      <a href="9442.html#comment:16">comment:16</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-05-19T19%3A48%3A20%2B01%3A00&amp;precision=second" title="2014-05-19T19:48:20+01:00 in Timeline">6 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="9442.html" title="enhancement: Minor changes required for Valgrind Jenkins jobs (closed: fixed)">#9442</a>. Remove unrequired definition of pi.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/d83da2a1e944c8c9df3c34dc827ace3245ba3871" title="d83da2a1e944c8c9df3c34dc827ace3245ba3871">d83da2a1e944c8c9df3c34dc827ace3245ba3871</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-17">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:17" class="cnum">
      <a href="9442.html#comment:17">comment:17</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-05-20T16%3A50%3A58%2B01%3A00&amp;precision=second" title="2014-05-20T16:50:58+01:00 in Timeline">6 years</a> ago by Russell Taylor
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>inprogress</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
This is all about being able to build a framework package test target in isolation and run the unit test executable. So it's mostly making sure that soft dependencies between plugin algorithm packages are specified correctly (e.g. so CurveFitting is built when AlgorithmsTest is as there are algorithms in Algorithms that call the Fit algorithm as a child), and that tests are still able to run if some other test has, e.g. stored a workspace with the same name or changed a config setting.
</p>
<p>
There was one other extra bit in DiffSphereTest that skips the tests if running in Valgrind - do check that they're running in the 'normal' builds.
</p>
<p>
I suggest testing by inspection.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-18">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:18" class="cnum">
      <a href="9442.html#comment:18">comment:18</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-05-20T18%3A12%3A12%2B01%3A00&amp;precision=second" title="2014-05-20T18:12:12+01:00 in Timeline">6 years</a> ago by Peter Peterson
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li><li>
      <strong>Tester</strong>
        set to <em>Peter Peterson</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-19">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:19" class="cnum">
      <a href="9442.html#comment:19">comment:19</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-05-20T20%3A57%3A25%2B01%3A00&amp;precision=second" title="2014-05-20T20:57:25+01:00 in Timeline">6 years</a> ago by Pete Peterson
                </h3>
                
    <div class="comment searchable">
      
      <p>
Merge remote-tracking branch 'origin/feature/9442_for_valgrind_jobs'
</p>
<p>
Re <a class="closed ticket" href="9442.html" title="enhancement: Minor changes required for Valgrind Jenkins jobs (closed: fixed)">#9442</a>
</p>
<p>
Conflicts:
</p>
<blockquote>
<p>
Code/Mantid/Framework/Crystal/test/CMakeLists.txt
</p>
</blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/9cf7aaf0ec938935854592341992faedc85f605e" title="9cf7aaf0ec938935854592341992faedc85f605e">9cf7aaf0ec938935854592341992faedc85f605e</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-20">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:20" class="cnum">
      <a href="9442.html#comment:20">comment:20</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-05-20T20%3A57%3A25%2B01%3A00&amp;precision=second" title="2014-05-20T20:57:25+01:00 in Timeline">6 years</a> ago by Pete Peterson
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>closed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Merge remote-tracking branch 'origin/feature/9442_for_valgrind_jobs'
</p>
<p>
Re <a class="closed ticket" href="9442.html" title="enhancement: Minor changes required for Valgrind Jenkins jobs (closed: fixed)">#9442</a>
</p>
<p>
Conflicts:
</p>
<blockquote>
<p>
Code/Mantid/Framework/Crystal/test/CMakeLists.txt
</p>
</blockquote>
<p>
Full changeset: <a class="ext-link" href="https://github.com/mantidproject/mantid/commit/9cf7aaf0ec938935854592341992faedc85f605e"><span class="icon">â€‹</span>9cf7aaf0ec938935854592341992faedc85f605e</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-21">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:21" class="cnum">
      <a href="9442.html#comment:21">comment:21</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T03%3A18%3A22%2B01%3A00&amp;precision=second" title="2015-06-04T03:18:22+01:00 in Timeline">5 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
This ticket has been transferred to github issue <a class="ext-link" href="http://github.com/mantidproject/mantid/issues/10285"><span class="icon">â€‹</span>10285</a>
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/9442?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/9442?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/9442?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.5</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
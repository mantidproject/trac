<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      #7325 (PeaksOnSurface)
     â€“ Mantid Project
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="7324.html" title="Ticket #7324" />
        <link rel="last" href="11888.html" title="Ticket #11888" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/7325?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/7325?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/7325?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="7326.html" title="Ticket #7326" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mantid Project" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="a82fe30e7bef2e30fd2838e9";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/mantid/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 7325, escape_newlines: 0}
        $("#comment").autoPreview("/mantid/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/mantid/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.mantidproject.org/"><img src="../chrome/site/mantid_logo_with_name.png" alt="Mantid Logo" width="250" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://trac.mantidproject.org/mantid/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="7324.html" title="Ticket #7324">Previous Ticket</a></span></li><li><span><a class="next" href="7326.html" title="Ticket #7326">Next Ticket</a> &rarr;</span></li><li class="last"><a href="../depgraph/7325.html">Depgraph</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="7325.html">Ticket #7325</a>
          <span class="status">(closed: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-20T14%3A41%3A04%2B01%3A00&amp;precision=second" title="2013-06-20T14:41:04+01:00 in Timeline">7 years</a> ago</p>
    <p>Last modified <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T01%3A50%3A40%2B01%3A00&amp;precision=second" title="2015-06-04T01:50:40+01:00 in Timeline">5 years</a> ago</p>
  </div>
  <h2 class="summary searchable">PeaksOnSurface</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;reporter=Owen+Arnold">Owen Arnold</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;owner=Owen+Arnold">Owen Arnold</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;priority=major">major</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="../milestone/Release&#32;2.6.html">Release 2.6</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;component=Diffraction">Diffraction</a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby"><span><a class="closed ticket" href="7386.html" title="Safe getDetectorPosition on Peak object">#7386</a></span></td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking"><span></span></td>
        <th id="h_tester">
          Tester:
        </th>
        <td headers="h_tester">
              Michael Reuter
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
      <span class="lastmod" title="2013-07-24 15:51:03.199684+00:00">
        (last modified by Nick Draper)
        (<a href="https://trac.mantidproject.org/mantid/ticket/7325?action=diff&amp;version=25">diff</a>)
      </span>
    </h3>
    <div class="searchable">
      <p>
This is an adapted version of PeaksInRegion. Which is better suitable for the SliceViewer peaks overlay.
</p>
<ul><li>We only actually need to determine Peaks interaction with 1 plane face, rather than 6 because the slice plane is infinitely thin. This should cut down a large amount of wasted computation.
</li><li>The CheckPeakExtents option is always on in the SliceViewer, this is consistent with how we would want to work with a plane.
</li><li>We can return the absolute distance between the peak center and the plane. This is information we currently throw away in PeaksInRegion, and then recalculate separately in the SliceViewer. Wouldn't it just be better to have an additional column in the output peaks workspace to contain this information.
</li></ul><p>
We should leave PeaksInRegion in place, because this could be quite a handy algorithm for some future work. 
</p>
<p>
I'm going to wire this algorithm in under a separate ticket, to avoid this ticket bloating out. Also, because it's going to be very hard to validate both the algorithm itself, and it's new usage/consumption in one-shot.
</p>

    </div>
  </div>
</div>
          

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="7325.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-20T14%3A41%3A16%2B01%3A00&amp;precision=second" title="2013-06-20T14:41:16+01:00 in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>accepted</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="7325.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-24T14%3A53%3A58%2B01%3A00&amp;precision=second" title="2013-06-24T14:53:58+01:00 in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Description</strong>
        modified (<a href="https://trac.mantidproject.org/mantid/ticket/7325?action=diff&amp;version=2">diff</a>)
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="7325.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-24T16%3A56%3A43%2B01%3A00&amp;precision=second" title="2013-06-24T16:56:43+01:00 in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
Tester: Run this
</p>
<div class="code"><pre>Load<span class="p">(</span>Filename<span class="o">=</span><span class="s">'SXD23767.raw'</span><span class="p">,</span>OutputWorkspace<span class="o">=</span><span class="s">'SXD23767'</span><span class="p">,</span>LoadMonitors<span class="o">=</span><span class="s">'Exclude'</span><span class="p">)</span>
ConvertToDiffractionMDWorkspace<span class="p">(</span>InputWorkspace<span class="o">=</span><span class="s">'SXD23767'</span><span class="p">,</span>OutputWorkspace<span class="o">=</span><span class="s">'QLab'</span><span class="p">,</span>LorentzCorrection<span class="o">=</span><span class="s">'1'</span><span class="p">,</span>SplitThreshold<span class="o">=</span><span class="s">'50'</span><span class="p">,</span>MaxRecursionDepth<span class="o">=</span><span class="s">'13'</span><span class="p">,</span>Extents<span class="o">=</span><span class="s">'-15,15,-15,15,-15,15'</span><span class="p">)</span>
peaks_qLab <span class="o">=</span> FindPeaksMD<span class="p">(</span>InputWorkspace<span class="o">=</span><span class="s">'QLab'</span><span class="p">,</span>PeakDistanceThreshold<span class="o">=</span><span class="s">'1'</span><span class="p">,</span>MaxPeaks<span class="o">=</span><span class="s">'60'</span><span class="p">)</span>
peakRadius <span class="o">=</span> <span class="mf">0.1</span><span class="p">;</span>
detectorZPlanePosition <span class="o">=</span>  <span class="o">-</span><span class="mf">0.278</span>  <span class="c"># For bank 11, all detectors sit on constant y.</span>
yPlane <span class="o">=</span> detectorZPlanePosition <span class="o">-</span> peakRadius
queryPeaksInRegion <span class="o">=</span> PeaksInRegion<span class="p">(</span>CheckPeakExtents<span class="o">=</span><span class="bp">True</span><span class="p">,</span>InputWorkspace<span class="o">=</span>peaks_qLab<span class="p">,</span>CoordinateFrame<span class="o">=</span><span class="s">'Detector space'</span><span class="p">,</span>PeakRadius<span class="o">=</span>peakRadius<span class="p">,</span>Extents<span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mf">0.09</span><span class="p">,</span><span class="mf">0.09</span><span class="p">,</span>yPlane<span class="p">,</span>yPlane<span class="p">,</span><span class="o">-</span><span class="mf">0.09</span><span class="p">,</span><span class="mf">0.09</span><span class="p">])</span>
queryPeaksOnSurface <span class="o">=</span> PeaksOnSurface<span class="p">(</span>InputWorkspace<span class="o">=</span>peaks_qLab<span class="p">,</span>CoordinateFrame<span class="o">=</span><span class="s">'Detector space'</span><span class="p">,</span>PeakRadius<span class="o">=</span>peakRadius<span class="p">,</span>Vertex1<span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mf">0.09</span><span class="p">,</span>yPlane<span class="p">,</span><span class="o">-</span><span class="mf">0.09</span><span class="p">],</span>Vertex2<span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mf">0.09</span><span class="p">,</span>yPlane<span class="p">,</span><span class="mf">0.09</span><span class="p">],</span>Vertex3<span class="o">=</span><span class="p">[</span><span class="mf">0.09</span><span class="p">,</span>yPlane<span class="p">,</span><span class="mf">0.09</span><span class="p">],</span>Vertex4<span class="o">=</span><span class="p">[</span><span class="mf">0.09</span><span class="p">,</span>yPlane<span class="p">,</span><span class="o">-</span><span class="mf">0.09</span><span class="p">])</span>
</pre></div><p>
The outputs queryPeakInRegion and queryPeaksOnSurface should be the same (ignore the distance column output). 
</p>
<p>
Use the script above as the basis for running other comparison tests, for example, try increasing and reducing the radius parameter.
</p>
<p>
The algorithm PeaksOnSurface will also work in a non-axis aligned fashion. It would be a good idea to test this out too.
</p>
<p>
Please describe what tests you have run in the comments of this ticket.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="7325.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-27T08%3A40%3A33%2B01%3A00&amp;precision=second" title="2013-06-27T08:40:33+01:00 in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="7325.html" title="enhancement: PeaksOnSurface (closed: fixed)">#7325</a>. Move working into base class.
</p>
<p>
New algorithm base class PeaksIntersection defined for algorithms like PeaksInRegion and any other new algorithm with surfaces involved. Had to make some methods virtual in the process of moving working from PeaksInRegion into the base class, but this does not appear to have affected performance. Will still process 40000 peaks in about 0.3 of a second.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/aa951b2a5c0c85e0b19414f21a6f0cd80de5801b" title="aa951b2a5c0c85e0b19414f21a6f0cd80de5801b">aa951b2a5c0c85e0b19414f21a6f0cd80de5801b</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="7325.html#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-27T08%3A40%3A34%2B01%3A00&amp;precision=second" title="2013-06-27T08:40:34+01:00 in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="7325.html" title="enhancement: PeaksOnSurface (closed: fixed)">#7325</a>. Implement PeaksOnSurface algorithm.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/9fc7daf6ea9e4261c4040e232bdd3072ba3fba0d" title="9fc7daf6ea9e4261c4040e232bdd3072ba3fba0d">9fc7daf6ea9e4261c4040e232bdd3072ba3fba0d</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="7325.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-27T08%3A40%3A34%2B01%3A00&amp;precision=second" title="2013-06-27T08:40:34+01:00 in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="7325.html" title="enhancement: PeaksOnSurface (closed: fixed)">#7325</a>. Add performance tests.
</p>
<p>
Comparing against peaks in region, the equivalent performance tests are producing similar results. PeaksOnSurface is very slightly slower. But we can improve performance here yet. Timings are 0.039 for PeaksInRegion and 0.042 for PeaksOnSurface.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/f5f331a714e182cfa686f48242ec53c300af1cc1" title="f5f331a714e182cfa686f48242ec53c300af1cc1">f5f331a714e182cfa686f48242ec53c300af1cc1</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="7325.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-27T08%3A40%3A34%2B01%3A00&amp;precision=second" title="2013-06-27T08:40:34+01:00 in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="7325.html" title="enhancement: PeaksOnSurface (closed: fixed)">#7325</a>. Document geometric calculations.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/d5de466d6a3b7a76d5d49f44c42ab902b8b905ad" title="d5de466d6a3b7a76d5d49f44c42ab902b8b905ad">d5de466d6a3b7a76d5d49f44c42ab902b8b905ad</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="7325.html#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-27T08%3A40%3A34%2B01%3A00&amp;precision=second" title="2013-06-27T08:40:34+01:00 in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="7325.html" title="enhancement: PeaksOnSurface (closed: fixed)">#7325</a>. Extend output workspace.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/2db16c59decafc9d394198c303bfb87631e4d96a" title="2db16c59decafc9d394198c303bfb87631e4d96a">2db16c59decafc9d394198c303bfb87631e4d96a</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="7325.html#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-27T08%3A40%3A34%2B01%3A00&amp;precision=second" title="2013-06-27T08:40:34+01:00 in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="7325.html" title="enhancement: PeaksOnSurface (closed: fixed)">#7325</a>. Remove property from PeaksOnSurface.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/29aa2da9b8c6b301826f707de9f9ed1fca552ea5" title="29aa2da9b8c6b301826f707de9f9ed1fca552ea5">29aa2da9b8c6b301826f707de9f9ed1fca552ea5</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="7325.html#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-27T08%3A56%3A02%2B01%3A00&amp;precision=second" title="2013-06-27T08:56:02+01:00 in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="7325.html" title="enhancement: PeaksOnSurface (closed: fixed)">#7325</a>. Explicitly specify container type.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/9c9569502efdc534af78e26e1c074530e471ef76" title="9c9569502efdc534af78e26e1c074530e471ef76">9c9569502efdc534af78e26e1c074530e471ef76</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="7325.html#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-27T09%3A11%3A22%2B01%3A00&amp;precision=second" title="2013-06-27T09:11:22+01:00 in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="7325.html" title="enhancement: PeaksOnSurface (closed: fixed)">#7325</a>. Fix type conversion warning.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/139282f6930976367ca1a48d0803d773291f7223" title="139282f6930976367ca1a48d0803d773291f7223">139282f6930976367ca1a48d0803d773291f7223</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="7325.html#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-27T09%3A12%3A53%2B01%3A00&amp;precision=second" title="2013-06-27T09:12:53+01:00 in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
branch is feature/7325_peaks_on_surface
</p>

    </div>

              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="7325.html#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-27T09%3A13%3A12%2B01%3A00&amp;precision=second" title="2013-06-27T09:13:12+01:00 in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>accepted</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-14">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:14" class="cnum">
      <a href="7325.html#comment:14">comment:14</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-27T18%3A08%3A43%2B01%3A00&amp;precision=second" title="2013-06-27T18:08:43+01:00 in Timeline">7 years</a> ago by Michael Reuter
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li><li>
      <strong>Tester</strong>
        set to <em>Michael Reuter</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-15">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:15" class="cnum">
      <a href="7325.html#comment:15">comment:15</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-28T14%3A18%3A21%2B01%3A00&amp;precision=second" title="2013-06-28T14:18:21+01:00 in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>reopened</em>
    </li><li>
      <strong>Resolution</strong>
        <em>fixed</em> deleted
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-16">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:16" class="cnum">
      <a href="7325.html#comment:16">comment:16</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-28T14%3A19%3A05%2B01%3A00&amp;precision=second" title="2013-06-28T14:19:05+01:00 in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
I need to investigate the following script provided by the tester:
</p>
<div class="code"><pre>run_segfault <span class="o">=</span> <span class="bp">False</span>

peakRadius <span class="o">=</span> <span class="mf">0.01</span><span class="p">;</span>
detectorZPlanePosition <span class="o">=</span>  <span class="o">-</span><span class="mf">0.278</span>  <span class="c"># For bank 11, all detectors sit on constant y.</span>
yPlane <span class="o">=</span> detectorZPlanePosition <span class="o">-</span> peakRadius

Load<span class="p">(</span>Filename<span class="o">=</span><span class="s">'SXD23767.raw'</span><span class="p">,</span> OutputWorkspace<span class="o">=</span><span class="s">'SXD23767'</span><span class="p">,</span>  LoadMonitors<span class="o">=</span><span class="s">'Exclude'</span><span class="p">)</span>

<span class="k">if</span> <span class="ow">not</span> run_segfault<span class="p">:</span>
    ConvertToDiffractionMDWorkspace<span class="p">(</span>InputWorkspace<span class="o">=</span><span class="s">'SXD23767'</span><span class="p">,</span> OutputWorkspace<span class="o">=</span><span class="s">'QLab'</span><span class="p">,</span> LorentzCorrection<span class="o">=</span><span class="s">'1'</span><span class="p">,</span> SplitThreshold<span class="o">=</span><span class="s">'50'</span><span class="p">,</span> MaxRecursionDepth<span class="o">=</span><span class="s">'13'</span><span class="p">,</span> Extents<span class="o">=</span><span class="s">'-15,15,-15,15,-15,15'</span><span class="p">)</span>

    <span class="c"># Trying to reorient the axes via basis vectors. This works but only finds 4 </span>
    <span class="c"># peaks instead of 60. Also, FindPeaksMD won't work with non-standard axis</span>
    <span class="c"># labels, so I had to co-op the standard ones.</span>

    BinMD<span class="p">(</span>InputWorkspace<span class="o">=</span><span class="s">'QLab'</span><span class="p">,</span> AxisAligned<span class="o">=</span><span class="s">'0'</span><span class="p">,</span> BasisVector0<span class="o">=</span><span class="s">'Q_lab_x,A,1,1,0'</span><span class="p">,</span> BasisVector1<span class="o">=</span><span class="s">'Q_lab_y,A,-1,1,0'</span><span class="p">,</span> BasisVector2<span class="o">=</span><span class="s">'Q_lab_z,A,0,0,1'</span><span class="p">,</span> OutputExtents<span class="o">=</span><span class="s">'-15,15,-15,15,-15,15'</span><span class="p">,</span> OutputBins<span class="o">=</span><span class="s">'10,10,10'</span><span class="p">,</span> Parallel<span class="o">=</span><span class="s">'1'</span><span class="p">,</span> OutputWorkspace<span class="o">=</span><span class="s">'QLab_Rotb'</span><span class="p">)</span>

    peaks_QLab_Rotb <span class="o">=</span> FindPeaksMD<span class="p">(</span>InputWorkspace<span class="o">=</span><span class="s">'QLab_Rotb'</span><span class="p">,</span> PeakDistanceThreshold<span class="o">=</span><span class="s">'1'</span><span class="p">,</span> MaxPeaks<span class="o">=</span><span class="s">'60'</span><span class="p">)</span>

    queryPeaksInRegion_b <span class="o">=</span> PeaksInRegion<span class="p">(</span>CheckPeakExtents<span class="o">=</span><span class="bp">True</span><span class="p">,</span> InputWorkspace<span class="o">=</span>peaks_QLab_Rotb<span class="p">,</span> CoordinateFrame<span class="o">=</span><span class="s">'Detector space'</span><span class="p">,</span>   PeakRadius<span class="o">=</span>peakRadius<span class="p">,</span> Extents<span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mf">0.09</span><span class="p">,</span><span class="mf">0.09</span><span class="p">,</span>yPlane<span class="p">,</span>yPlane<span class="p">,</span><span class="o">-</span><span class="mf">0.09</span><span class="p">,</span><span class="mf">0.09</span><span class="p">])</span>

    queryPeaksOnSurface_b <span class="o">=</span> PeaksOnSurface<span class="p">(</span>InputWorkspace<span class="o">=</span>peaks_QLab_Rotb<span class="p">,</span> CoordinateFrame<span class="o">=</span><span class="s">'Detector space'</span><span class="p">,</span> PeakRadius<span class="o">=</span>peakRadius<span class="p">,</span> Vertex1<span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mf">0.09</span><span class="p">,</span>yPlane<span class="p">,</span><span class="o">-</span><span class="mf">0.09</span><span class="p">],</span> Vertex2<span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mf">0.09</span><span class="p">,</span>yPlane<span class="p">,</span><span class="mf">0.09</span><span class="p">],</span> Vertex3<span class="o">=</span><span class="p">[</span><span class="mf">0.09</span><span class="p">,</span>yPlane<span class="p">,</span><span class="mf">0.09</span><span class="p">],</span> Vertex4<span class="o">=</span><span class="p">[</span><span class="mf">0.09</span><span class="p">,</span>yPlane<span class="p">,</span><span class="o">-</span><span class="mf">0.09</span><span class="p">])</span>

<span class="k">else</span><span class="p">:</span>
    <span class="c"># Trying to do reorientation at convert time. This finds 60 peaks, but causes </span>
    <span class="c"># segfault in PeaksInRegion.</span>

    ConvertToMD<span class="p">(</span>InputWorkspace<span class="o">=</span><span class="s">'SXD23767'</span><span class="p">,</span> OutputWorkspace<span class="o">=</span><span class="s">'QLab_Rotc'</span><span class="p">,</span> QDimensions<span class="o">=</span><span class="s">'Q3D'</span><span class="p">,</span> dEAnalysisMode<span class="o">=</span><span class="s">'Elastic'</span><span class="p">,</span> Q3DFrames<span class="o">=</span><span class="s">'Q_lab'</span><span class="p">,</span> LorentzCorrection<span class="o">=</span><span class="s">'1'</span><span class="p">,</span> MinValues<span class="o">=</span><span class="s">'-15,-15,-15'</span><span class="p">,</span> MaxValues<span class="o">=</span><span class="s">'15,15,15'</span><span class="p">,</span> Uproj<span class="o">=</span><span class="s">'1,1,0'</span><span class="p">,</span> Vproj<span class="o">=</span><span class="s">'-1,1,0'</span><span class="p">,</span> Wproj<span class="o">=</span><span class="s">'0,0,1'</span><span class="p">,</span> SplitInto<span class="o">=</span><span class="s">'2'</span><span class="p">,</span> SplitThreshold<span class="o">=</span><span class="s">'50'</span><span class="p">,</span> MaxRecursionDepth<span class="o">=</span><span class="s">'13'</span><span class="p">,</span> MinRecursionDepth<span class="o">=</span><span class="s">'5'</span><span class="p">)</span>

    peaks_QLab_Rotc <span class="o">=</span> FindPeaksMD<span class="p">(</span>InputWorkspace<span class="o">=</span><span class="s">'QLab_Rotc'</span><span class="p">,</span> PeakDistanceThreshold<span class="o">=</span><span class="s">'1'</span><span class="p">,</span> MaxPeaks<span class="o">=</span><span class="s">'60'</span><span class="p">)</span>

    queryPeaksInRegion_c <span class="o">=</span> PeaksInRegion<span class="p">(</span>CheckPeakExtents<span class="o">=</span><span class="bp">True</span><span class="p">,</span> InputWorkspace<span class="o">=</span>peaks_QLab_Rotc<span class="p">,</span> CoordinateFrame<span class="o">=</span><span class="s">'Detector space'</span><span class="p">,</span> PeakRadius<span class="o">=</span>peakRadius<span class="p">,</span> Extents<span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mf">0.09</span><span class="p">,</span><span class="mf">0.09</span><span class="p">,</span>yPlane<span class="p">,</span>yPlane<span class="p">,</span><span class="o">-</span><span class="mf">0.09</span><span class="p">,</span><span class="mf">0.09</span><span class="p">])</span>

    queryPeaksOnSurface_c <span class="o">=</span> PeaksOnSurface<span class="p">(</span>InputWorkspace<span class="o">=</span>peaks_QLab_Rotc<span class="p">,</span> CoordinateFrame<span class="o">=</span><span class="s">'Detector space'</span><span class="p">,</span> PeakRadius<span class="o">=</span>peakRadius<span class="p">,</span> Vertex1<span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mf">0.09</span><span class="p">,</span>yPlane<span class="p">,</span><span class="o">-</span><span class="mf">0.09</span><span class="p">],</span> Vertex2<span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mf">0.09</span><span class="p">,</span>yPlane<span class="p">,</span><span class="mf">0.09</span><span class="p">],</span> Vertex3<span class="o">=</span><span class="p">[</span><span class="mf">0.09</span><span class="p">,</span>yPlane<span class="p">,</span><span class="mf">0.09</span><span class="p">],</span> Vertex4<span class="o">=</span><span class="p">[</span><span class="mf">0.09</span><span class="p">,</span>yPlane<span class="p">,</span><span class="o">-</span><span class="mf">0.09</span><span class="p">])</span>
</pre></div>
    </div>

              </div>
              <div class="change" id="trac-change-17">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:17" class="cnum">
      <a href="7325.html#comment:17">comment:17</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-28T14%3A19%3A16%2B01%3A00&amp;precision=second" title="2013-06-28T14:19:16+01:00 in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>reopened</em> to <em>accepted</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-18">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:18" class="cnum">
      <a href="7325.html#comment:18">comment:18</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-28T17%3A12%3A14%2B01%3A00&amp;precision=second" title="2013-06-28T17:12:14+01:00 in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
OK, so the second part of this is a genuine crash owing to the fact that it's trying to access the location of a detector that is null. This does need to be fixed as part of this ticket.
</p>
<p>
I'm confused about the first part (of the script above) about which part appears to be wrong. Slightly modifying the script (see below). The number of peaks found after rotation is only 4, while 60 are found before rotation. Also, the act of binning the data to a regular grid, will ruin the ability of FindPeaksMD to find peaks, given that it's the natural adaptive binning structure, which is particularly useful for SC peak finding.
</p>
<p>
Not sure how to proceed from here.
</p>
<div class="code"><pre>run_segfault <span class="o">=</span> <span class="bp">False</span>

peakRadius <span class="o">=</span> <span class="mf">0.01</span><span class="p">;</span>
detectorZPlanePosition <span class="o">=</span>  <span class="o">-</span><span class="mf">0.278</span>  <span class="c"># For bank 11, all detectors sit on constant y.</span>
yPlane <span class="o">=</span> detectorZPlanePosition <span class="o">-</span> peakRadius

Load<span class="p">(</span>Filename<span class="o">=</span><span class="s">'SXD23767.raw'</span><span class="p">,</span> OutputWorkspace<span class="o">=</span><span class="s">'SXD23767'</span><span class="p">,</span>  LoadMonitors<span class="o">=</span><span class="s">'Exclude'</span><span class="p">)</span>

<span class="k">if</span> <span class="ow">not</span> run_segfault<span class="p">:</span>
    ConvertToDiffractionMDWorkspace<span class="p">(</span>InputWorkspace<span class="o">=</span><span class="s">'SXD23767'</span><span class="p">,</span> OutputWorkspace<span class="o">=</span><span class="s">'QLab'</span><span class="p">,</span> LorentzCorrection<span class="o">=</span><span class="s">'1'</span><span class="p">,</span> SplitThreshold<span class="o">=</span><span class="s">'50'</span><span class="p">,</span> MaxRecursionDepth<span class="o">=</span><span class="s">'13'</span><span class="p">,</span> Extents<span class="o">=</span><span class="s">'-15,15,-15,15,-15,15'</span><span class="p">)</span>

    <span class="c"># Trying to reorient the axes via basis vectors. This works but only finds 4 </span>
    <span class="c"># peaks instead of 60. Also, FindPeaksMD won't work with non-standard axis</span>
    <span class="c"># labels, so I had to co-op the standard ones.</span>
    
    peaks_QLab_Rotb_prior <span class="o">=</span> FindPeaksMD<span class="p">(</span>InputWorkspace<span class="o">=</span><span class="s">'QLab'</span><span class="p">,</span> PeakDistanceThreshold<span class="o">=</span><span class="s">'1'</span><span class="p">,</span> MaxPeaks<span class="o">=</span><span class="s">'60'</span><span class="p">)</span>

    BinMD<span class="p">(</span>InputWorkspace<span class="o">=</span><span class="s">'QLab'</span><span class="p">,</span> AxisAligned<span class="o">=</span><span class="s">'0'</span><span class="p">,</span> BasisVector0<span class="o">=</span><span class="s">'Q_lab_x,A,1,1,0'</span><span class="p">,</span> BasisVector1<span class="o">=</span><span class="s">'Q_lab_y,A,-1,1,0'</span><span class="p">,</span> BasisVector2<span class="o">=</span><span class="s">'Q_lab_z,A,0,0,1'</span><span class="p">,</span> OutputExtents<span class="o">=</span><span class="s">'-15,15,-15,15,-15,15'</span><span class="p">,</span> OutputBins<span class="o">=</span><span class="s">'10,10,10'</span><span class="p">,</span> Parallel<span class="o">=</span><span class="s">'1'</span><span class="p">,</span> OutputWorkspace<span class="o">=</span><span class="s">'QLab_Rotb'</span><span class="p">)</span>

    peaks_QLab_Rotb <span class="o">=</span> FindPeaksMD<span class="p">(</span>InputWorkspace<span class="o">=</span><span class="s">'QLab_Rotb'</span><span class="p">,</span> PeakDistanceThreshold<span class="o">=</span><span class="s">'1'</span><span class="p">,</span> MaxPeaks<span class="o">=</span><span class="s">'60'</span><span class="p">)</span>

</pre></div>
    </div>

              </div>
              <div class="change" id="trac-change-19">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:19" class="cnum">
      <a href="7325.html#comment:19">comment:19</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-28T18%3A16%3A49%2B01%3A00&amp;precision=second" title="2013-06-28T18:16:49+01:00 in Timeline">7 years</a> ago by Michael Reuter
                </h3>
                
    <div class="comment searchable">
      
      <p>
I would say that if the first case is detrimental to SCD data, then no one will be using that procedure. Therefore, I'm fine with letting that one go and not considering it any further.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-20">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:20" class="cnum">
      <a href="7325.html#comment:20">comment:20</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-07-01T10%3A06%3A04%2B01%3A00&amp;precision=second" title="2013-07-01T10:06:04+01:00 in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocked By</strong>
        <em>7386</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-21">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:21" class="cnum">
      <a href="7325.html#comment:21">comment:21</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-07-05T16%3A46%3A21%2B01%3A00&amp;precision=second" title="2013-07-05T16:46:21+01:00 in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
Now that <a class="closed ticket" href="7386.html" title="enhancement: Safe getDetectorPosition on Peak object (closed: fixed)">#7386</a> is done, re-execute the script with run_segfault=True, and the algorithm should fall over, but not crash MantidPlot. This is sufficient because the workflow to get to the point of this algorithm failing is actually unrealistic for any kind of single crystal diffraction experiments.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-22">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:22" class="cnum">
      <a href="7325.html#comment:22">comment:22</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-07-05T16%3A47%3A21%2B01%3A00&amp;precision=second" title="2013-07-05T16:47:21+01:00 in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>accepted</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-23">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:23" class="cnum">
      <a href="7325.html#comment:23">comment:23</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-07-05T18%3A18%3A53%2B01%3A00&amp;precision=second" title="2013-07-05T18:18:53+01:00 in Timeline">7 years</a> ago by Michael Reuter
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-24">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:24" class="cnum">
      <a href="7325.html#comment:24">comment:24</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-07-05T19%3A03%3A08%2B01%3A00&amp;precision=second" title="2013-07-05T19:03:08+01:00 in Timeline">7 years</a> ago by Michael Reuter
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>closed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
OK, the script does not crash Mantid anymore and the original script works as before. For the segfault case, the resulting error message
</p>
<pre class="wiki">PeaksInRegion: Detector cannot be found. search object Peak at row -1
Error in execution of algorithm PeaksInRegion:
PeaksInRegion: error (see log)
</pre><p>
especially the last line, leads one to believe there is more information to be had. I can't find any more information anywhere. I think the error message needs to be clarified a bit to either add the extra information or remove the extraneous message. I've opened <a class="closed ticket" href="7400.html" title="task: Clarify PeaksInRegion error message (closed: fixed)">#7400</a> to address this.
</p>

    </div>

                <div class="trac-lastedit ">
                  Last edited <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-07-05T19%3A45%3A36%2B01%3A00&amp;precision=second" title="2013-07-05T19:45:36+01:00 in Timeline">7 years</a> ago
                      by Michael Reuter
                    (<a href="https://trac.mantidproject.org/mantid/ticket/7325?cversion=0&amp;cnum_hist=24#comment:24">previous</a>)
                    (<a href="https://trac.mantidproject.org/mantid/ticket/7325?action=comment-diff&amp;cnum=24&amp;version=1">diff</a>)
                </div>
              </div>
              <div class="change" id="trac-change-25">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:25" class="cnum">
      <a href="7325.html#comment:25">comment:25</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-07-24T16%3A51%3A03%2B01%3A00&amp;precision=second" title="2013-07-24T16:51:03+01:00 in Timeline">7 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Component</strong>
        changed from <em>VATES</em> to <em>Diffraction</em>
    </li><li>
      <strong>Description</strong>
        modified (<a href="https://trac.mantidproject.org/mantid/ticket/7325?action=diff&amp;version=25">diff</a>)
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-26">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:26" class="cnum">
      <a href="7325.html#comment:26">comment:26</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T01%3A50%3A40%2B01%3A00&amp;precision=second" title="2015-06-04T01:50:40+01:00 in Timeline">5 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
This ticket has been transferred to github issue <a class="ext-link" href="http://github.com/mantidproject/mantid/issues/8171"><span class="icon">â€‹</span>8171</a>
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <script type="text/javascript">
        jQuery.loadStyleSheet("/mantid/pygments/trac.css", "text/css");
    </script>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/7325?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/7325?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/7325?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.5</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
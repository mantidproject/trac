<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      #10365 (SliceViewer crash)
     – Mantid Project
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="10364.html" title="Ticket #10364" />
        <link rel="last" href="11888.html" title="Ticket #11888" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/10365?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/10365?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/10365?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="10366.html" title="Ticket #10366" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mantid Project" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="a82fe30e7bef2e30fd2838e9";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/mantid/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 10365, escape_newlines: 0}
        $("#comment").autoPreview("/mantid/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/mantid/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.mantidproject.org/"><img src="../chrome/site/mantid_logo_with_name.png" alt="Mantid Logo" width="250" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://trac.mantidproject.org/mantid/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="10364.html" title="Ticket #10364">Previous Ticket</a></span></li><li><span><a class="next" href="10366.html" title="Ticket #10366">Next Ticket</a> &rarr;</span></li><li class="last"><a href="../depgraph/10365.html">Depgraph</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="10365.html">Ticket #10365</a>
          <span class="status">(closed: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-10-15T08%3A42%3A26%2B01%3A00&amp;precision=second" title="2014-10-15T08:42:26+01:00 in Timeline">6 years</a> ago</p>
    <p>Last modified <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T03%3A55%3A36%2B01%3A00&amp;precision=second" title="2015-06-04T03:55:36+01:00 in Timeline">5 years</a> ago</p>
  </div>
  <h2 class="summary searchable">SliceViewer crash</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;reporter=Owen+Arnold">Owen Arnold</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;owner=Owen+Arnold">Owen Arnold</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;priority=blocker">blocker</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="../milestone/Release&#32;3.3.html">Release 3.3</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;component=GUI">GUI</a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby"><span></span></td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking"><span><a class="assigned ticket" href="9995.html" title="Plotting slice from script does not work property">#9995</a></span></td>
        <th id="h_tester">
          Tester:
        </th>
        <td headers="h_tester">
              Federico M Pouzols
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
    </h3>
    <div class="searchable">
      <p>
Issue reported by Ross Stuart
</p>
<ul><li>Uses SofQW3.
</li><li>Plots in the SliceViewer
</li><li>Brings up the LineViewer 
</li><li>Moves the line -&gt; Crash. Bad alloc
</li></ul><p>
I can reproduce the error starting with this
</p>
<div class="code"><pre><span class="c"># create sample inelastic workspace for MARI instrument containing 1 at all spectra</span>
ws<span class="o">=</span>CreateSimulationWorkspace<span class="p">(</span>Instrument<span class="o">=</span><span class="s">'MAR'</span><span class="p">,</span>BinParams<span class="o">=</span><span class="s">'-10,1,10'</span><span class="p">)</span>
<span class="c"># convert workspace into Matrix workspace with Q-dE coordinates</span>
ws<span class="o">=</span>SofQW3<span class="p">(</span>InputWorkspace<span class="o">=</span>ws<span class="p">,</span>QAxisBinning<span class="o">=</span><span class="s">'-3,0.1,3'</span><span class="p">,</span>Emode<span class="o">=</span><span class="s">'Direct'</span><span class="p">,</span>EFixed<span class="o">=</span><span class="mi">12</span><span class="p">)</span>

plotSlice<span class="p">(</span>ws<span class="p">)</span>
</pre></div>
    </div>
  </div>
</div>
          
    <div id="attachments">
        <h2 class="foldable">Attachments</h2>
        <div>
          <dl class="attachments">
              <dt>
    <a href="../attachment/ticket/10365/Screen&#32;Shot&#32;2014-10-09&#32;at&#32;12.22.04.png.html" title="View attachment">Screen Shot 2014-10-09 at 12.22.04.png</a><a href="../raw-attachment/ticket/10365/Screen&#32;Shot&#32;2014-10-09&#32;at&#32;12.22.04.png" class="trac-rawlink" title="Download">​</a>
       (<span title="89754 bytes">87.7 KB</span>) -
      added by <em>Owen Arnold</em> <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-10-15T08%3A42%3A44%2B01%3A00&amp;precision=second" title="2014-10-15T08:42:44+01:00 in Timeline">6 years</a> ago.
  </dt>
              <dt>
    <a href="../attachment/ticket/10365/Screen&#32;Shot&#32;2014-10-20&#32;at&#32;13.34.14.png.html" title="View attachment">Screen Shot 2014-10-20 at 13.34.14.png</a><a href="../raw-attachment/ticket/10365/Screen&#32;Shot&#32;2014-10-20&#32;at&#32;13.34.14.png" class="trac-rawlink" title="Download">​</a>
       (<span title="80040 bytes">78.2 KB</span>) -
      added by <em>Owen Arnold</em> <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-10-20T13%3A34%3A06%2B01%3A00&amp;precision=second" title="2014-10-20T13:34:06+01:00 in Timeline">6 years</a> ago.
  </dt>
          </dl>
          
        </div>
    </div>

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change">
                <h3 class="change">
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-10-15T08%3A42%3A44%2B01%3A00&amp;precision=second" title="2014-10-15T08:42:44+01:00 in Timeline">6 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Attachment</strong>
        <a href="../attachment/ticket/10365/Screen&#32;Shot&#32;2014-10-09&#32;at&#32;12.22.04.png.html"><em>Screen Shot 2014-10-09 at 12.22.04.png</em></a><a href="../raw-attachment/ticket/10365/Screen&#32;Shot&#32;2014-10-09&#32;at&#32;12.22.04.png" title="Download" class="trac-rawlink">​</a>
          added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="10365.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-10-15T08%3A43%3A16%2B01%3A00&amp;precision=second" title="2014-10-15T08:43:16+01:00 in Timeline">6 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Priority</strong>
        changed from <em>major</em> to <em>blocker</em>
    </li><li>
      <strong>Component</strong>
        changed from <em>Framework</em> to <em>User Interface</em>
    </li><li>
      <strong>Milestone</strong>
        changed from <em>Backlog</em> to <em>Release 3.3</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="10365.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-10-15T10%3A44%3A21%2B01%3A00&amp;precision=second" title="2014-10-15T10:44:21+01:00 in Timeline">6 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Owner</strong>
        set to <em>Owen Arnold</em>
    </li><li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>assigned</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="10365.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-10-17T16%3A01%3A04%2B01%3A00&amp;precision=second" title="2014-10-17T16:01:04+01:00 in Timeline">6 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>assigned</em> to <em>inprogress</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="10365.html" title="SliceViewer crash (closed: fixed)">#10365</a>. Add regression test.
</p>
<p>
No fix yet. But helps with TDD.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/55a549a037806e9ea50219f475f952ab1b2338e7" title="55a549a037806e9ea50219f475f952ab1b2338e7">55a549a037806e9ea50219f475f952ab1b2338e7</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="10365.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-10-17T17%3A13%3A54%2B01%3A00&amp;precision=second" title="2014-10-17T17:13:54+01:00 in Timeline">6 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="10365.html" title="SliceViewer crash (closed: fixed)">#10365</a>. Use numeric axis not y values!
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/f1a7939dc3756bcdb6beeab50463fa938bda5343" title="f1a7939dc3756bcdb6beeab50463fa938bda5343">f1a7939dc3756bcdb6beeab50463fa938bda5343</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="10365.html#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-10-17T17%3A23%3A52%2B01%3A00&amp;precision=second" title="2014-10-17T17:23:52+01:00 in Timeline">6 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
Still need to work out why it's crashing out here:
</p>
<pre class="wiki">Thread 0 Crashed:: Dispatch queue: com.apple.main-thread
0   libstdc++.6.dylib             	0x00007fff894defde std::string::compare(std::string const&amp;) const + 10
1   MantidPlotExec                	0x000000010df47cdb bool std::operator!=&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;(std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;, std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;) + 35
2   libMantidKernel.dylib         	0x000000010eff6d69 Mantid::Kernel::PropertyWithValue&lt;bool&gt;::operator==(Mantid::Kernel::PropertyWithValue&lt;bool&gt; const&amp;) const + 71 (PropertyWithValue.h:341)
3   MantidPlotExec                	0x000000010dfca662 Mantid::Kernel::IPropertyManager* Mantid::Kernel::IPropertyManager::setTypedProperty&lt;bool&gt;(std::string const&amp;, bool const&amp;, boost::integral_constant&lt;bool, false&gt; const&amp;) + 270
4   MantidPlotExec                	0x000000010e01a99d Mantid::Kernel::IPropertyManager* Mantid::Kernel::IPropertyManager::setProperty&lt;bool&gt;(std::string const&amp;, bool const&amp;) + 57
5   libMantidQtSliceViewer.dylib  	0x0000000111a70562 MantidQt::SliceViewer::LineViewer::applyMatrixWorkspace(boost::shared_ptr&lt;Mantid::API::MatrixWorkspace&gt;) + 1436 (LineViewer.cpp:309)
6   libMantidQtSliceViewer.dylib  	0x0000000111a73c53 MantidQt::SliceViewer::LineViewer::apply() + 657 (LineViewer.cpp:488)
7   libMantidQtSliceViewer.dylib  	0x0000000111afa3ef MantidQt::SliceViewer::SliceViewerWindow::lineChanged(QPointF, QPointF, double) + 93 (SliceViewerWindow.cpp:367)
8   libMantidQtSliceViewer.dylib  	0x0000000111b0a258 MantidQt::SliceViewer::SliceViewerWindow::qt_static_metacall(QObject*, QMetaObject::Call, int, void**) + 496 (moc_SliceViewerWindow.cxx:82)
9   QtCore                        	0x00000001139171ee QMetaObject::activate(QObject*, QMetaObject const*, int, void**) + 1566
10  libMantidQtSliceViewer.dylib  	0x0000000111b0790c MantidQt::SliceViewer::LineOverlay::lineChanged(QPointF, QPointF, double) + 180 (moc_LineOverlay.cxx:110)
11  libMantidQtSliceViewer.dylib  	0x0000000111a6a513 MantidQt::SliceViewer::LineOverlay::mouseReleaseEvent(QMouseEvent*) + 219 (LineOverlay.cpp:597)
12  QtGui                         	0x000000011296b355 QWidget::event(QEvent*) + 2421
13  QtGui                         	0x000000011290e9ed QApplicationPrivate::notify_helper(QObject*, QEvent*) + 189
14  QtGui                         	0x0000000112915590 QApplication::notify(QObject*, QEvent*) + 2384
15  MantidPlotExec                	0x000000010dfafc24 MantidApplication::notify(QObject*, QEvent*) + 74
16  QtCore                        	0x00000001138ff20c QCoreApplication::notifyInternal(QObject*, QEvent*) + 124
17  QtGui                         	0x0000000112912fdd QApplicationPrivate::sendMouseEvent(QWidget*, QMouseEvent*, QWidget*, QWidget*, QWidget**, QPointer&lt;QWidget&gt;&amp;, bool) + 333
18  QtGui                         	0x00000001128c2acb qt_mac_handleMouseEvent(NSEvent*, QEvent::Type, Qt::MouseButton, QWidget*, bool) + 763
19  com.apple.AppKit              	0x00007fff9068d5d6 -[NSWindow sendEvent:] + 7053
20  QtGui                         	0x00000001128b7bb7 -[QCocoaWindow sendEvent:] + 87
21  com.apple.AppKit              	0x00007fff90689644 -[NSApplication sendEvent:] + 5761
22  QtGui                         	0x00000001128bcbf4 -[QNSApplication sendEvent:] + 84
23  com.apple.AppKit              	0x00007fff9059f21a -[NSApplication run] + 636
24  QtGui                         	0x00000001128c7a80 QEventDispatcherMac::processEvents(QFlags&lt;QEventLoop::ProcessEventsFlag&gt;) + 1824
25  QtCore                        	0x00000001138fe114 QEventLoop::processEvents(QFlags&lt;QEventLoop::ProcessEventsFlag&gt;) + 68
26  QtCore                        	0x00000001138fe4c4 QEventLoop::exec(QFlags&lt;QEventLoop::ProcessEventsFlag&gt;) + 324
27  QtCore                        	0x0000000113900bac QCoreApplication::exec() + 188
28  MantidPlotExec                	0x000000010e19c4f7 main + 4355
29  libdyld.dylib                 	0x00007fff8d2d17e1 start + 1
</pre>
    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="10365.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-10-20T10%3A34%3A48%2B01%3A00&amp;precision=second" title="2014-10-20T10:34:48+01:00 in Timeline">6 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="10365.html" title="SliceViewer crash (closed: fixed)">#10365</a>. Missing init call.
</p>
<p>
We don't need a managed algorithm. Not sure how this ever worked! Later on, I'll create a MantidPlot test for the Rebin2D lineviewer functionality to stop this from falling over again.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/8b6a517bd47b30fa52387a3da6920c654a861a04" title="8b6a517bd47b30fa52387a3da6920c654a861a04">8b6a517bd47b30fa52387a3da6920c654a861a04</a>
</p>

    </div>

              </div>
              <div class="change">
                <h3 class="change">
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-10-20T13%3A34%3A06%2B01%3A00&amp;precision=second" title="2014-10-20T13:34:06+01:00 in Timeline">6 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Attachment</strong>
        <a href="../attachment/ticket/10365/Screen&#32;Shot&#32;2014-10-20&#32;at&#32;13.34.14.png.html"><em>Screen Shot 2014-10-20 at 13.34.14.png</em></a><a href="../raw-attachment/ticket/10365/Screen&#32;Shot&#32;2014-10-20&#32;at&#32;13.34.14.png" title="Download" class="trac-rawlink">​</a>
          added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="10365.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-10-20T13%3A37%3A10%2B01%3A00&amp;precision=second" title="2014-10-20T13:37:10+01:00 in Timeline">6 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>inprogress</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
This is fixed now (screenshot above was part of my testing) taken from the original problem provided by the user.
</p>
<p>
Tester, you are best off using the small example in the ticket description to test this. There should be no crash. The plotting in the SliceViewer LinePlot should work. However, you will note that the Y scale of the plots is wrong (prints SpectraNumber), which is a general problem, which I will open a separate ticket up for.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="10365.html#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-10-20T13%3A46%3A35%2B01%3A00&amp;precision=second" title="2014-10-20T13:46:35+01:00 in Timeline">6 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
Created <a class="closed ticket" href="10365.html" title="SliceViewer crash (closed: fixed)">#10365</a> for the plot axis label issue.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="10365.html#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-10-20T14%3A12%3A18%2B01%3A00&amp;precision=second" title="2014-10-20T14:12:18+01:00 in Timeline">6 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="10365.html" title="SliceViewer crash (closed: fixed)">#10365</a>. Fix warnings.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/a16912806148eabc0635043a108d54ebb9e3ee7c" title="a16912806148eabc0635043a108d54ebb9e3ee7c">a16912806148eabc0635043a108d54ebb9e3ee7c</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="10365.html#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-10-20T16%3A50%3A03%2B01%3A00&amp;precision=second" title="2014-10-20T16:50:03+01:00 in Timeline">6 years</a> ago by Federico M Pouzols
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li><li>
      <strong>Tester</strong>
        set to <em>Federico M Pouzols</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="10365.html#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-10-20T17%3A05%3A01%2B01%3A00&amp;precision=second" title="2014-10-20T17:05:01+01:00 in Timeline">6 years</a> ago by Federico M Pouzols
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>closed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
I'm happy to confirm the crash in previous versions, and that after the fix there's no crash
</p>
<p>
Before, you would get a pop-up as in the screenshot, and messages like this:
</p>
<pre class="wiki">tcmalloc: large alloc 1073741824 bytes == 0x44434000 @  0x7f377e22bdcb 0x7f377e22bf1b 0x7f377e22bf35 0x7f377e22bba5 0x7f377e22c474 0x7f377e22c544 0x7f377e25e87e 0x7f37844d7d8f 0x7f37844d7e40 0x7d7274 0x7f37841df178 0x7f37841dfbf7 0x7f37841dffb5 0x7f37841e9dc7 0x7f37841e664a 0x7f3786ffe4f0 0x7f378704009f 0x7f37845d7c5c 0x7f378703e6cc 0x7f3786ff42c5 0x7f378531cf37 0x7f37852c931c 0x7f37852cff7f 0x862959 0x7f37845c2cad 0x7f37852cf5af 0x7f37853462fe 0x7f3785344cb2 0x7f378536df92 0x7f3778fb4c5d 0x7f3778fb4f48
tcmalloc: large alloc 2147491840 bytes == 0x84434000 @  0x7f377e22bdcb 0x7f377e22bf1b 0x7f377e22bf35 0x7f377e22bba5 0x7f377e22c474 0x7f377e22c544 0x7f377e25e87e 0x7f37844d7d8f 0x7f37844d7e40 0x7d7274 0x7f37841df178 0x7f37841dfbf7 0x7f37841dffb5 0x7f37841e9dc7 0x7f37841e664a 0x7f3786ffe4f0 0x7f378704009f 0x7f37845d7c5c 0x7f378703e6cc 0x7f3786ff42c5 0x7f378531cf37 0x7f37852c931c 0x7f37852cff7f 0x862959 0x7f37845c2cad 0x7f37852cf5af 0x7f37853462fe 0x7f3785344cb2 0x7f378536df92 0x7f3778fb4c5d 0x7f3778fb4f48
tcmalloc: large alloc 18446744071562076160 bytes == (nil) @  0x7f377e22bdcb 0x7f377e22bf1b 0x7f377e22bf35 0x7f377e22bba5 0x7f377e22c474 0x7f377e22c544 0x7f377e25e87e 0x7f37844d7d8f 0x7f37844d7e40 0x7d7274 0x7f37841df178 0x7f37841dfbf7 0x7f37841dffb5 0x7f37841e9dc7 0x7f37841e664a 0x7f3786ffe4f0 0x7f378704009f 0x7f37845d7c5c 0x7f378703e6cc 0x7f3786ff42c5 0x7f378531cf37 0x7f37852c931c 0x7f37852cff7f 0x862959 0x7f37845c2cad 0x7f37852cf5af 0x7f37853462fe 0x7f3785344cb2 0x7f378536df92 0x7f3778fb4c5d 0x7f3778fb4f48
MantidApplication-[Fatal] Unexpected exception: std::bad_alloc
</pre><p>
(the code changes look sound to me, and it comes with a new test).
</p>

    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="10365.html#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-10-20T17%3A08%3A31%2B01%3A00&amp;precision=second" title="2014-10-20T17:08:31+01:00 in Timeline">6 years</a> ago by Federico Montesino Pouzols
                </h3>
                
    <div class="comment searchable">
      
      <p>
Merge remote-tracking branch 'origin/feature/10365_slice_viewer_crash'
</p>
<p>
Full changeset: <a class="ext-link" href="https://github.com/mantidproject/mantid/commit/a841023b0767f1283dc34fa577dd0153b84bfcf8"><span class="icon">​</span>a841023b0767f1283dc34fa577dd0153b84bfcf8</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="10365.html#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-11-27T15%3A05%3A47Z&amp;precision=second" title="2014-11-27T15:05:47Z in Timeline">6 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocking</strong>
        <em>9995</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
(In <a class="assigned ticket" href="9995.html" title="Plotting slice from script does not work property (assigned)">#9995</a>) Reference pre-tickets that were stopping me from working on this.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-14">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:14" class="cnum">
      <a href="10365.html#comment:14">comment:14</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T03%3A55%3A36%2B01%3A00&amp;precision=second" title="2015-06-04T03:55:36+01:00 in Timeline">5 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
This ticket has been transferred to github issue <a class="ext-link" href="http://github.com/mantidproject/mantid/issues/11207"><span class="icon">​</span>11207</a>
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <script type="text/javascript">
        jQuery.loadStyleSheet("/mantid/pygments/trac.css", "text/css");
    </script>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/10365?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/10365?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/10365?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.5</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      #8545 (SANS Gui to slice Event mode data)
     – Mantid Project
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="8544.html" title="Ticket #8544" />
        <link rel="last" href="11888.html" title="Ticket #11888" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/8545?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/8545?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/8545?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="8546.html" title="Ticket #8546" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mantid Project" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="a82fe30e7bef2e30fd2838e9";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/mantid/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 8545, escape_newlines: 0}
        $("#comment").autoPreview("/mantid/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/mantid/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.mantidproject.org/"><img src="../chrome/site/mantid_logo_with_name.png" alt="Mantid Logo" width="250" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://trac.mantidproject.org/mantid/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="8544.html" title="Ticket #8544">Previous Ticket</a></span></li><li><span><a class="next" href="8546.html" title="Ticket #8546">Next Ticket</a> &rarr;</span></li><li class="last"><a href="../depgraph/8545.html">Depgraph</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="8545.html">Ticket #8545</a>
          <span class="status">(closed: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-04T10%3A11%3A10Z&amp;precision=second" title="2013-12-04T10:11:10Z in Timeline">7 years</a> ago</p>
    <p>Last modified <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T02%3A41%3A10%2B01%3A00&amp;precision=second" title="2015-06-04T02:41:10+01:00 in Timeline">5 years</a> ago</p>
  </div>
  <h2 class="summary searchable">SANS Gui to slice Event mode data</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;reporter=Gesner+Passos">Gesner Passos</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;owner=Gesner+Passos">Gesner Passos</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;priority=major">major</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="../milestone/Release&#32;3.1.html">Release 3.1</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;component=SANS">SANS</a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
              peter.parker@…
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby"><span><a class="closed ticket" href="8535.html" title="GUI support for slicing events">#8535</a></span></td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking"><span></span></td>
        <th id="h_tester">
          Tester:
        </th>
        <td headers="h_tester">
              Peter Parker
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
    </h3>
    <div class="searchable">
      <p>
This ticket with <a class="closed ticket" href="8535.html" title="enhancement: GUI support for slicing events (closed: fixed)">#8535</a> will implement what was required in <a class="closed ticket" href="6530.html" title="enhancement: SANS: allow gui to load time sliced event data directly (closed: duplicate)">#6530</a>. I'm opening a new ticket because the commits for that ticket were abandoned, and would cause confusion. 
</p>
<p>
Add the right of the the Multi-period tick box a input text box for a user to specify time slicing.
</p>
<p>
If this input text box is filled, and a user has specified an event data set, time-slice the event data
</p>
<p>
Report from meeting with sans inst scientists.
</p>
<p>
Until told otherwise time slicing must only be applied to data specified in the Scattering-Sample input box (top left hand corner input file)
</p>
<p>
Suggest is on the 'Run Numbers' tab to have the interface
</p>
<p>
Have a tick box called 'Time slicing' to the right of 'Multi-period' tick box, which if clicked allows the following lines on the 'Run Numbers' tab
</p>
<p>
From (sec) to (sec) Events (muA)
</p>
<p>
Whole file: 0.0 246.0 46
</p>
<p>
Input time range: 3.0 12.0 1.32
</p>
<p>
If slice range selected so small that either over less than one frame of data or less than 0.01 muA of neutrons counted then pop up a warning window telling the user about this, and ignore this reduction, but otherwise continue as normal. The latter is important when processing a batch file.
</p>
<p>
When time slicing is used add to the end of the workspace name _t3.0_12.0, where in this example 3.0 is the from time and 12.0 is the to time
</p>
<p>
Richard offered his scripts being used to slice and rebin event data. And pointed the trick used (around line 47) to avoid losing precision on the values of the time since the start of the run.
</p>

    </div>
  </div>
</div>
          

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="8545.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-04T10%3A13%3A01Z&amp;precision=second" title="2013-12-04T10:13:01Z in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
    <div class="comment searchable">
      
      <p>
Tester: follow the instructions in <a class="ext-link" href="6530.html#comment:9"><span class="icon">​</span>http://trac.mantidproject.org/mantid/ticket/6530#comment:9</a>. 
</p>
<p>
Besides, it is worth checking that the results are the same expected using the script that the user provided. 
</p>

    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="8545.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-04T15%3A50%3A14Z&amp;precision=second" title="2013-12-04T15:50:14Z in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>inprogress</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Here is how to check the results: 
</p>
<ul><li>Execute the file: <a class="ext-link" href="../attachment/ticket/6530/SANS2d_event_to_hist_4.py.html"><span class="icon">​</span>http://trac.mantidproject.org/mantid/attachment/ticket/6530/SANS2d_event_to_hist_4.py</a>
</li></ul><ul><li>change to single mode, and change the sample for: SANS2D00017523_003.nxs
</li></ul><ul><li>Run the reduction 
</li></ul><ul><li>compare the result 3rear_1D_1.75_16.5 with the output 17523rear_1D_1.75_16.5_t5000.00_T10000.00. 
</li><li>change the sample to SANS2D00017523_001.nxs
</li><li>compare the result with 17523rear_1D_1.75_16.5_t0.00_T30.00
</li></ul>
    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="8545.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-04T15%3A58%3A30Z&amp;precision=second" title="2013-12-04T15:58:30Z in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
    <div class="comment searchable">
      
      <p>
Besides, this ticket speaks about having a GUI to provide slicing capabilities.
</p>
<p>
Change the sample to 17523 and press Load. 
</p>
<p>
You will open this GUI by pressing the pushbutton: Time slicing inside the SANS Interface. 
</p>
<p>
It will open a GUI that will allow you to slice workspaces, and it will tell you the charge in the original workspace and inside the sliced one. 
</p>
<p>
The combobox will allow you to select any event workspace. The labels will tell you the charges and the time of the experiment. You will be able to select limits from/to and by clicking in apply, you will create a workspace sliced. The output workspace is a histogram workspace.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="8545.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-05T10%3A30%3A18Z&amp;precision=second" title="2013-12-05T10:30:18Z in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
    <div class="comment searchable">
      
      <p>
Tester, there is one issue with this GUI, that after applying the slices it ends up showing histograms workspaces. This issue was raised in the ticket <a class="closed ticket" href="8558.html" title="defect: Workspace Selector does not process Replaced Workspaces (closed: fixed)">#8558</a>. And the correction of that error will fix this issue here. Hence, don't bother in it.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="8545.html#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-05T11%3A11%3A24Z&amp;precision=second" title="2013-12-05T11:11:24Z in Timeline">7 years</a> ago by Peter Parker
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Cc</strong>
        <em>peter.parker@…</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="8545.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-05T14%3A49%3A00Z&amp;precision=second" title="2013-12-05T14:49:00Z in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
    <div class="comment searchable">
      
      <p>
It seems to have lost the commits against this ticket. Follow this link to check what was done: 
</p>
<p>
<a class="ext-link" href="https://github.com/mantidproject/mantid/compare/feature;8545_gui_to_slice_data"><span class="icon">​</span>https://github.com/mantidproject/mantid/compare/feature;8545_gui_to_slice_data</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="8545.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-05T14%3A49%3A05Z&amp;precision=second" title="2013-12-05T14:49:05Z in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>inprogress</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="8545.html#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-05T15%3A29%3A45Z&amp;precision=second" title="2013-12-05T15:29:45Z in Timeline">7 years</a> ago by Peter Parker
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li><li>
      <strong>Tester</strong>
        set to <em>Peter Parker</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="8545.html#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-05T16%3A39%3A59Z&amp;precision=second" title="2013-12-05T16:39:59Z in Timeline">7 years</a> ago by Peter Parker
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>closed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Merge remote-tracking branch 'origin/feature/8545_gui_to_slice_data'
</p>
<p>
Full changeset: <a class="ext-link" href="https://github.com/mantidproject/mantid/commit/f14717bc3c28e53e9666e75d2dcb3cdb789186ae"><span class="icon">​</span>f14717bc3c28e53e9666e75d2dcb3cdb789186ae</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="8545.html#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T02%3A41%3A10%2B01%3A00&amp;precision=second" title="2015-06-04T02:41:10+01:00 in Timeline">5 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
This ticket has been transferred to github issue <a class="ext-link" href="http://github.com/mantidproject/mantid/issues/9389"><span class="icon">​</span>9389</a>
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/8545?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/8545?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/8545?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.5</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
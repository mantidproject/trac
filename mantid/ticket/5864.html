<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      #5864 (Algorithms testing for input/output workspace equivalence via name instead of pointer)
     – Mantid Project
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="5863.html" title="Ticket #5863" />
        <link rel="last" href="11888.html" title="Ticket #11888" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/5864?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/5864?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/5864?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="5865.html" title="Ticket #5865" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mantid Project" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="a82fe30e7bef2e30fd2838e9";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/mantid/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 5864, escape_newlines: 0}
        $("#comment").autoPreview("/mantid/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/mantid/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.mantidproject.org/"><img src="../chrome/site/mantid_logo_with_name.png" alt="Mantid Logo" width="250" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://trac.mantidproject.org/mantid/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="5863.html" title="Ticket #5863">Previous Ticket</a></span></li><li class="last"><span><a class="next" href="5865.html" title="Ticket #5865">Next Ticket</a> &rarr;</span></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="5864.html">Ticket #5864</a>
          <span class="status">(closed: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-09-14T18%3A53%3A39%2B01%3A00&amp;precision=second" title="2012-09-14T18:53:39+01:00 in Timeline">8 years</a> ago</p>
    <p>Last modified <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T00%3A50%3A08%2B01%3A00&amp;precision=second" title="2015-06-04T00:50:08+01:00 in Timeline">5 years</a> ago</p>
  </div>
  <h2 class="summary searchable">Algorithms testing for input/output workspace equivalence via name instead of pointer</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;reporter=Russell+Taylor">Russell Taylor</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;owner=Russell+Taylor">Russell Taylor</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;priority=critical">critical</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="../milestone/Release&#32;2.3.html">Release 2.3</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;component=Mantid">Mantid</a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby"><span></span></td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking"><span></span></td>
        <th id="h_tester">
          Tester:
        </th>
        <td headers="h_tester">
              Martyn Gigg
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
    </h3>
    <div class="searchable">
      <p>
Generally, algorithms should test whether the user has requested that the output workspace be the same as the input one via the pointer, not the name, as when called as a sub-algorithm the name may not be there. I recently fixed (<a class="closed ticket" href="5860.html" title="defect: SaveNexus cannot be run as a subalgorithm (closed: fixed)">#5860</a>) SaveNexus, which was doing it wrong, and thought I'd look for other instances.
</p>
<p>
A search on <em>getPropertyValue("InputWorkspace</em> in algorithm source code finds the following. Not all these instances are necessarily incorrect, but I'm pretty sure some will be:
</p>
<pre class="wiki">Algorithms/src/ChangeBinOffset.cpp:      if (getPropertyValue("InputWorkspace") == getPropertyValue("OutputWorkspace"))
Algorithms/src/ChangeLogTime.cpp:    msg &lt;&lt; "InputWorkspace \'" &lt;&lt; this-&gt;getPropertyValue("InputWorkspace")
Algorithms/src/ConjoinWorkspaces.cpp:  AnalysisDataService::Instance().remove(getPropertyValue("InputWorkspace2"));
Algorithms/src/ConjoinWorkspaces.cpp:  AnalysisDataService::Instance().remove(getPropertyValue("InputWorkspace1"));
Algorithms/src/ConjoinWorkspaces.cpp:  AnalysisDataService::Instance().remove(getPropertyValue("InputWorkspace2"));
Algorithms/src/ConjoinWorkspaces.cpp:  declareProperty(new WorkspaceProperty&lt;&gt;("Output",getPropertyValue("InputWorkspace1"),Direction::Output));
Algorithms/src/ConjoinWorkspaces.cpp:  if (retval) AnalysisDataService::Instance().remove(getPropertyValue("InputWorkspace2"));
Algorithms/src/DiffractionEventCalibrateDetectors.cpp:      alg2-&gt;setPropertyValue("InputWorkspace", getPropertyValue("InputWorkspace"));
Algorithms/src/DiffractionFocussing2.cpp:  bool inPlace = (this-&gt;getPropertyValue("InputWorkspace") == this-&gt;getPropertyValue("OutputWorkspace"));
Algorithms/src/FilterByLogValue.cpp:  if (getPropertyValue("InputWorkspace") == getPropertyValue("OutputWorkspace"))
Algorithms/src/FindDeadDetectors.cpp:        childAlg-&gt;setPropertyValue( "InputWorkspace", getPropertyValue("InputWorkspace") );
Algorithms/src/GetEi.cpp:                              getPropertyValue("InputWorkspace") );
Algorithms/src/MaskBinsFromTable.cpp:        maskbins-&gt;setPropertyValue("InputWorkspace", this-&gt;getPropertyValue("InputWorkspace"));
Algorithms/src/ModeratorTzero.cpp:  if (getPropertyValue("InputWorkspace") == getPropertyValue("OutputWorkspace"))
Algorithms/src/MuonRemoveExpDecay.cpp:    if (getPropertyValue("InputWorkspace") != getPropertyValue("OutputWorkspace"))
Algorithms/src/NormaliseByCurrent.cpp:  if (getPropertyValue("InputWorkspace") != getPropertyValue("OutputWorkspace"))
Algorithms/src/Rebin.cpp:          subAlg-&gt;setPropertyValue("InputWorkspace", getPropertyValue("InputWorkspace"));
Algorithms/src/RenameWorkspace.cpp:  if (getPropertyValue("InputWorkspace") == getPropertyValue("OutputWorkspace"))
Algorithms/src/ResetNegatives.cpp:    alg-&gt;setPropertyValue("InputWorkspace", this-&gt;getPropertyValue("InputWorkspace"));
Algorithms/src/ResetNegatives.cpp:      if (this-&gt;getPropertyValue("InputWorkspace") == this-&gt;getPropertyValue("OutputWorkspace"))
Algorithms/src/ResetNegatives.cpp:        setPropertyValue("OutputWorkspace", this-&gt;getPropertyValue("InputWorkspace"));
Algorithms/src/ResetNegatives.cpp:        alg-&gt;setPropertyValue("InputWorkspace", this-&gt;getPropertyValue("InputWorkspace"));
Algorithms/src/SassenaFFT.cpp:  const std::string gwsName = this-&gt;getPropertyValue("InputWorkspace");
Algorithms/src/ScaleX.cpp:      if (getPropertyValue("InputWorkspace") == getPropertyValue("OutputWorkspace"))
Algorithms/src/ShiftLogTime.cpp:      msg &lt;&lt; "InputWorkspace \'" &lt;&lt; this-&gt;getPropertyValue("InputWorkspace")
Algorithms/src/StripVanadiumPeaks.cpp:  if (inputEvent &amp;&amp; (getPropertyValue("InputWorkspace") == getPropertyValue("OutputWorkspace")))
Algorithms/src/SumRowColumn.cpp:  childAlg-&gt;setPropertyValue( "InputWorkspace", getPropertyValue("InputWorkspace") );
Crystal/src/AnvredCorrection.cpp:  bool inPlace = (this-&gt;getPropertyValue("InputWorkspace") == this-&gt;getPropertyValue("OutputWorkspace"));
DataHandling/src/LoadLOQDistancesFromRaw.cpp:    alg-&gt;setPropertyValue("Workspace", getPropertyValue("InputWorkspace"));
DataHandling/src/LoadSampleDetailsFromRaw.cpp:    g_log.error() &lt;&lt; "Cannot retrieve InputWorkspace " &lt;&lt; getPropertyValue("InputWorkspace");
DataHandling/src/LoadSampleDetailsFromRaw.cpp:    throw Exception::NotFoundError("Cannot retrieve InputWorkspace", getPropertyValue("InputWorkspace"));
DataHandling/src/SaveRKH.cpp:    &lt;&lt; " Workspace: " &lt;&lt; getPropertyValue("InputWorkspace") &lt;&lt; "\n";
DataHandling/src/SaveToSNSHistogramNexus.cpp:    m_inputWorkspaceName = getPropertyValue("InputWorkspace");
MPIAlgorithms/src/BroadcastWorkspace.cpp:      g_log.fatal("InputWorkspace '" + getPropertyValue("InputWorkspace") + "' not found in root process");
WorkflowAlgorithms/src/EQSANSReduce.cpp:  const std::string inputWSName = getPropertyValue("InputWorkspace");
WorkflowAlgorithms/src/SANSSensitivityCorrection.cpp:  const std::string inputWSName = getPropertyValue("InputWorkspace");
</pre>
    </div>
  </div>
</div>
          

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="5864.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-09-14T21%3A14%3A52%2B01%3A00&amp;precision=second" title="2012-09-14T21:14:52+01:00 in Timeline">8 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="5864.html" title="defect: Algorithms testing for input/output workspace equivalence via name instead ... (closed: fixed)">#5864</a>. Compare input/output workspace by pointer, not name.
</p>
<p>
Change a few places where a check for workspace same-ness was using
the name rather than the pointer. This can fail to do what it should
when an algorithm is being run as a subalgorithm.
</p>
<p>
Algorithms fixed: ChangeBinOffset, ModeratorTzero, NormaliseByCurrent &amp; Rebin 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/31605562d4411fcbfbd24523da7b9b9dfcf2c138" title="31605562d4411fcbfbd24523da7b9b9dfcf2c138">31605562d4411fcbfbd24523da7b9b9dfcf2c138</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="5864.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-09-14T21%3A15%3A32%2B01%3A00&amp;precision=second" title="2012-09-14T21:15:32+01:00 in Timeline">8 years</a> ago by Russell Taylor
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>accepted</em>
    </li><li>
      <strong>Owner</strong>
        set to <em>Russell Taylor</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="5864.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-09-14T21%3A16%3A03%2B01%3A00&amp;precision=second" title="2012-09-14T21:16:03+01:00 in Timeline">8 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
I also verified that ChangeLogTime, which was captured in the grep, is OK - it's just a log message.
</p>

    </div>

                <div class="trac-lastedit ">
                  Last edited <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-09-14T21%3A16%3A25%2B01%3A00&amp;precision=second" title="2012-09-14T21:16:25+01:00 in Timeline">8 years</a> ago
                      by Russell Taylor
                    (<a href="https://trac.mantidproject.org/mantid/ticket/5864?cversion=0&amp;cnum_hist=3#comment:3">previous</a>)
                    (<a href="https://trac.mantidproject.org/mantid/ticket/5864?action=comment-diff&amp;cnum=3&amp;version=1">diff</a>)
                </div>
              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="5864.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-10-17T20%3A41%3A10%2B01%3A00&amp;precision=second" title="2012-10-17T20:41:10+01:00 in Timeline">8 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="5864.html" title="defect: Algorithms testing for input/output workspace equivalence via name instead ... (closed: fixed)">#5864</a>. Fix more places where workspace name was being used
</p>
<p>
instead of (correctly) the pointer. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/07e36b739add9611522beb194ff6c2142f20d5e7" title="07e36b739add9611522beb194ff6c2142f20d5e7">07e36b739add9611522beb194ff6c2142f20d5e7</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="5864.html#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-10-17T21%3A34%3A40%2B01%3A00&amp;precision=second" title="2012-10-17T21:34:40+01:00 in Timeline">8 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="5864.html" title="defect: Algorithms testing for input/output workspace equivalence via name instead ... (closed: fixed)">#5864</a>. More usage of workspace name instead of pointer eliminated. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/3b20a45977384644977d6188c4824224b8a47312" title="3b20a45977384644977d6188c4824224b8a47312">3b20a45977384644977d6188c4824224b8a47312</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="5864.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-10-17T21%3A44%3A10%2B01%3A00&amp;precision=second" title="2012-10-17T21:44:10+01:00 in Timeline">8 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
With the exception of ConjoinWorkspace - which is a bit more challenging to untangle due to its direct use of the ADS - all of the places identified in the description have been dealt with. A few remain, but are valid uses of the name.
</p>
<p>
However, do a grep like <tt>getPropertyValue\(\.*Workspace</tt> and you see a whole bunch of other places that need fixing....
</p>

    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="5864.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-10-25T22%3A09%3A18%2B01%3A00&amp;precision=second" title="2012-10-25T22:09:18+01:00 in Timeline">8 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
In fact, ConjoinWorkspaces is OK as a call to the ADS remove() method just gives a warning if the workspace isn't there.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="5864.html#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-10-26T22%3A23%3A21%2B01%3A00&amp;precision=second" title="2012-10-26T22:23:21+01:00 in Timeline">8 years</a> ago by Russell Taylor
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>accepted</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Everything in the original ticket is sorted. I'll create another ticket for the next iteration to look at places shown up by the grep mentioned in <a href="5864.html#comment:6" title="Comment 6 for Ticket #5864">comment:6</a>.
</p>
<p>
How to test? Well, the rigorous way would be to make sure that all the algorithms can be successfully run as child algorithms with the input workspaces not being in the ADS. More realistically, just look at the code changes and observe that all tests are passing.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="5864.html#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-10-29T10%3A49%3A03Z&amp;precision=second" title="2012-10-29T10:49:03Z in Timeline">8 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li><li>
      <strong>Tester</strong>
        set to <em>Martyn Gigg</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="5864.html#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-10-29T10%3A53%3A28Z&amp;precision=second" title="2012-10-29T10:53:28Z in Timeline">8 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>closed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Code changes make sense and the tests are all passing. Was the other ticket created?  
</p>

    </div>

                <div class="trac-lastedit ">
                  Last edited <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-10-29T10%3A53%3A45Z&amp;precision=second" title="2012-10-29T10:53:45Z in Timeline">8 years</a> ago
                      by Martyn Gigg
                    (<a href="https://trac.mantidproject.org/mantid/ticket/5864?cversion=0&amp;cnum_hist=10#comment:10">previous</a>)
                    (<a href="https://trac.mantidproject.org/mantid/ticket/5864?action=comment-diff&amp;cnum=10&amp;version=1">diff</a>)
                </div>
              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="5864.html#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-11-02T16%3A42%3A33Z&amp;precision=second" title="2012-11-02T16:42:33Z in Timeline">8 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="5864.html" title="defect: Algorithms testing for input/output workspace equivalence via name instead ... (closed: fixed)">#5864</a>. Compare input/output workspace by pointer, not name.
</p>
<p>
Change a few places where a check for workspace same-ness was using
the name rather than the pointer. This can fail to do what it should
when an algorithm is being run as a subalgorithm.
</p>
<p>
Algorithms fixed: ChangeBinOffset, ModeratorTzero, NormaliseByCurrent &amp; Rebin 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/31605562d4411fcbfbd24523da7b9b9dfcf2c138" title="31605562d4411fcbfbd24523da7b9b9dfcf2c138">31605562d4411fcbfbd24523da7b9b9dfcf2c138</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="5864.html#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-11-02T16%3A45%3A00Z&amp;precision=second" title="2012-11-02T16:45:00Z in Timeline">8 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="5864.html" title="defect: Algorithms testing for input/output workspace equivalence via name instead ... (closed: fixed)">#5864</a>. Fix more places where workspace name was being used
</p>
<p>
instead of (correctly) the pointer. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/07e36b739add9611522beb194ff6c2142f20d5e7" title="07e36b739add9611522beb194ff6c2142f20d5e7">07e36b739add9611522beb194ff6c2142f20d5e7</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="5864.html#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-11-02T16%3A45%3A00Z&amp;precision=second" title="2012-11-02T16:45:00Z in Timeline">8 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="5864.html" title="defect: Algorithms testing for input/output workspace equivalence via name instead ... (closed: fixed)">#5864</a>. More usage of workspace name instead of pointer eliminated. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/3b20a45977384644977d6188c4824224b8a47312" title="3b20a45977384644977d6188c4824224b8a47312">3b20a45977384644977d6188c4824224b8a47312</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-14">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:14" class="cnum">
      <a href="5864.html#comment:14">comment:14</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T00%3A50%3A08%2B01%3A00&amp;precision=second" title="2015-06-04T00:50:08+01:00 in Timeline">5 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
This ticket has been transferred to github issue <a class="ext-link" href="http://github.com/mantidproject/mantid/issues/6710"><span class="icon">​</span>6710</a>
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/5864?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/5864?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/5864?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.5</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      #7548 (Fix issues with Quantification)
     – Mantid Project
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="7547.html" title="Ticket #7547" />
        <link rel="last" href="11888.html" title="Ticket #11888" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/7548?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/7548?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/7548?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="7549.html" title="Ticket #7549" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mantid Project" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="a82fe30e7bef2e30fd2838e9";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/mantid/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 7548, escape_newlines: 0}
        $("#comment").autoPreview("/mantid/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/mantid/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.mantidproject.org/"><img src="../chrome/site/mantid_logo_with_name.png" alt="Mantid Logo" width="250" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://trac.mantidproject.org/mantid/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="7547.html" title="Ticket #7547">Previous Ticket</a></span></li><li class="last"><span><a class="next" href="7549.html" title="Ticket #7549">Next Ticket</a> &rarr;</span></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="7548.html">Ticket #7548</a>
          <span class="status">(closed: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-07-29T09%3A05%3A00%2B01%3A00&amp;precision=second" title="2013-07-29T09:05:00+01:00 in Timeline">7 years</a> ago</p>
    <p>Last modified <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T01%3A59%3A50%2B01%3A00&amp;precision=second" title="2015-06-04T01:59:50+01:00 in Timeline">5 years</a> ago</p>
  </div>
  <h2 class="summary searchable">Fix issues with Quantification</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;reporter=Martyn+Gigg">Martyn Gigg</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;owner=Martyn+Gigg">Martyn Gigg</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;priority=critical">critical</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="../milestone/Release&#32;3.0.html">Release 3.0</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;component=Direct+Inelastic">Direct Inelastic</a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby"><span></span></td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking"><span></span></td>
        <th id="h_tester">
          Tester:
        </th>
        <td headers="h_tester">
              Gesner Passos
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
      <span class="lastmod" title="2013-10-25 07:14:22.382707+00:00">
        (last modified by Martyn Gigg)
        (<a href="https://trac.mantidproject.org/mantid/ticket/7548?action=diff&amp;version=2">diff</a>)
      </span>
    </h3>
    <div class="searchable">
      <p>
Russell Ewings has compiled some scripts &amp; plots detailing differences with Mantid &amp; TobyFit. These need to be addressed. The scripts and plots are attached
</p>

    </div>
  </div>
</div>
          
    <div id="attachments">
        <h2 class="foldable">Attachments</h2>
        <div>
          <dl class="attachments">
              <dt>
    <a href="../attachment/ticket/7548/Tobyfit_Mantid_differences_summary.pdf.html" title="View attachment">Tobyfit_Mantid_differences_summary.pdf</a><a href="../raw-attachment/ticket/7548/Tobyfit_Mantid_differences_summary.pdf" class="trac-rawlink" title="Download">​</a>
       (<span title="50589 bytes">49.4 KB</span>) -
      added by <em>Martyn Gigg</em> <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-25T08%3A14%3A41%2B01%3A00&amp;precision=second" title="2013-10-25T08:14:41+01:00 in Timeline">7 years</a> ago.
  </dt>
              <dt>
    <a href="../attachment/ticket/7548/iliad_merlin_sr122.py.html" title="View attachment">iliad_merlin_sr122.py</a><a href="../raw-attachment/ticket/7548/iliad_merlin_sr122.py" class="trac-rawlink" title="Download">​</a>
       (<span title="1226 bytes">1.2 KB</span>) -
      added by <em>Martyn Gigg</em> <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-25T08%3A14%3A51%2B01%3A00&amp;precision=second" title="2013-10-25T08:14:51+01:00 in Timeline">7 years</a> ago.
  </dt>
              <dt>
    <a href="../attachment/ticket/7548/Sr122_individual_components.py.html" title="View attachment">Sr122_individual_components.py</a><a href="../raw-attachment/ticket/7548/Sr122_individual_components.py" class="trac-rawlink" title="Download">​</a>
       (<span title="8438 bytes">8.2 KB</span>) -
      added by <em>Martyn Gigg</em> <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-25T08%3A14%3A56%2B01%3A00&amp;precision=second" title="2013-10-25T08:14:56+01:00 in Timeline">7 years</a> ago.
  </dt>
              <dt>
    <a href="../attachment/ticket/7548/Sr122_individual_components_plots.py.html" title="View attachment">Sr122_individual_components_plots.py</a><a href="../raw-attachment/ticket/7548/Sr122_individual_components_plots.py" class="trac-rawlink" title="Download">​</a>
       (<span title="9793 bytes">9.6 KB</span>) -
      added by <em>Martyn Gigg</em> <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-25T08%3A15%3A02%2B01%3A00&amp;precision=second" title="2013-10-25T08:15:02+01:00 in Timeline">7 years</a> ago.
  </dt>
              <dt>
    <a href="../attachment/ticket/7548/Sr122_individual_components_mg.py.html" title="View attachment">Sr122_individual_components_mg.py</a><a href="../raw-attachment/ticket/7548/Sr122_individual_components_mg.py" class="trac-rawlink" title="Download">​</a>
       (<span title="7101 bytes">6.9 KB</span>) -
      added by <em>Martyn Gigg</em> <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-28T11%3A31%3A01Z&amp;precision=second" title="2013-10-28T11:31:01Z in Timeline">7 years</a> ago.
  </dt>
          </dl>
          
        </div>
    </div>

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="7548.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-23T10%3A29%3A07%2B01%3A00&amp;precision=second" title="2013-10-23T10:29:07+01:00 in Timeline">7 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Component</strong>
        changed from <em>Framework</em> to <em>Direct Inelastic</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="7548.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-25T08%3A14%3A22%2B01%3A00&amp;precision=second" title="2013-10-25T08:14:22+01:00 in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Description</strong>
        modified (<a href="https://trac.mantidproject.org/mantid/ticket/7548?action=diff&amp;version=2">diff</a>)
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change">
                <h3 class="change">
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-25T08%3A14%3A41%2B01%3A00&amp;precision=second" title="2013-10-25T08:14:41+01:00 in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Attachment</strong>
        <a href="../attachment/ticket/7548/Tobyfit_Mantid_differences_summary.pdf.html"><em>Tobyfit_Mantid_differences_summary.pdf</em></a><a href="../raw-attachment/ticket/7548/Tobyfit_Mantid_differences_summary.pdf" title="Download" class="trac-rawlink">​</a>
          added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change">
                <h3 class="change">
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-25T08%3A14%3A51%2B01%3A00&amp;precision=second" title="2013-10-25T08:14:51+01:00 in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Attachment</strong>
        <a href="../attachment/ticket/7548/iliad_merlin_sr122.py.html"><em>iliad_merlin_sr122.py</em></a><a href="../raw-attachment/ticket/7548/iliad_merlin_sr122.py" title="Download" class="trac-rawlink">​</a>
          added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change">
                <h3 class="change">
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-25T08%3A14%3A56%2B01%3A00&amp;precision=second" title="2013-10-25T08:14:56+01:00 in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Attachment</strong>
        <a href="../attachment/ticket/7548/Sr122_individual_components.py.html"><em>Sr122_individual_components.py</em></a><a href="../raw-attachment/ticket/7548/Sr122_individual_components.py" title="Download" class="trac-rawlink">​</a>
          added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change">
                <h3 class="change">
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-25T08%3A15%3A02%2B01%3A00&amp;precision=second" title="2013-10-25T08:15:02+01:00 in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Attachment</strong>
        <a href="../attachment/ticket/7548/Sr122_individual_components_plots.py.html"><em>Sr122_individual_components_plots.py</em></a><a href="../raw-attachment/ticket/7548/Sr122_individual_components_plots.py" title="Download" class="trac-rawlink">​</a>
          added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="7548.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-25T17%3A34%3A32%2B01%3A00&amp;precision=second" title="2013-10-25T17:34:32+01:00 in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>inprogress</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Enable IkedaCarpenterModeratorTest
</p>
<p>
Refs <a class="closed ticket" href="7548.html" title="defect: Fix issues with Quantification (closed: fixed)">#7548</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/3ef44faec80129892fd2fc602dc3424fdc16f369" title="3ef44faec80129892fd2fc602dc3424fdc16f369">3ef44faec80129892fd2fc602dc3424fdc16f369</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="7548.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-25T17%3A34%3A32%2B01%3A00&amp;precision=second" title="2013-10-25T17:34:32+01:00 in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
    <div class="comment searchable">
      
      <p>
Remove static qualifier as it's a bit over the top.
</p>
<p>
Refs <a class="closed ticket" href="7548.html" title="defect: Fix issues with Quantification (closed: fixed)">#7548</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/b71059db6be4ec30ea6e1effb36ded7c3fb4a76b" title="b71059db6be4ec30ea6e1effb36ded7c3fb4a76b">b71059db6be4ec30ea6e1effb36ded7c3fb4a76b</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="7548.html#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-25T17%3A34%3A32%2B01%3A00&amp;precision=second" title="2013-10-25T17:34:32+01:00 in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
    <div class="comment searchable">
      
      <p>
Report progress message at beginning of quantification simulation.
</p>
<p>
Avoids the confusion where nothing seems to happen.
Refs <a class="closed ticket" href="7548.html" title="defect: Fix issues with Quantification (closed: fixed)">#7548</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/1a23a013cce05065fc06dab0b8695f27009e8921" title="1a23a013cce05065fc06dab0b8695f27009e8921">1a23a013cce05065fc06dab0b8695f27009e8921</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="7548.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-25T17%3A34%3A32%2B01%3A00&amp;precision=second" title="2013-10-25T17:34:32+01:00 in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
    <div class="comment searchable">
      
      <p>
Fix memory leak with random number generators.
</p>
<p>
Refs <a class="closed ticket" href="7548.html" title="defect: Fix issues with Quantification (closed: fixed)">#7548</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/92014eb30eedbb8d73f1a25311dbf3242cadce3b" title="92014eb30eedbb8d73f1a25311dbf3242cadce3b">92014eb30eedbb8d73f1a25311dbf3242cadce3b</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="7548.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-25T17%3A36%3A05%2B01%3A00&amp;precision=second" title="2013-10-25T17:36:05+01:00 in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>Release 3.0</em> to <em>Release 3.1</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="7548.html#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-25T17%3A48%3A59%2B01%3A00&amp;precision=second" title="2013-10-25T17:48:59+01:00 in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
    <div class="comment searchable">
      
      <p>
Fix crash with default TobyFitResolutionModel setup
</p>
<p>
Refs <a class="closed ticket" href="7548.html" title="defect: Fix issues with Quantification (closed: fixed)">#7548</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/116615f0390840b5bbca53cb3723742f9538a4da" title="116615f0390840b5bbca53cb3723742f9538a4da">116615f0390840b5bbca53cb3723742f9538a4da</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="7548.html#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-25T18%3A38%3A55%2B01%3A00&amp;precision=second" title="2013-10-25T18:38:55+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="7548.html" title="defect: Fix issues with Quantification (closed: fixed)">#7548</a>. Fix OS X builds.
</p>
<p>
I don't know if this can overflow a size_t anywhere, but the progress
reporting going awry isn't such a big deal anyway.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/586b24896a30b025e94359ab502ba53b431ae2e0" title="586b24896a30b025e94359ab502ba53b431ae2e0">586b24896a30b025e94359ab502ba53b431ae2e0</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="7548.html#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-28T08%3A30%3A22Z&amp;precision=second" title="2013-10-28T08:30:22Z in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
    <div class="comment searchable">
      
      <p>
Fix error in TobyFit B Matrix calculation of sample rotation.
</p>
<p>
The sample-only contribition now looks much more like TobyFit.
Refs <a class="closed ticket" href="7548.html" title="defect: Fix issues with Quantification (closed: fixed)">#7548</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/29132ac088e594ca7b165a47815b8e009241b9e5" title="29132ac088e594ca7b165a47815b8e009241b9e5">29132ac088e594ca7b165a47815b8e009241b9e5</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="7548.html#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-28T08%3A30%3A23Z&amp;precision=second" title="2013-10-28T08:30:23Z in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
    <div class="comment searchable">
      
      <p>
Fix bug in TobyFit mosaic calculation.
</p>
<p>
Refs <a class="closed ticket" href="7548.html" title="defect: Fix issues with Quantification (closed: fixed)">#7548</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/ae99fb0e4017a99a415cd610c4c9514ec4639832" title="ae99fb0e4017a99a415cd610c4c9514ec4639832">ae99fb0e4017a99a415cd610c4c9514ec4639832</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="7548.html#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-28T10%3A29%3A52Z&amp;precision=second" title="2013-10-28T10:29:52Z in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>Release 3.1</em> to <em>Release 3.0</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="7548.html#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-28T10%3A54%3A55Z&amp;precision=second" title="2013-10-28T10:54:55Z in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
    <div class="comment searchable">
      
      <p>
Update TobyFitSimulation results after fixing some bugs.
</p>
<p>
Refs <a class="closed ticket" href="7548.html" title="defect: Fix issues with Quantification (closed: fixed)">#7548</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/8eefe5d76373c66e537b3081ec6a0d2e9d9d0979" title="8eefe5d76373c66e537b3081ec6a0d2e9d9d0979">8eefe5d76373c66e537b3081ec6a0d2e9d9d0979</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-14">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:14" class="cnum">
      <a href="7548.html#comment:14">comment:14</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-28T11%3A30%3A48Z&amp;precision=second" title="2013-10-28T11:30:48Z in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>inprogress</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Branch: bugfix/7548_quantification_fixes in <strong>BOTH</strong> systemtests &amp; main code repository
</p>
<p>
Tester: The raw data for this is all in the ISIS archive in MERLIN cycle_09_1, add this to your search path. Three additional files are required that can be obtained from
</p>
<ul><li><a class="ext-link" href="https://svn.isis.rl.ac.uk/InstrumentFiles/trunk/merlin/one2one_084.map"><span class="icon">​</span>https://svn.isis.rl.ac.uk/InstrumentFiles/trunk/merlin/one2one_084.map</a>
</li><li><a class="ext-link" href="https://svn.isis.rl.ac.uk/InstrumentFiles/trunk/merlin/det_corr_123.dat"><span class="icon">​</span>https://svn.isis.rl.ac.uk/InstrumentFiles/trunk/merlin/det_corr_123.dat</a>
</li><li><a class="ext-link" href="https://svn.isis.rl.ac.uk/InstrumentFiles/trunk/merlin/mono_van_map.map"><span class="icon">​</span>https://svn.isis.rl.ac.uk/InstrumentFiles/trunk/merlin/mono_van_map.map</a>
</li></ul><p>
Download these to a directory in your search path. 
</p>
<p>
I have attached a cut down version of the original Sr122 script plus the additional mapping files etc. The iliad script needs to be run first to generate the w1 workspace then run the Sr122_individual_components_mg.py script. 
</p>
<p>
Plot each of the final matrix workspaces: mt_mod_sim,mt_volume_sim,mt_mosaic_sim and then compare them with the tobyfit ones in the attached pdf. They should be much more similar in shape that they orignally were.
</p>

    </div>

                <div class="trac-lastedit ">
                  Last edited <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-28T11%3A35%3A11Z&amp;precision=second" title="2013-10-28T11:35:11Z in Timeline">7 years</a> ago
                      by Martyn Gigg
                    (<a href="https://trac.mantidproject.org/mantid/ticket/7548?cversion=0&amp;cnum_hist=14#comment:14">previous</a>)
                    (<a href="https://trac.mantidproject.org/mantid/ticket/7548?action=comment-diff&amp;cnum=14&amp;version=1">diff</a>)
                </div>
              </div>
              <div class="change">
                <h3 class="change">
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-28T11%3A31%3A01Z&amp;precision=second" title="2013-10-28T11:31:01Z in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Attachment</strong>
        <a href="../attachment/ticket/7548/Sr122_individual_components_mg.py.html"><em>Sr122_individual_components_mg.py</em></a><a href="../raw-attachment/ticket/7548/Sr122_individual_components_mg.py" title="Download" class="trac-rawlink">​</a>
          added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-15">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:15" class="cnum">
      <a href="7548.html#comment:15">comment:15</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-28T17%3A06%3A56Z&amp;precision=second" title="2013-10-28T17:06:56Z in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>reopened</em>
    </li><li>
      <strong>Resolution</strong>
        <em>fixed</em> deleted
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-16">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:16" class="cnum">
      <a href="7548.html#comment:16">comment:16</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-28T17%3A25%3A15Z&amp;precision=second" title="2013-10-28T17:25:15Z in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>reopened</em> to <em>inprogress</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Fix off-by-one error in IkedaCarpenterModerator model.
</p>
<p>
If the value from the sample table is nearer the last edge then simply
returns the last value.
Refs <a class="closed ticket" href="7548.html" title="defect: Fix issues with Quantification (closed: fixed)">#7548</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/9069db198a05ee4194046e1c8c17181d34dfbbaf" title="9069db198a05ee4194046e1c8c17181d34dfbbaf">9069db198a05ee4194046e1c8c17181d34dfbbaf</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-17">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:17" class="cnum">
      <a href="7548.html#comment:17">comment:17</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-28T17%3A26%3A04Z&amp;precision=second" title="2013-10-28T17:26:04Z in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>inprogress</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-18">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:18" class="cnum">
      <a href="7548.html#comment:18">comment:18</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-29T08%3A13%3A51Z&amp;precision=second" title="2013-10-29T08:13:51Z in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li><li>
      <strong>Tester</strong>
        set to <em>Gesner Passos</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-19">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:19" class="cnum">
      <a href="7548.html#comment:19">comment:19</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-29T10%3A50%3A48Z&amp;precision=second" title="2013-10-29T10:50:48Z in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>closed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Merge remote-tracking branch 'origin/bugfix/7548_quantification_fixes'
</p>
<p>
Full changeset: <a class="ext-link" href="https://github.com/mantidproject/systemtests/commit/b6196828f80479de4e9103f2d6cf75ec9bd0fdc6"><span class="icon">​</span>b6196828f80479de4e9103f2d6cf75ec9bd0fdc6</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-20">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:20" class="cnum">
      <a href="7548.html#comment:20">comment:20</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-29T10%3A51%3A10Z&amp;precision=second" title="2013-10-29T10:51:10Z in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
    <div class="comment searchable">
      
      <p>
Merge remote-tracking branch 'origin/bugfix/7548_quantification_fixes'
</p>
<p>
Full changeset: <a class="ext-link" href="https://github.com/mantidproject/mantid/commit/5e1582579b0cfef52a5d22aa369cb762b71f8e03"><span class="icon">​</span>5e1582579b0cfef52a5d22aa369cb762b71f8e03</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-21">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:21" class="cnum">
      <a href="7548.html#comment:21">comment:21</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-29T10%3A56%3A28Z&amp;precision=second" title="2013-10-29T10:56:28Z in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
    <div class="comment searchable">
      
      <p>
The solution is better right now, but, it is impossible to check if it is correct (by code review). The solution is mainly in the commit pointed in <a href="7548.html#comment:10" title="Comment 10 for Ticket #7548">comment:10</a>. But, there is not way to check if the indexes are correct. Because, the only point in the documentation that provides some information on the origin of this algorithm is this one: """Defined in Toby G Perring's thesis pg 112, equation A.48.""", which I could not find. Is is worth bringing the equation to the documentation?
</p>
<p>
But, it definitely improved so, ticket pass.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-22">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:22" class="cnum">
      <a href="7548.html#comment:22">comment:22</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T01%3A59%3A50%2B01%3A00&amp;precision=second" title="2015-06-04T01:59:50+01:00 in Timeline">5 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
This ticket has been transferred to github issue <a class="ext-link" href="http://github.com/mantidproject/mantid/issues/8393"><span class="icon">​</span>8393</a>
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/7548?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/7548?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/7548?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.5</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
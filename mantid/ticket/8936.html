<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      #8936 (Uncaught exception on Results Table tab of MuonAnalysis)
     â€“ Mantid Project
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="8935.html" title="Ticket #8935" />
        <link rel="last" href="11888.html" title="Ticket #11888" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/8936?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/8936?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/8936?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="8937.html" title="Ticket #8937" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mantid Project" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="a82fe30e7bef2e30fd2838e9";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/mantid/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 8936, escape_newlines: 0}
        $("#comment").autoPreview("/mantid/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/mantid/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.mantidproject.org/"><img src="../chrome/site/mantid_logo_with_name.png" alt="Mantid Logo" width="250" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://trac.mantidproject.org/mantid/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="8935.html" title="Ticket #8935">Previous Ticket</a></span></li><li class="last"><span><a class="next" href="8937.html" title="Ticket #8937">Next Ticket</a> &rarr;</span></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="8936.html">Ticket #8936</a>
          <span class="status">(closed: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-07T13%3A30%3A54Z&amp;precision=second" title="2014-02-07T13:30:54Z in Timeline">7 years</a> ago</p>
    <p>Last modified <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T02%3A57%3A19%2B01%3A00&amp;precision=second" title="2015-06-04T02:57:19+01:00 in Timeline">5 years</a> ago</p>
  </div>
  <h2 class="summary searchable">Uncaught exception on Results Table tab of MuonAnalysis</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;reporter=Arturs+Bekasovs">Arturs Bekasovs</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;owner=Arturs+Bekasovs">Arturs Bekasovs</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;priority=critical">critical</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="../milestone/Release&#32;3.1.1.html">Release 3.1.1</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;component=Muon">Muon</a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;keywords=~PatchCandidate">PatchCandidate</a>
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby"><span></span></td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking"><span></span></td>
        <th id="h_tester">
          Tester:
        </th>
        <td headers="h_tester">
              Martyn Gigg
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
    </h3>
    <div class="searchable">
      <p>
When the ADS contains a fitted workspace which wasn't created by MuonAnalysis and thus doesn't have (even basic) log values copied to it, the exception is thrown.
</p>
<p>
To reproduce:
</p>
<ol><li>Load <em>MUSR00015189</em> to MantidPlot.
</li><li>Fit any of the loaded group members using the standard MantidPlot fit functionality.
</li><li>Open MuonAnalysis and go to the Results Table tab. The exception is thrown.
</li></ol>
    </div>
  </div>
</div>
          

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="8936.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-14T10%3A59%3A49Z&amp;precision=second" title="2014-02-14T10:59:49Z in Timeline">7 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>assigned</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Bulk move of tickets out of triage (new) to assigned at the introduction of the triage state
</p>

    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="8936.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-17T16%3A07%3A15Z&amp;precision=second" title="2014-02-17T16:07:15Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8936.html" title="defect: Uncaught exception on Results Table tab of MuonAnalysis (closed: fixed)">#8936</a>. Add a more fitted workspace filtering checks.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/0dc84cf031f643e642e81e6d49c82189101e95e6" title="0dc84cf031f643e642e81e6d49c82189101e95e6">0dc84cf031f643e642e81e6d49c82189101e95e6</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="8936.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-17T16%3A07%3A16Z&amp;precision=second" title="2014-02-17T16:07:16Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8936.html" title="defect: Uncaught exception on Results Table tab of MuonAnalysis (closed: fixed)">#8936</a>. Make _Parameters a constant.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/2efbd0245acb295861c676a277ae2fc43cbc9e29" title="2efbd0245acb295861c676a277ae2fc43cbc9e29">2efbd0245acb295861c676a277ae2fc43cbc9e29</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="8936.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-17T16%3A07%3A17Z&amp;precision=second" title="2014-02-17T16:07:17Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8936.html" title="defect: Uncaught exception on Results Table tab of MuonAnalysis (closed: fixed)">#8936</a>. Add check for corresponding _Parameters table.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/c3157f80a9bf3a04386d2f3d04cf78972fd066de" title="c3157f80a9bf3a04386d2f3d04cf78972fd066de">c3157f80a9bf3a04386d2f3d04cf78972fd066de</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="8936.html#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-17T16%3A07%3A17Z&amp;precision=second" title="2014-02-17T16:07:17Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8936.html" title="defect: Uncaught exception on Results Table tab of MuonAnalysis (closed: fixed)">#8936</a>. A few minor improvements.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/54ed2d1c0d95736647561574cc7bbf0a2748eb01" title="54ed2d1c0d95736647561574cc7bbf0a2748eb01">54ed2d1c0d95736647561574cc7bbf0a2748eb01</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="8936.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-17T16%3A07%3A17Z&amp;precision=second" title="2014-02-17T16:07:17Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8936.html" title="defect: Uncaught exception on Results Table tab of MuonAnalysis (closed: fixed)">#8936</a>. Safer check for _Parameters workspace..
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/8d2c2313740e59b512ccffae43bdb4526c855132" title="8d2c2313740e59b512ccffae43bdb4526c855132">8d2c2313740e59b512ccffae43bdb4526c855132</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="8936.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-17T16%3A13%3A55Z&amp;precision=second" title="2014-02-17T16:13:55Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
<strong>Tester:</strong>
</p>
<p>
Check that described scenario isn't leading to exception any more. The results list should just be empty.
</p>
<p>
Try to come up with a few other <strong>simple</strong> use cases for when Results table might break. E.g. if you accidentally delete one of the <em>_Parameters</em> workspaces or you have a non-fitted workspace which ends with <em>_Workspace</em>. There will always be a way to mess up with ADS which breaks it, I just want it to survive the simplest misuse scenarios.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="8936.html#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-17T16%3A22%3A15Z&amp;precision=second" title="2014-02-17T16:22:15Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>assigned</em> to <em>inprogress</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="8936.html#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-18T10%3A42%3A01Z&amp;precision=second" title="2014-02-18T10:42:01Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>inprogress</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="8936.html#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-21T13%3A52%3A03Z&amp;precision=second" title="2014-02-21T13:52:03Z in Timeline">7 years</a> ago by Samuel Jackson
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li><li>
      <strong>Tester</strong>
        set to <em>Samuel Jackson</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="8936.html#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-21T15%3A28%3A00Z&amp;precision=second" title="2014-02-21T15:28:00Z in Timeline">7 years</a> ago by Samuel Jackson
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>reopened</em>
    </li><li>
      <strong>Resolution</strong>
        <em>fixed</em> deleted
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
As discussed, there's a couple of places where you're getting a workspace without checking that it exists. Understandably there are use cases where it's impossible to do anything about this other than throw an error, but showing something other than the top level exception would be better.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="8936.html#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-24T10%3A31%3A28Z&amp;precision=second" title="2014-02-24T10:31:28Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Keywords</strong>
        <em>PatchCandidate</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Very easy to reproduce.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="8936.html#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-24T16%3A09%3A47Z&amp;precision=second" title="2014-02-24T16:09:47Z in Timeline">7 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>Release 3.2</em> to <em>Release 3.1.1</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Moved to patch release 3.1.1
</p>

    </div>

              </div>
              <div class="change" id="trac-change-14">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:14" class="cnum">
      <a href="8936.html#comment:14">comment:14</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-24T17%3A33%3A15Z&amp;precision=second" title="2014-02-24T17:33:15Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>reopened</em> to <em>inprogress</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8936.html" title="defect: Uncaught exception on Results Table tab of MuonAnalysis (closed: fixed)">#8936</a>. Check for null on every retrieve.
</p>
<p>
If workspace is not found/is of incorrect type - NotFoundError is
thrown.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/d3de946c37611dc790a4f7046ef4f2a315f4f11b" title="d3de946c37611dc790a4f7046ef4f2a315f4f11b">d3de946c37611dc790a4f7046ef4f2a315f4f11b</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-15">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:15" class="cnum">
      <a href="8936.html#comment:15">comment:15</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-24T17%3A33%3A16Z&amp;precision=second" title="2014-02-24T17:33:16Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8936.html" title="defect: Uncaught exception on Results Table tab of MuonAnalysis (closed: fixed)">#8936</a>. Unify workspace checking code.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/7dd19d34f5fa2142e43040fe0c04bb3ff7d441ad" title="7dd19d34f5fa2142e43040fe0c04bb3ff7d441ad">7dd19d34f5fa2142e43040fe0c04bb3ff7d441ad</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-16">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:16" class="cnum">
      <a href="8936.html#comment:16">comment:16</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-24T17%3A33%3A16Z&amp;precision=second" title="2014-02-24T17:33:16Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8936.html" title="defect: Uncaught exception on Results Table tab of MuonAnalysis (closed: fixed)">#8936</a>. Catch exceptions from table creation.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/ead9d6b38ef7356c88a40e1313c4d72b0a251caf" title="ead9d6b38ef7356c88a40e1313c4d72b0a251caf">ead9d6b38ef7356c88a40e1313c4d72b0a251caf</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-17">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:17" class="cnum">
      <a href="8936.html#comment:17">comment:17</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-24T17%3A33%3A17Z&amp;precision=second" title="2014-02-24T17:33:17Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8936.html" title="defect: Uncaught exception on Results Table tab of MuonAnalysis (closed: fixed)">#8936</a>. Improve checking method.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/58386bba7c4a59fe3edfaa1424d00cd5352cfc4f" title="58386bba7c4a59fe3edfaa1424d00cd5352cfc4f">58386bba7c4a59fe3edfaa1424d00cd5352cfc4f</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-18">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:18" class="cnum">
      <a href="8936.html#comment:18">comment:18</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-24T17%3A33%3A17Z&amp;precision=second" title="2014-02-24T17:33:17Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8936.html" title="defect: Uncaught exception on Results Table tab of MuonAnalysis (closed: fixed)">#8936</a>. Refresh tables if not found on creation.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/99503838065bab99d6d97fe6c2c23c158b8302d2" title="99503838065bab99d6d97fe6c2c23c158b8302d2">99503838065bab99d6d97fe6c2c23c158b8302d2</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-19">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:19" class="cnum">
      <a href="8936.html#comment:19">comment:19</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-24T17%3A47%3A08Z&amp;precision=second" title="2014-02-24T17:47:08Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Every retrieve operation has a null-check now, so at least we should never segfault. 
</p>
<p>
Speaking about exception handling, there are two cases when exceptions can be thrown:
</p>
<ol><li>Populating the GUI tables.
</li><li>Creating the Results TableWorkspace.
</li></ol><p>
For the first one, I am not catching any exceptions myself. That's because the list of workspaces is checked for validity before being passed to table-population routine. If something bad happens even after that - that's really an unexpected exception and my own catching routine wouldn't be able to do anything better than the standard one.
</p>
<p>
For the second one, it is expected that user might delete some of the workspaces and invalidate the list. So here I am catching exceptions, reporting appropriate errors and refreshing the list of workspaces so that the second try will succeed.
</p>
<p>
Ideally, the whole thing should be re-factored to retrieve workspaces in one place only and then store retrieved values, in order to minimize the necessity of such checks. Additionally, ADS delete events could be caught, causing tables to be refreshed. I've created maintenance ticket for that: <a class="closed ticket" href="9080.html" title="enhancement: Improve the way Result Table tab interacts with ADS (closed: wontfix)">#9080</a>.
</p>
<p>
<strong>Tester:</strong>
</p>
<p>
In addition to previous test description, please check that what's described above works:
</p>
<ul><li>Workspaces are filtered. When Result Table tab is opened, the list should contain valid fitted workspaces only.
</li></ul><ul><li>Deleting/invalidating the workspace while on the tab and then trying to create the table should cause an appropriate error to be shown and tables to be refreshed.
</li></ul>
    </div>

                <div class="trac-lastedit ">
                  Last edited <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-24T18%3A02%3A24Z&amp;precision=second" title="2014-02-24T18:02:24Z in Timeline">7 years</a> ago
                      by Arturs Bekasovs
                    (<a href="https://trac.mantidproject.org/mantid/ticket/8936?cversion=1&amp;cnum_hist=19#comment:19">previous</a>)
                    (<a href="https://trac.mantidproject.org/mantid/ticket/8936?action=comment-diff&amp;cnum=19&amp;version=2">diff</a>)
                </div>
              </div>
              <div class="change" id="trac-change-20">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:20" class="cnum">
      <a href="8936.html#comment:20">comment:20</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-24T19%3A23%3A02Z&amp;precision=second" title="2014-02-24T19:23:02Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8936.html" title="defect: Uncaught exception on Results Table tab of MuonAnalysis (closed: fixed)">#8936</a>. Remove accidentally left function declaration.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/6f2bb55afe2ef6b1ec4eb3743057d8a0b13a0e97" title="6f2bb55afe2ef6b1ec4eb3743057d8a0b13a0e97">6f2bb55afe2ef6b1ec4eb3743057d8a0b13a0e97</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-21">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:21" class="cnum">
      <a href="8936.html#comment:21">comment:21</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-24T19%3A58%3A19Z&amp;precision=second" title="2014-02-24T19:58:19Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>inprogress</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-22">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:22" class="cnum">
      <a href="8936.html#comment:22">comment:22</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T14%3A43%3A31Z&amp;precision=second" title="2014-02-25T14:43:31Z in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li><li>
      <strong>Tester</strong>
        changed from <em>Samuel Jackson</em> to <em>Martyn Gigg</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-23">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:23" class="cnum">
      <a href="8936.html#comment:23">comment:23</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T15%3A00%3A44Z&amp;precision=second" title="2014-02-25T15:00:44Z in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>closed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Merge remote-tracking branch 'origin/bugfix/8936_muon_results_uncaught_exception'
</p>
<p>
Full changeset: <a class="ext-link" href="https://github.com/mantidproject/mantid/commit/afb880b5de30cd786842158ff915c95f836e37cd"><span class="icon">â€‹</span>afb880b5de30cd786842158ff915c95f836e37cd</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-24">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:24" class="cnum">
      <a href="8936.html#comment:24">comment:24</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-26T18%3A20%3A21Z&amp;precision=second" title="2014-02-26T18:20:21Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8936.html" title="defect: Uncaught exception on Results Table tab of MuonAnalysis (closed: fixed)">#8936</a>. Add a more fitted workspace filtering checks.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/094d659c91274b424630f3f98191f546ff7ed4a2" title="094d659c91274b424630f3f98191f546ff7ed4a2">094d659c91274b424630f3f98191f546ff7ed4a2</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-25">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:25" class="cnum">
      <a href="8936.html#comment:25">comment:25</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-26T18%3A20%3A21Z&amp;precision=second" title="2014-02-26T18:20:21Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8936.html" title="defect: Uncaught exception on Results Table tab of MuonAnalysis (closed: fixed)">#8936</a>. Make _Parameters a constant.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/3a1dafe5ff6f17a563c0bf242a2d9a55748e0fda" title="3a1dafe5ff6f17a563c0bf242a2d9a55748e0fda">3a1dafe5ff6f17a563c0bf242a2d9a55748e0fda</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-26">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:26" class="cnum">
      <a href="8936.html#comment:26">comment:26</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-26T18%3A20%3A21Z&amp;precision=second" title="2014-02-26T18:20:21Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8936.html" title="defect: Uncaught exception on Results Table tab of MuonAnalysis (closed: fixed)">#8936</a>. Add check for corresponding _Parameters table.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/95c7add7da509212dd47ffea6317c17ede889369" title="95c7add7da509212dd47ffea6317c17ede889369">95c7add7da509212dd47ffea6317c17ede889369</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-27">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:27" class="cnum">
      <a href="8936.html#comment:27">comment:27</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-26T18%3A20%3A21Z&amp;precision=second" title="2014-02-26T18:20:21Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8936.html" title="defect: Uncaught exception on Results Table tab of MuonAnalysis (closed: fixed)">#8936</a>. A few minor improvements.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/78de4271bddc86544c753a654ddbda7576423733" title="78de4271bddc86544c753a654ddbda7576423733">78de4271bddc86544c753a654ddbda7576423733</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-28">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:28" class="cnum">
      <a href="8936.html#comment:28">comment:28</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-26T18%3A20%3A22Z&amp;precision=second" title="2014-02-26T18:20:22Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8936.html" title="defect: Uncaught exception on Results Table tab of MuonAnalysis (closed: fixed)">#8936</a>. Safer check for _Parameters workspace..
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/4ad02bd35627a3e30f8efaa0e6aa886116f4ce43" title="4ad02bd35627a3e30f8efaa0e6aa886116f4ce43">4ad02bd35627a3e30f8efaa0e6aa886116f4ce43</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-29">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:29" class="cnum">
      <a href="8936.html#comment:29">comment:29</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-26T18%3A20%3A22Z&amp;precision=second" title="2014-02-26T18:20:22Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8936.html" title="defect: Uncaught exception on Results Table tab of MuonAnalysis (closed: fixed)">#8936</a>. Check for null on every retrieve.
</p>
<p>
If workspace is not found/is of incorrect type - NotFoundError is
thrown.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/dfe42f2cccd7da91d564b33379d29c23a6b92c97" title="dfe42f2cccd7da91d564b33379d29c23a6b92c97">dfe42f2cccd7da91d564b33379d29c23a6b92c97</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-30">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:30" class="cnum">
      <a href="8936.html#comment:30">comment:30</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-26T18%3A20%3A22Z&amp;precision=second" title="2014-02-26T18:20:22Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8936.html" title="defect: Uncaught exception on Results Table tab of MuonAnalysis (closed: fixed)">#8936</a>. Unify workspace checking code.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/86a79690828cb05c18474a1be73292bb64c8f86e" title="86a79690828cb05c18474a1be73292bb64c8f86e">86a79690828cb05c18474a1be73292bb64c8f86e</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-31">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:31" class="cnum">
      <a href="8936.html#comment:31">comment:31</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-26T18%3A20%3A22Z&amp;precision=second" title="2014-02-26T18:20:22Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8936.html" title="defect: Uncaught exception on Results Table tab of MuonAnalysis (closed: fixed)">#8936</a>. Catch exceptions from table creation.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/af60c4c3ccc640733eb39cf0df3f07fa24837297" title="af60c4c3ccc640733eb39cf0df3f07fa24837297">af60c4c3ccc640733eb39cf0df3f07fa24837297</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-32">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:32" class="cnum">
      <a href="8936.html#comment:32">comment:32</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-26T18%3A20%3A22Z&amp;precision=second" title="2014-02-26T18:20:22Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8936.html" title="defect: Uncaught exception on Results Table tab of MuonAnalysis (closed: fixed)">#8936</a>. Improve checking method.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/08938e07f8f95c72c348847d2273748d376bc2c8" title="08938e07f8f95c72c348847d2273748d376bc2c8">08938e07f8f95c72c348847d2273748d376bc2c8</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-33">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:33" class="cnum">
      <a href="8936.html#comment:33">comment:33</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-26T18%3A20%3A22Z&amp;precision=second" title="2014-02-26T18:20:22Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8936.html" title="defect: Uncaught exception on Results Table tab of MuonAnalysis (closed: fixed)">#8936</a>. Refresh tables if not found on creation.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/a216c4abb29b10f76ec834f16e061fe904690ac6" title="a216c4abb29b10f76ec834f16e061fe904690ac6">a216c4abb29b10f76ec834f16e061fe904690ac6</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-34">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:34" class="cnum">
      <a href="8936.html#comment:34">comment:34</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-26T18%3A20%3A23Z&amp;precision=second" title="2014-02-26T18:20:23Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8936.html" title="defect: Uncaught exception on Results Table tab of MuonAnalysis (closed: fixed)">#8936</a>. Remove accidentally left function declaration.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/35042995ce91b10c267df908c159fa00687cd631" title="35042995ce91b10c267df908c159fa00687cd631">35042995ce91b10c267df908c159fa00687cd631</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-35">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:35" class="cnum">
      <a href="8936.html#comment:35">comment:35</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-26T18%3A29%3A48Z&amp;precision=second" title="2014-02-26T18:29:48Z in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
The commits from <a href="8936.html#comment:24" title="Comment 24 for Ticket #8936">comment:24</a> onwards result from pulling this work into the patch release branch.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-36">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:36" class="cnum">
      <a href="8936.html#comment:36">comment:36</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T02%3A57%3A19%2B01%3A00&amp;precision=second" title="2015-06-04T02:57:19+01:00 in Timeline">5 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
This ticket has been transferred to github issue <a class="ext-link" href="http://github.com/mantidproject/mantid/issues/9779"><span class="icon">â€‹</span>9779</a>
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/8936?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/8936?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/8936?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.5</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
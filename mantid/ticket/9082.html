<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      #9082 (Copy instrument parameters does not work if Instrument_Parameter_XXX.xml  files have different validity scopes)
     – Mantid Project
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="9081.html" title="Ticket #9081" />
        <link rel="last" href="11888.html" title="Ticket #11888" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/9082?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/9082?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/9082?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="9083.html" title="Ticket #9083" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mantid Project" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="a82fe30e7bef2e30fd2838e9";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/mantid/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 9082, escape_newlines: 0}
        $("#comment").autoPreview("/mantid/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/mantid/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.mantidproject.org/"><img src="../chrome/site/mantid_logo_with_name.png" alt="Mantid Logo" width="250" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://trac.mantidproject.org/mantid/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="9081.html" title="Ticket #9081">Previous Ticket</a></span></li><li><span><a class="next" href="9083.html" title="Ticket #9083">Next Ticket</a> &rarr;</span></li><li class="last"><a href="../depgraph/9082.html">Depgraph</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="9082.html">Ticket #9082</a>
          <span class="status">(closed: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T10%3A33%3A45Z&amp;precision=second" title="2014-02-25T10:33:45Z in Timeline">7 years</a> ago</p>
    <p>Last modified <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T03%3A03%3A26%2B01%3A00&amp;precision=second" title="2015-06-04T03:03:26+01:00 in Timeline">5 years</a> ago</p>
  </div>
  <h2 class="summary searchable">Copy instrument parameters does not work if Instrument_Parameter_XXX.xml  files have different validity scopes</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;reporter=Alex+Buts">Alex Buts</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;owner=Alex+Buts">Alex Buts</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;priority=critical">critical</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="../milestone/Release&#32;3.2.html">Release 3.2</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;component=Framework">Framework</a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
              anders.markvardsen@…, martyn.gigg@…
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby"><span></span></td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking"><span><a class="closed ticket" href="9364.html" title="CopyInstrumentParameters performance &amp; efficiency">#9364</a></span></td>
        <th id="h_tester">
          Tester:
        </th>
        <td headers="h_tester">
              Karl Palmen
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
      <span class="lastmod" title="2014-02-25 11:13:07.075568+00:00">
        (last modified by Alex Buts)
        (<a href="https://trac.mantidproject.org/mantid/ticket/9082?action=diff&amp;version=1">diff</a>)
      </span>
    </h3>
    <div class="searchable">
      <p>
Assume you have LET_Definition.xml file and LET_Parameters.xml file valid for now and LET_Definition_2to7.xml file and LET_Parameters_2to7.xml file valid in the past (these files are attached to the ticket.)
</p>
<p>
CopyInstrumentParameters algorithm then nullifies instrument parameters map as illustrated by the scrip below (the files used by this script are in SystemTests-&gt;Data folder. 
</p>
<p>
This may be reasonable behaviour in some situations but not in the one illustrated by the script -- if this is the case, a parameter explicitly requesting overwriting parameter map should be introduced. 
</p>
<pre class="wiki">wb= LoadRaw(Filename='LET0000'+str(5545)+'.raw');
iwb = wb.getInstrument();
print '**************** Wanadium parameters : \n',iwb.getParameterNames();
print ' monitor 1: ',iwb.getParameterType('ei-mon1-spec'),' number =',iwb.getIntParameter('ei-mon1-spec')
fname='LET0000'+str(14305)+'.nxs'
w1,w1_monitors=Load(Filename=fname,OutputWorkspace='w1',LoadMonitors='1');
iws = w1.getInstrument();
print '**************** Run parameters : \n',iws.getParameterNames();
print ' monitor 1: ',iws.getParameterType('ei-mon1-spec'),' number =',iws.getIntParameter('ei-mon1-spec')

CopyInstrumentParameters(InputWorkspace=wb,OutputWorkspace=w1)

w1=mtd['w1'];
iws = w1.getInstrument();
print '**************** Run calibrated parameters : \n',iws.getParameterNames();


</pre>
    </div>
  </div>
</div>
          
    <div id="attachments">
        <h2 class="foldable">Attachments</h2>
        <div>
          <dl class="attachments">
              <dt>
    <a href="../attachment/ticket/9082/LET_Definition.xml.html" title="View attachment">LET_Definition.xml</a><a href="../raw-attachment/ticket/9082/LET_Definition.xml" class="trac-rawlink" title="Download">​</a>
       (<span title="25764 bytes">25.2 KB</span>) -
      added by <em>Alex Buts</em> <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T10%3A34%3A55Z&amp;precision=second" title="2014-02-25T10:34:55Z in Timeline">7 years</a> ago.
  </dt>
              <dt>
    <a href="../attachment/ticket/9082/LET_Parameters.xml.html" title="View attachment">LET_Parameters.xml</a><a href="../raw-attachment/ticket/9082/LET_Parameters.xml" class="trac-rawlink" title="Download">​</a>
       (<span title="15549 bytes">15.2 KB</span>) -
      added by <em>Alex Buts</em> <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T10%3A35%3A17Z&amp;precision=second" title="2014-02-25T10:35:17Z in Timeline">7 years</a> ago.
  </dt>
              <dt>
    <a href="../attachment/ticket/9082/LET_Definition_dr2to7.xml.html" title="View attachment">LET_Definition_dr2to7.xml</a><a href="../raw-attachment/ticket/9082/LET_Definition_dr2to7.xml" class="trac-rawlink" title="Download">​</a>
       (<span title="25767 bytes">25.2 KB</span>) -
      added by <em>Alex Buts</em> <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T10%3A35%3A29Z&amp;precision=second" title="2014-02-25T10:35:29Z in Timeline">7 years</a> ago.
  </dt>
              <dt>
    <a href="../attachment/ticket/9082/LET_Parameters_dr2to7.xml.html" title="View attachment">LET_Parameters_dr2to7.xml</a><a href="../raw-attachment/ticket/9082/LET_Parameters_dr2to7.xml" class="trac-rawlink" title="Download">​</a>
       (<span title="15551 bytes">15.2 KB</span>) -
      added by <em>Alex Buts</em> <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T10%3A35%3A38Z&amp;precision=second" title="2014-02-25T10:35:38Z in Timeline">7 years</a> ago.
  </dt>
          </dl>
          
        </div>
    </div>

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change">
                <h3 class="change">
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T10%3A34%3A55Z&amp;precision=second" title="2014-02-25T10:34:55Z in Timeline">7 years</a> ago by Alex Buts
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Attachment</strong>
        <a href="../attachment/ticket/9082/LET_Definition.xml.html"><em>LET_Definition.xml</em></a><a href="../raw-attachment/ticket/9082/LET_Definition.xml" title="Download" class="trac-rawlink">​</a>
          added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change">
                <h3 class="change">
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T10%3A35%3A17Z&amp;precision=second" title="2014-02-25T10:35:17Z in Timeline">7 years</a> ago by Alex Buts
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Attachment</strong>
        <a href="../attachment/ticket/9082/LET_Parameters.xml.html"><em>LET_Parameters.xml</em></a><a href="../raw-attachment/ticket/9082/LET_Parameters.xml" title="Download" class="trac-rawlink">​</a>
          added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change">
                <h3 class="change">
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T10%3A35%3A29Z&amp;precision=second" title="2014-02-25T10:35:29Z in Timeline">7 years</a> ago by Alex Buts
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Attachment</strong>
        <a href="../attachment/ticket/9082/LET_Definition_dr2to7.xml.html"><em>LET_Definition_dr2to7.xml</em></a><a href="../raw-attachment/ticket/9082/LET_Definition_dr2to7.xml" title="Download" class="trac-rawlink">​</a>
          added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change">
                <h3 class="change">
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T10%3A35%3A38Z&amp;precision=second" title="2014-02-25T10:35:38Z in Timeline">7 years</a> ago by Alex Buts
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Attachment</strong>
        <a href="../attachment/ticket/9082/LET_Parameters_dr2to7.xml.html"><em>LET_Parameters_dr2to7.xml</em></a><a href="../raw-attachment/ticket/9082/LET_Parameters_dr2to7.xml" title="Download" class="trac-rawlink">​</a>
          added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="9082.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T11%3A13%3A07Z&amp;precision=second" title="2014-02-25T11:13:07Z in Timeline">7 years</a> ago by Alex Buts
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Cc</strong>
        <em>anders.markvardsen@…</em>, <em>martyn.gigg@…</em> added
    </li><li>
      <strong>Description</strong>
        modified (<a href="https://trac.mantidproject.org/mantid/ticket/9082?action=diff&amp;version=1">diff</a>)
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="9082.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-03-03T11%3A04%3A50Z&amp;precision=second" title="2014-03-03T11:04:50Z in Timeline">7 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Owner</strong>
        set to <em>Alex Buts</em>
    </li><li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>assigned</em>
    </li><li>
      <strong>Milestone</strong>
        changed from <em>Backlog</em> to <em>Release 3.2</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Sample output from the example above
</p>
<pre class="wiki">**************** Wanadium parameters : 
set('DelayTime','TubePressure','TubeThickness','abs_units_van_range','apply_detector_eff','apply_kikf_correction','background_range','bkgd-range-max','bkgd-range-min','check_background','data_file_ext','deltaE-mode','det_cal_file','diag_background_test_range','diag_bleed_maxrate','diag_bleed_pixels','diag_bleed_test','diag_huge','diag_samp_hi','diag_samp_lo','diag_samp_sig','diag_samp_zero','diag_spectra','diag_tiny','diag_van_hi','diag_van_lo','diag_van_out_hi','diag_van_out_lo','diag_van_sig','diag_variation','ei-mon1-spec','ei-mon2-spec','ei_mon_spectra','fixei','hard_mask_file','map_file','mask_run','mono_correction_factor','monovan_hi_bound','monovan_hi_frac','monovan_hi_value','monovan_lo_bound','monovan_lo_frac','monovan_lo_value','monovan_mapfile','norm-mon1-max','norm-mon1-min','norm-mon1-spec','norm_mon_integration_range','normalise_method','run_diagnostics','sample_mass','sample_rmm','save_and_reuse_masks','save_format','scale-factor','sum_runs','synonims','use_hard_mask_only','use_sam_msk_on_monovan','vanadium-mass','wb-integr-max','wb-integr-min','wb-scale-factor','wb_integr_range')
 monitor 1:  int  number = [40966]
**************** Run parameters : 
set('DelayTime','TubePressure','TubeThickness','abs_units_van_range','apply_detector_eff','apply_kikf_correction','background_range','bkgd-range-max','bkgd-range-min','check_background','data_file_ext','deltaE-mode','det-pos-source','det_cal_file','diag_background_test_range','diag_bleed_maxrate','diag_bleed_pixels','diag_bleed_test','diag_huge','diag_samp_hi','diag_samp_lo','diag_samp_sig','diag_samp_zero','diag_spectra','diag_tiny','diag_van_hi','diag_van_lo','diag_van_out_hi','diag_van_out_lo','diag_van_sig','diag_variation','ei-mon1-spec','ei-mon2-spec','ei_mon_spectra','fixei','hard_mask_file','map_file','mask_run','mono_correction_factor','monovan_hi_bound','monovan_hi_frac','monovan_hi_value','monovan_lo_bound','monovan_lo_frac','monovan_lo_value','monovan_mapfile','norm-mon1-max','norm-mon1-min','norm-mon1-spec','norm_mon_integration_range','normalise_method','run_diagnostics','sample_mass','sample_rmm','save_and_reuse_masks','save_format','scale-factor','sum_runs','synonims','use_hard_mask_only','use_sam_msk_on_monovan','vanadium-mass','wb-integr-max','wb-integr-min','wb-scale-factor','wb_integr_range')
 monitor 1:  int  number = [40966]
**************** Run calibrated parameters : 
set('DelayTime','TubePressure','TubeThickness','abs_units_van_range','apply_detector_eff','apply_kikf_correction','background_range','bkgd-range-max','bkgd-range-min','check_background','data_file_ext','deltaE-mode','det_cal_file','diag_background_test_range','diag_bleed_maxrate','diag_bleed_pixels','diag_bleed_test','diag_huge','diag_samp_hi','diag_samp_lo','diag_samp_sig','diag_samp_zero','diag_spectra','diag_tiny','diag_van_hi','diag_van_lo','diag_van_out_hi','diag_van_out_lo','diag_van_sig','diag_variation','ei-mon1-spec','ei-mon2-spec','ei_mon_spectra','fixei','hard_mask_file','map_file','mask_run','mono_correction_factor','monovan_hi_bound','monovan_hi_frac','monovan_hi_value','monovan_lo_bound','monovan_lo_frac','monovan_lo_value','monovan_mapfile','norm-mon1-max','norm-mon1-min','norm-mon1-spec','norm_mon_integration_range','normalise_method','run_diagnostics','sample_mass','sample_rmm','save_and_reuse_masks','save_format','scale-factor','sum_runs','synonims','use_hard_mask_only','use_sam_msk_on_monovan','vanadium-mass','wb-integr-max','wb-integr-min','wb-scale-factor','wb_integr_range')
---------------------------------------------------------------------------
Mon 3. Mar 11:00:31 2014: Script execution finished.
---------------------------------------------------------------------------
---------------------------------------------------------------------------
Mon 3. Mar 11:05:55 2014: Script execution started.
---------------------------------------------------------------------------
**************** Wanadium parameters : 
set('DelayTime','TubePressure','TubeThickness','abs_units_van_range','apply_detector_eff','apply_kikf_correction','background_range','bkgd-range-max','bkgd-range-min','check_background','data_file_ext','deltaE-mode','det_cal_file','diag_background_test_range','diag_bleed_maxrate','diag_bleed_pixels','diag_bleed_test','diag_huge','diag_samp_hi','diag_samp_lo','diag_samp_sig','diag_samp_zero','diag_spectra','diag_tiny','diag_van_hi','diag_van_lo','diag_van_out_hi','diag_van_out_lo','diag_van_sig','diag_variation','ei-mon1-spec','ei-mon2-spec','ei_mon_spectra','fixei','hard_mask_file','map_file','mask_run','mono_correction_factor','monovan_hi_bound','monovan_hi_frac','monovan_hi_value','monovan_lo_bound','monovan_lo_frac','monovan_lo_value','monovan_mapfile','norm-mon1-max','norm-mon1-min','norm-mon1-spec','norm_mon_integration_range','normalise_method','run_diagnostics','sample_mass','sample_rmm','save_and_reuse_masks','save_format','scale-factor','spectra_to_monitors_list','sum_runs','synonims','use_hard_mask_only','use_sam_msk_on_monovan','vanadium-mass','wb-integr-max','wb-integr-min','wb-scale-factor','wb_integr_range')
 monitor 1:  int  number = [40966]
**************** Run parameters : 
set('abs_units_van_range','apply_detector_eff','apply_kikf_correction','background_range','bkgd-range-max','bkgd-range-min','check_background','data_file_ext','deltaE-mode','det-pos-source','det_cal_file','diag_background_test_range','diag_bleed_maxrate','diag_bleed_pixels','diag_bleed_test','diag_huge','diag_samp_hi','diag_samp_lo','diag_samp_sig','diag_samp_zero','diag_spectra','diag_tiny','diag_van_hi','diag_van_lo','diag_van_out_hi','diag_van_out_lo','diag_van_sig','diag_variation','ei-mon1-spec','ei-mon2-spec','ei_mon_spectra','fixei','hard_mask_file','map_file','mask_run','mono_correction_factor','monovan_hi_bound','monovan_hi_frac','monovan_hi_value','monovan_lo_bound','monovan_lo_frac','monovan_lo_value','monovan_mapfile','norm-mon1-max','norm-mon1-min','norm-mon1-spec','norm_mon_integration_range','normalise_method','run_diagnostics','sample_mass','sample_rmm','save_and_reuse_masks','save_format','scale-factor','spectra_to_monitors_list','sum_runs','synonims','use_hard_mask_only','use_sam_msk_on_monovan','vanadium-mass','wb-integr-max','wb-integr-min','wb-scale-factor','wb_integr_range')
 monitor 1:  int  number = [57350]
**************** Run calibrated parameters : 
set()
</pre>
    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="9082.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-04-14T17%3A00%3A41%2B01%3A00&amp;precision=second" title="2014-04-14T17:00:41+01:00 in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>assigned</em> to <em>inprogress</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="9082.html" title="defect: Copy instrument parameters does not work if Instrument_Parameter_XXX.xml  ... (closed: fixed)">#9082</a> the changes which illustrate the problem
</p>
<p>
will be replaced back later on.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/0aad7348de4588cf80ba38b82fc7a2d3bd450d04" title="0aad7348de4588cf80ba38b82fc7a2d3bd450d04">0aad7348de4588cf80ba38b82fc7a2d3bd450d04</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="9082.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-04-16T14%3A13%3A39%2B01%3A00&amp;precision=second" title="2014-04-16T14:13:39+01:00 in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="9082.html" title="defect: Copy instrument parameters does not work if Instrument_Parameter_XXX.xml  ... (closed: fixed)">#9082</a> Unit test illustrating the problem
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/ba8d014a683f8da603a985f1336a877e8dcd3d56" title="ba8d014a683f8da603a985f1336a877e8dcd3d56">ba8d014a683f8da603a985f1336a877e8dcd3d56</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="9082.html#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-04-17T18%3A52%3A49%2B01%3A00&amp;precision=second" title="2014-04-17T18:52:49+01:00 in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="9082.html" title="defect: Copy instrument parameters does not work if Instrument_Parameter_XXX.xml  ... (closed: fixed)">#9082</a> Intermediate checkout.
</p>
<p>
fighting with instrument components/etc.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/285f66bed0dbfbf1b1f42fa8c6dab384c5d8975d" title="285f66bed0dbfbf1b1f42fa8c6dab384c5d8975d">285f66bed0dbfbf1b1f42fa8c6dab384c5d8975d</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="9082.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-04-22T18%3A24%3A21%2B01%3A00&amp;precision=second" title="2014-04-22T18:24:21+01:00 in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="9082.html" title="defect: Copy instrument parameters does not work if Instrument_Parameter_XXX.xml  ... (closed: fixed)">#9082</a> Intermediate checkout
</p>
<p>
Should compile, but copying algorithm is incomplete&amp;needs a bit more thinking.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/5977de5c3f25d7a34182dba82287547f63e1c4c6" title="5977de5c3f25d7a34182dba82287547f63e1c4c6">5977de5c3f25d7a34182dba82287547f63e1c4c6</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="9082.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-04-22T20%3A24%3A00%2B01%3A00&amp;precision=second" title="2014-04-22T20:24:00+01:00 in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="9082.html" title="defect: Copy instrument parameters does not work if Instrument_Parameter_XXX.xml  ... (closed: fixed)">#9082</a> Intermediate checkout
</p>
<p>
Test for desired behavior and some simplification in CopyInstrumentParameters algorithm (will need further improvement)
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/1ec7c45653e4e9206b463224005df106959f7c58" title="1ec7c45653e4e9206b463224005df106959f7c58">1ec7c45653e4e9206b463224005df106959f7c58</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="9082.html#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-04-23T15%3A34%3A49%2B01%3A00&amp;precision=second" title="2014-04-23T15:34:49+01:00 in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="9082.html" title="defect: Copy instrument parameters does not work if Instrument_Parameter_XXX.xml  ... (closed: fixed)">#9082</a> Ineffective but working version
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/a3568f2d924b88f0fe630b704907e152a52ce542" title="a3568f2d924b88f0fe630b704907e152a52ce542">a3568f2d924b88f0fe630b704907e152a52ce542</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="9082.html#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-04-23T16%3A41%3A26%2B01%3A00&amp;precision=second" title="2014-04-23T16:41:26+01:00 in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="9082.html" title="defect: Copy instrument parameters does not work if Instrument_Parameter_XXX.xml  ... (closed: fixed)">#9082</a> Unit test for new instrument method
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/86472a1f413581d3161dcc1438b01c161c0d150a" title="86472a1f413581d3161dcc1438b01c161c0d150a">86472a1f413581d3161dcc1438b01c161c0d150a</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="9082.html#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-04-23T16%3A53%3A39%2B01%3A00&amp;precision=second" title="2014-04-23T16:53:39+01:00 in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="9082.html" title="defect: Copy instrument parameters does not work if Instrument_Parameter_XXX.xml  ... (closed: fixed)">#9082</a> removed methods which were not finally used
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/6da8a608286395364dc3ff9fbb1abab799201b02" title="6da8a608286395364dc3ff9fbb1abab799201b02">6da8a608286395364dc3ff9fbb1abab799201b02</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="9082.html#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-04-23T17%3A22%3A44%2B01%3A00&amp;precision=second" title="2014-04-23T17:22:44+01:00 in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="9082.html" title="defect: Copy instrument parameters does not work if Instrument_Parameter_XXX.xml  ... (closed: fixed)">#9082</a> Trivial change should fix at least some failing tests
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/0b5b339e23c075e8e30ad9299aa67978b2b76f61" title="0b5b339e23c075e8e30ad9299aa67978b2b76f61">0b5b339e23c075e8e30ad9299aa67978b2b76f61</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="9082.html#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-04-23T17%3A50%3A49%2B01%3A00&amp;precision=second" title="2014-04-23T17:50:49+01:00 in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="9082.html" title="defect: Copy instrument parameters does not work if Instrument_Parameter_XXX.xml  ... (closed: fixed)">#9082</a> Returned old LAT definition and LET parameters
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/57e839efcab0239c8d6753b5a2cf38c2e9be7d86" title="57e839efcab0239c8d6753b5a2cf38c2e9be7d86">57e839efcab0239c8d6753b5a2cf38c2e9be7d86</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="9082.html#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-04-23T19%3A05%3A05%2B01%3A00&amp;precision=second" title="2014-04-23T19:05:05+01:00 in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocking</strong>
        <em>9364</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-14">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:14" class="cnum">
      <a href="9082.html#comment:14">comment:14</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-04-24T11%3A40%3A58%2B01%3A00&amp;precision=second" title="2014-04-24T11:40:58+01:00 in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="9082.html" title="defect: Copy instrument parameters does not work if Instrument_Parameter_XXX.xml  ... (closed: fixed)">#9082</a> fixed problem with detector in instrument ParameterMap
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/297694998d6ee54866937176ce090e188cd09980" title="297694998d6ee54866937176ce090e188cd09980">297694998d6ee54866937176ce090e188cd09980</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-15">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:15" class="cnum">
      <a href="9082.html#comment:15">comment:15</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-04-24T11%3A56%3A12%2B01%3A00&amp;precision=second" title="2014-04-24T11:56:12+01:00 in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="9082.html" title="defect: Copy instrument parameters does not work if Instrument_Parameter_XXX.xml  ... (closed: fixed)">#9082</a> Unix compilation error
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/b2313477c55d05cb888026cfdd76a24078b75150" title="b2313477c55d05cb888026cfdd76a24078b75150">b2313477c55d05cb888026cfdd76a24078b75150</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-16">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:16" class="cnum">
      <a href="9082.html#comment:16">comment:16</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-04-24T12%3A54%3A07%2B01%3A00&amp;precision=second" title="2014-04-24T12:54:07+01:00 in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>inprogress</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
The essence of the ticket is to modify CopyInstrimentParameters to accept different base instruments. And different base instruments are build at loading when Instrument_Parameter.xml files have different validity scopes. In the script example above, these come from nexus file vs IDF.xml file. 
</p>
<p>
The new behaviour is demonstrated by modified unit test for CopyInstrumentParameters working with different instruments. 
</p>
<p>
Script above works now and produces expected results (copied instrument parameters appear on target instrument). The instrument parameters present on the instrument earlier are rejected completely (see unit test for proof of this) 
</p>
<p>
Code effectiveness is addressed by follow-up ticket <a class="closed ticket" href="9364.html" title="enhancement: CopyInstrumentParameters performance &amp; efficiency (closed: fixed)">#9364</a>.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-17">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:17" class="cnum">
      <a href="9082.html#comment:17">comment:17</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-04-25T11%3A20%3A56%2B01%3A00&amp;precision=second" title="2014-04-25T11:20:56+01:00 in Timeline">6 years</a> ago by Karl Palmen
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li><li>
      <strong>Tester</strong>
        set to <em>Karl Palmen</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-18">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:18" class="cnum">
      <a href="9082.html#comment:18">comment:18</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-04-25T13%3A41%3A45%2B01%3A00&amp;precision=second" title="2014-04-25T13:41:45+01:00 in Timeline">6 years</a> ago by Karl Palmen
                </h3>
                
    <div class="comment searchable">
      
      <p>
Code review shows some commented out code, which I expect will be fixed in ticket <a class="closed ticket" href="9364.html" title="enhancement: CopyInstrumentParameters performance &amp; efficiency (closed: fixed)">#9364</a>.
</p>
<p>
Script works (after copying files to my default folder).
</p>
<p>
Unit test appears to be good.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-19">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:19" class="cnum">
      <a href="9082.html#comment:19">comment:19</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-04-25T13%3A42%3A53%2B01%3A00&amp;precision=second" title="2014-04-25T13:42:53+01:00 in Timeline">6 years</a> ago by Karl Palmen
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>closed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Merge remote-tracking branch 'origin/bugfix/9082_IDFandCopyIDF'
</p>
<p>
Full changeset: <a class="ext-link" href="https://github.com/mantidproject/mantid/commit/8f9b079b01d2c281b3f775d0a2a522682f49b536"><span class="icon">​</span>8f9b079b01d2c281b3f775d0a2a522682f49b536</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-20">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:20" class="cnum">
      <a href="9082.html#comment:20">comment:20</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T03%3A03%3A26%2B01%3A00&amp;precision=second" title="2015-06-04T03:03:26+01:00 in Timeline">5 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
This ticket has been transferred to github issue <a class="ext-link" href="http://github.com/mantidproject/mantid/issues/9925"><span class="icon">​</span>9925</a>
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/9082?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/9082?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/9082?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.5</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
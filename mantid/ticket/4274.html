<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      #4274 (Save MDHistoWorkspace to Michal's HDF format)
     – Mantid Project
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="4273.html" title="Ticket #4273" />
        <link rel="last" href="11888.html" title="Ticket #11888" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/4274?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/4274?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/4274?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="4275.html" title="Ticket #4275" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mantid Project" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="a82fe30e7bef2e30fd2838e9";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/mantid/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 4274, escape_newlines: 0}
        $("#comment").autoPreview("/mantid/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/mantid/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.mantidproject.org/"><img src="../chrome/site/mantid_logo_with_name.png" alt="Mantid Logo" width="250" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://trac.mantidproject.org/mantid/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="4273.html" title="Ticket #4273">Previous Ticket</a></span></li><li class="last"><span><a class="next" href="4275.html" title="Ticket #4275">Next Ticket</a> &rarr;</span></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="4274.html">Ticket #4274</a>
          <span class="status">(closed: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-12-06T16%3A42%3A55Z&amp;precision=second" title="2011-12-06T16:42:55Z in Timeline">9 years</a> ago</p>
    <p>Last modified <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-03T23%3A44%3A10%2B01%3A00&amp;precision=second" title="2015-06-03T23:44:10+01:00 in Timeline">5 years</a> ago</p>
  </div>
  <h2 class="summary searchable">Save MDHistoWorkspace to Michal's HDF format</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;reporter=Janik+Zikovsky">Janik Zikovsky</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;owner=Janik+Zikovsky">Janik Zikovsky</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;priority=critical">critical</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="../milestone/Release&#32;2.1.html">Release 2.1</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;component=Mantid">Mantid</a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
              vel@…, pf9@…
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby"><span></span></td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking"><span></span></td>
        <th id="h_tester">
          Tester:
        </th>
        <td headers="h_tester">
              Vickie Lynch
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
      <span class="lastmod" title="2011-12-30 15:18:09.088156+00:00">
        (last modified by Janik Zikovsky)
        (<a href="https://trac.mantidproject.org/mantid/ticket/4274?action=diff&amp;version=2">diff</a>)
      </span>
    </h3>
    <div class="searchable">
      <pre class="wiki">This file contains key portions of the email exchanges with Michal Chodkiewicz
(michal.chodkiewicz@gmail.com) of the SINERGIA project, regarding the ZODS hdf5 
file format. 

  Michal put together a very simple example of the format, which is
included.  ZODS_hdf5_format.txt is an ASCII form of the example; 
ZODS_file_example.h5 is the actual HDF5 file.  These files should be very 
helpful for figuring out the details of the format.  I've also attached the
relevant portion of IsawEV's java code for writing the format from IsawEV:
WriteSlicesToHDF_5.java.  Several more extensive example files, still using 
1D arrays, are on the ISAW ftp site in: 
http://ftp.sns.gov/ISAW/SAMPLE_SLICE_DATA_HDF_5/.

  One change should be made: the examples have the arrays written as long 
1D arrays, but Michal and I agreed to write individual slices as 2D arrays. 
That change allows hdfview to show the slices as images, though the hdfview 
color scales must be tweaked to get a useful display.  The 2D version is 
included in the attached java code.  If a "real" example file using 2D 
images would be helpful, let me know. It will just take a few minutes for 
me to make one from TOPAZ data.

THE BASIC IDEA:

  Michal wrote:
"In general it contains collection of grids with intensities and each grid 
is described by specifying origin, size of grid (in each direction) and 
grid base vectors (a1,a2,a3) so a point at node (i,j,k) of grid has 
coordinates r= origin+i*a1+j*a2+k*a3."

SOME QUESTIONS I HAD AND Michal's ANSWERS (i.e. a FAQ list):

Dennis: 1. Will this always be done in terms of h,k,l?  That is, will a 
direction vector such as direction 1 vector (0.04,0,0) always represent a 
step of 0.04 in the (1,0,0) direction in reciprocal space.  Will it ever be 
necessary to deal with slices just in terms of Q-vectors, not specified 
relative to an indexed lattice?

Michal: There are two possible systems of coordinates which ZODS can use 
(so only one of them needs to be implemented for output):

(1) direction 1 vector (0.04,0,0) represents a step of 0.04 in the (1,0,0)
direction (a*) in reciprocal space

(2) direction 1 vector (0.04,0,0) represents a step of 0.04 Angstrom^(-1) in X
direction of Cartesian coordinate system (with X colinear with a and Z with
c*)

Dennis: 2. What is the role of the GROUP "Data" and GROUP "CoordinateSystem" at
the start of the ASCII example?
 
Michal: CoordinateSystem has attribute isLocal - if the attribute is true (=1) 
then the "origin" and "direction_i".. are defined using coordinate system (1)
if isLocal equals 0 then the vectors defining grid are defined with coordinate
system 2, in this case CoordinateSystem has additional attribute UnitCell
which is a vector with 6 components (a,b,c,alpha,beta,gamma) a,b,c in
angstroms and angles in degrees.  It is intended to group all arrays
with data, so there will be:
GROUP "/" {
GROUP "CoordinateSystem" {..}
GROUP "Data"  {
   GROUP "Data_0"{...}
   GROUP "Data_1"{...}
}

Dennis: 3. The grid of points you refer to specifies the centers of histogram 
bins in 3D, not the corners.  Is that correct?

Michal: yes

Dennis: 4. I assume that the numbers in the line DATASPACE SIMPLE { (16)/(16) }
    are the current_dims and max_dims.  (Apparently the rank is not explicitly
stated in the ASCII format.)  Do you intend to always store the actual slice
data as a one-dimensional array?  That is, if the "size" was 10,20,30, you
would still expect to get one 1-dimensional array with 6000 entries?

Michal:  yes, always 1-dimensional  // NOTE: This has been changed to allow 2D

Dennis: 5. If the data array is 1-dimensional, we need to be very clear on the
order in which it is stored.  In the above 10x20x30 example, do the first 10
entries represent entries Data[0][0][0] through Data[9][0][0]; the next 10
entries Data[0][1][0] through Data[9][1][0], etc, until finally, the last 10
entries represent Data[0][19][29] through Data[9][19][29].  Is that the
convention you want?  NOTE: This is the reverse of the "C" convention
(row-major order).

Michal: It is the reverse i.e. the first component is slowest varying, so the 
first 10 elements are Data[0][0][0] through Data[0][0][9]

Dennis: 6. Direction 1 gives the direction from the sample point for 
           Data[0][0][0] to the sample point for Data[1][0][0].
           Direction 2 gives the direction from the sample point for 
           Data[0][0][0] to the sample point for Data[0][1][0].
           Direction 3 gives the direction from the sample point for 
           Data[0][0][0] to the sample point for Data[0][0][1].
     Is that correct?

Michael: yes
</pre>
    </div>
  </div>
</div>
          
    <div id="attachments">
        <h2 class="foldable">Attachments</h2>
        <div>
          <dl class="attachments">
              <dt>
    <a href="../attachment/ticket/4274/ZODS_file_example.h5.html" title="View attachment">ZODS_file_example.h5</a><a href="../raw-attachment/ticket/4274/ZODS_file_example.h5" class="trac-rawlink" title="Download">​</a>
       (<span title="8544 bytes">8.3 KB</span>) -
      added by <em>Janik Zikovsky</em> <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-12-30T15%3A15%3A19Z&amp;precision=second" title="2011-12-30T15:15:19Z in Timeline">9 years</a> ago.
  </dt>
              <dd>
                ZODS hdf5 sample file
              </dd>
              <dt>
    <a href="../attachment/ticket/4274/WriteSlicesToHDF_5.java.html" title="View attachment">WriteSlicesToHDF_5.java</a><a href="../raw-attachment/ticket/4274/WriteSlicesToHDF_5.java" class="trac-rawlink" title="Download">​</a>
       (<span title="9783 bytes">9.6 KB</span>) -
      added by <em>Janik Zikovsky</em> <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-12-30T15%3A15%3A49Z&amp;precision=second" title="2011-12-30T15:15:49Z in Timeline">9 years</a> ago.
  </dt>
          </dl>
          
        </div>
    </div>

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change">
                <h3 class="change">
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-12-30T15%3A15%3A19Z&amp;precision=second" title="2011-12-30T15:15:19Z in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Attachment</strong>
        <a href="../attachment/ticket/4274/ZODS_file_example.h5.html"><em>ZODS_file_example.h5</em></a><a href="../raw-attachment/ticket/4274/ZODS_file_example.h5" title="Download" class="trac-rawlink">​</a>
          added
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
ZODS hdf5 sample file
</p>

    </div>

              </div>
              <div class="change">
                <h3 class="change">
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-12-30T15%3A15%3A49Z&amp;precision=second" title="2011-12-30T15:15:49Z in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Attachment</strong>
        <a href="../attachment/ticket/4274/WriteSlicesToHDF_5.java.html"><em>WriteSlicesToHDF_5.java</em></a><a href="../raw-attachment/ticket/4274/WriteSlicesToHDF_5.java" title="Download" class="trac-rawlink">​</a>
          added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="4274.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-12-30T15%3A16%3A51Z&amp;precision=second" title="2011-12-30T15:16:51Z in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Description</strong>
        modified (<a href="https://trac.mantidproject.org/mantid/ticket/4274?action=diff&amp;version=1">diff</a>)
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="4274.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-12-30T15%3A18%3A09Z&amp;precision=second" title="2011-12-30T15:18:09Z in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Description</strong>
        modified (<a href="https://trac.mantidproject.org/mantid/ticket/4274?action=diff&amp;version=2">diff</a>)
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="4274.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-12-30T15%3A19%3A58Z&amp;precision=second" title="2011-12-30T15:19:58Z in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
    <div class="comment searchable">
      
      <p>
ZODS HDF5 format.txt:
</p>
<pre class="wiki">HDF5 "call_1_ind_0.h5" {
GROUP "/" {
   GROUP "CoordinateSystem" {
      ATTRIBUTE "isLocal" {
         DATATYPE  H5T_STD_U32LE
         DATASPACE  SCALAR
         DATA {
         (0): 0
         }
      }
   }
   GROUP "Data" {
      GROUP "Data_0" {
         ATTRIBUTE "direction_1" {
            DATATYPE  H5T_IEEE_F64LE
            DATASPACE  SIMPLE { ( 3 ) / ( 3 ) }
            DATA {
            (0): 0.04, -2.44929e-018, -2.44929e-018
            }
         }
         ATTRIBUTE "direction_2" {
            DATATYPE  H5T_IEEE_F64LE
            DATASPACE  SIMPLE { ( 3 ) / ( 3 ) }
            DATA {
            (0): 0, 0.04, -2.44929e-018
            }
         }
         ATTRIBUTE "direction_3" {
            DATATYPE  H5T_IEEE_F64LE
            DATASPACE  SIMPLE { ( 3 ) / ( 3 ) }
            DATA {
            (0): 0, 0, 0.004
            }
         }
         ATTRIBUTE "origin" {
            DATATYPE  H5T_IEEE_F64LE
            DATASPACE  SIMPLE { ( 3 ) / ( 3 ) }
            DATA {
            (0): -1.6, -1.6, 1.95943e-016
            }
         }
         ATTRIBUTE "size" {
            DATATYPE  H5T_STD_U32LE
            DATASPACE  SIMPLE { ( 3 ) / ( 3 ) }
            DATA {
            (0): 9, 9, 1
            }
         }
         DATASET "Data" {
            DATATYPE  H5T_IEEE_F64LE
            DATASPACE  SIMPLE { ( 81 ) / ( 81 ) }
            DATA {
            (0): 2753.1, 2471.5, 1687.15, 795.321, 184.415, 3.70492e-007,
            (6): 100.856, 221.549, 197.934, 2471.5, 2109.9, 1364.16, 604.413,
            (13): 129.954, 2.61231e-007, 55.5666, 94.8741, 46.9227, 1687.19,
            (19): 1364.18, 828.99, 340.561, 66.2694, 4.16443e-007, 19.0313,
            (25): 17.9868, 2.67682e-028, 795.321, 604.413, 340.568, 126.628,
            (31): 21.2919, 7.52455e-008, 2.63038, 6.77865e-029, 18.7726,
            (36): 184.433, 129.966, 66.2743, 21.2931, 2.78238, 1.96945e-008,
            (42): 8.88689e-030, 2.74621, 20.7392, 3.70492e-007, 2.61231e-007,
            (47): 4.16443e-007, 7.52455e-008, 1.96945e-008, 7.98771e-086,
            (51): 2.05633e-008, 8.20307e-008, 1.81061e-007, 100.856, 55.5666,
            (56): 19.0313, 2.63038, 8.88689e-030, 2.05633e-008, 3.03419,
            (61): 24.2472, 78.8271, 221.549, 94.8741, 17.9868, 6.77865e-029,
            (67): 2.74621, 8.20307e-008, 24.2472, 150.653, 423.309, 197.934,
            (73): 46.9227, 2.67682e-028, 18.7726, 20.7392, 1.81061e-007,
            (78): 78.8271, 423.309, 1077.31
            }
         }
      }
      GROUP "Data_1" {
         ATTRIBUTE "direction_1" {
            DATATYPE  H5T_IEEE_F64LE
            DATASPACE  SIMPLE { ( 3 ) / ( 3 ) }
            DATA {
            (0): 0.6, -3.67394e-017, -3.67394e-017
            }
         }
         ATTRIBUTE "direction_2" {
            DATATYPE  H5T_IEEE_F64LE
            DATASPACE  SIMPLE { ( 3 ) / ( 3 ) }
            DATA {
            (0): 0, 0.6, -3.67394e-017
            }
         }
         ATTRIBUTE "direction_3" {
            DATATYPE  H5T_IEEE_F64LE
            DATASPACE  SIMPLE { ( 3 ) / ( 3 ) }
            DATA {
            (0): 0, 0, 0.044
            }
         }
         ATTRIBUTE "origin" {
            DATATYPE  H5T_IEEE_F64LE
            DATASPACE  SIMPLE { ( 3 ) / ( 3 ) }
            DATA {
            (0): -1.6, -1.6, 0.4
            }
         }
         ATTRIBUTE "size" {
            DATATYPE  H5T_STD_U32LE
            DATASPACE  SIMPLE { ( 3 ) / ( 3 ) }
            DATA {
            (0): 6, 6, 1
            }
         }
         DATASET "Data" {
            DATATYPE  H5T_IEEE_F64LE
            DATASPACE  SIMPLE { ( 36 ) / ( 36 ) }
            DATA {
            (0): 2695.36, 4.27936e-007, 4.02729e-028, 2.23398e-027, 3763.04,
            (5): 9.40132e-027, 3.5661e-028, 6.22302e-061, 9.92598e-028,
            (9): 2.62496e-028, 8.012e-028, 2.36776e-086, 4.02729e-028,
            (13): 9.92598e-028, 21316.6, 4.84147e-026, 3.67199e-026,
            (17): 9.82572e-026, 1.21473e-026, 2.62496e-028, 7.28752e-026,
            (21): 5.16881e-085, 3.95531e-026, 1.4602e-028, 3763.04,
            (25): 8.36716e-007, 4.56749e-027, 5.44158e-028, 8492.05,
            (29): 1.42407e-026, 3.61517e-007, 1.23663e-085, 6.60426e-007,
            (33): 1.4602e-028, 8.29925e-026, 2.23827e-084
            }
         }
      }
   }
}
}
</pre>
    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="4274.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-01-09T09%3A42%3A05Z&amp;precision=second" title="2012-01-09T09:42:05Z in Timeline">9 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>Iteration 32</em> to <em>Iteration 33</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Moved to iteration 33 at iteration 32 code freeze
</p>

    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="4274.html#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-01-26T18%3A53%3A43Z&amp;precision=second" title="2012-01-26T18:53:43Z in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
    <div class="comment searchable">
      
      <p>
Note the loader is available on the topaz computer
</p>
<p>
/SNS/TOPAZ/shared/ZODS/bin/analyzer
</p>
<p>
and examples here:
</p>
<p>
/SNS/TOPAZ/shared/ZODS/zods_examples/CuAu
</p>
<p>
See Tara or Vickie for more help
</p>

    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="4274.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-01-27T22%3A37%3A52Z&amp;precision=second" title="2012-01-27T22:37:52Z in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>accepted</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Will call algorithm SaveZODS :)
</p>

    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="4274.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-01-30T18%3A47%3A10Z&amp;precision=second" title="2012-01-30T18:47:10Z in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="4274.html" title="enhancement: Save MDHistoWorkspace to Michal's HDF format (closed: fixed)">#4274</a>: stub of a SaveZODS algorithm 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/8580f3a3a3424c390c299a6732f7b69ff11a00f0" title="8580f3a3a3424c390c299a6732f7b69ff11a00f0">8580f3a3a3424c390c299a6732f7b69ff11a00f0</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="4274.html#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-01-30T18%3A47%3A11Z&amp;precision=second" title="2012-01-30T18:47:11Z in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="4274.html" title="enhancement: Save MDHistoWorkspace to Michal's HDF format (closed: fixed)">#4274</a> putAttr() for vectors. Does not work 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/ecc6027b64ec53d63da1cc1da16d5cbc6012f74b" title="ecc6027b64ec53d63da1cc1da16d5cbc6012f74b">ecc6027b64ec53d63da1cc1da16d5cbc6012f74b</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="4274.html#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-01-30T18%3A47%3A11Z&amp;precision=second" title="2012-01-30T18:47:11Z in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
    <div class="comment searchable">
      
      <p>
Revert "Refs <a class="closed ticket" href="4274.html" title="enhancement: Save MDHistoWorkspace to Michal's HDF format (closed: fixed)">#4274</a> putAttr() for vectors. Does not work"
</p>
<p>
This reverts commit <a class="changeset" href="https://github.com/mantidproject/mantid/commit/ecc6027b64ec53d63da1cc1da16d5cbc6012f74b" title="ecc6027b64ec53d63da1cc1da16d5cbc6012f74b">ecc6027b64ec53d63da1cc1da16d5cbc6012f74b</a>. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/8259dadce142b680145a53fce2fcbe1f8bc4bf94" title="8259dadce142b680145a53fce2fcbe1f8bc4bf94">8259dadce142b680145a53fce2fcbe1f8bc4bf94</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="4274.html#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-01-30T18%3A47%3A11Z&amp;precision=second" title="2012-01-30T18:47:11Z in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="4274.html" title="enhancement: Save MDHistoWorkspace to Michal's HDF format (closed: fixed)">#4274</a> SaveZODS fleshed out 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/a7f931ef92887a10a6d964ceaf40ab74cc1175d9" title="a7f931ef92887a10a6d964ceaf40ab74cc1175d9">a7f931ef92887a10a6d964ceaf40ab74cc1175d9</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="4274.html#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-01-30T18%3A47%3A11Z&amp;precision=second" title="2012-01-30T18:47:11Z in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="4274.html" title="enhancement: Save MDHistoWorkspace to Michal's HDF format (closed: fixed)">#4274</a> fix dimensions 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/e16a48de68222c1de959ee41b18430b77bd29a4f" title="e16a48de68222c1de959ee41b18430b77bd29a4f">e16a48de68222c1de959ee41b18430b77bd29a4f</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="4274.html#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-02-14T17%3A43%3A31Z&amp;precision=second" title="2012-02-14T17:43:31Z in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="4274.html" title="enhancement: Save MDHistoWorkspace to Michal's HDF format (closed: fixed)">#4274</a>: ZODS file format updatE 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/5059e5b1cfac7dcfd12151a659d9299c1488646d" title="5059e5b1cfac7dcfd12151a659d9299c1488646d">5059e5b1cfac7dcfd12151a659d9299c1488646d</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="4274.html#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-02-14T20%3A06%3A28Z&amp;precision=second" title="2012-02-14T20:06:28Z in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="4274.html" title="enhancement: Save MDHistoWorkspace to Michal's HDF format (closed: fixed)">#4274</a>: SaveZODS wiki and fixes 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/a40acf9cddefd04941b65eedf91416a9b7500164" title="a40acf9cddefd04941b65eedf91416a9b7500164">a40acf9cddefd04941b65eedf91416a9b7500164</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-14">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:14" class="cnum">
      <a href="4274.html#comment:14">comment:14</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-02-17T19%3A16%3A35Z&amp;precision=second" title="2012-02-17T19:16:35Z in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="4274.html" title="enhancement: Save MDHistoWorkspace to Michal's HDF format (closed: fixed)">#4274</a>: ZODS file format updatE 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/5059e5b1cfac7dcfd12151a659d9299c1488646d" title="5059e5b1cfac7dcfd12151a659d9299c1488646d">5059e5b1cfac7dcfd12151a659d9299c1488646d</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-15">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:15" class="cnum">
      <a href="4274.html#comment:15">comment:15</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-02-17T19%3A16%3A38Z&amp;precision=second" title="2012-02-17T19:16:38Z in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="4274.html" title="enhancement: Save MDHistoWorkspace to Michal's HDF format (closed: fixed)">#4274</a>: SaveZODS wiki and fixes 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/a40acf9cddefd04941b65eedf91416a9b7500164" title="a40acf9cddefd04941b65eedf91416a9b7500164">a40acf9cddefd04941b65eedf91416a9b7500164</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-16">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:16" class="cnum">
      <a href="4274.html#comment:16">comment:16</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-04-09T15%3A25%3A26%2B01%3A00&amp;precision=second" title="2012-04-09T15:25:26+01:00 in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
    <div class="comment searchable">
      
      <p>
Hi Janik,
</p>
<p>
It works.
</p>
<p>
There are two more fields possible not present in the example you have sent but they are optional (so it is ok). I have listed them below to make sure that you have that information:
</p>
<p>
(1) If information about standard deviation is available it should be added as an array called 'sigma' (e.g. located at /Data/Data_0/sigma)  with sigmas = -1 for missing or invalid data points (in the same format as corresponding data).
</p>
<p>
(2) If information about unit cell is available it should be written to /CoordinateSystem/unit_cell as 6D vector (a,b,c,alpha,beta,gamma)
</p>
<p>
thank you,
</p>
<p>
Michal
</p>

    </div>

              </div>
              <div class="change" id="trac-change-17">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:17" class="cnum">
      <a href="4274.html#comment:17">comment:17</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-04-09T15%3A55%3A01%2B01%3A00&amp;precision=second" title="2012-04-09T15:55:01+01:00 in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="4274.html" title="enhancement: Save MDHistoWorkspace to Michal's HDF format (closed: fixed)">#4274</a> final fixes to SaveZODS 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/40b4db44cd3523c9fa1df19aefca6ff9090c2bff" title="40b4db44cd3523c9fa1df19aefca6ff9090c2bff">40b4db44cd3523c9fa1df19aefca6ff9090c2bff</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-18">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:18" class="cnum">
      <a href="4274.html#comment:18">comment:18</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-04-09T15%3A58%3A02%2B01%3A00&amp;precision=second" title="2012-04-09T15:58:02+01:00 in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>accepted</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-19">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:19" class="cnum">
      <a href="4274.html#comment:19">comment:19</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-04-16T15%3A03%3A11%2B01%3A00&amp;precision=second" title="2012-04-16T15:03:11+01:00 in Timeline">8 years</a> ago by Vickie Lynch
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="4274.html" title="enhancement: Save MDHistoWorkspace to Michal's HDF format (closed: fixed)">#4274</a> ZODS reads UnitCell not unit_cell
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/fad0938988ef4c5df72f52f7c895e63df099cd8b" title="fad0938988ef4c5df72f52f7c895e63df099cd8b">fad0938988ef4c5df72f52f7c895e63df099cd8b</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-20">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:20" class="cnum">
      <a href="4274.html#comment:20">comment:20</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-04-16T16%3A52%3A33%2B01%3A00&amp;precision=second" title="2012-04-16T16:52:33+01:00 in Timeline">8 years</a> ago by Vickie Lynch
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="4274.html" title="enhancement: Save MDHistoWorkspace to Michal's HDF format (closed: fixed)">#4274</a> ZODS reads UnitCell not unit_cell 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/fad0938988ef4c5df72f52f7c895e63df099cd8b" title="fad0938988ef4c5df72f52f7c895e63df099cd8b">fad0938988ef4c5df72f52f7c895e63df099cd8b</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-21">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:21" class="cnum">
      <a href="4274.html#comment:21">comment:21</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-04-30T20%3A56%3A45%2B01%3A00&amp;precision=second" title="2012-04-30T20:56:45+01:00 in Timeline">8 years</a> ago by Vickie Lynch
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li><li>
      <strong>Tester</strong>
        set to <em>Vickie Lynch</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-22">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:22" class="cnum">
      <a href="4274.html#comment:22">comment:22</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-04-30T21%3A04%3A19%2B01%3A00&amp;precision=second" title="2012-04-30T21:04:19+01:00 in Timeline">8 years</a> ago by Vickie Lynch
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>closed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
ZODS code is able to read this input
</p>

    </div>

              </div>
              <div class="change" id="trac-change-23">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:23" class="cnum">
      <a href="4274.html#comment:23">comment:23</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-03T23%3A44%3A10%2B01%3A00&amp;precision=second" title="2015-06-03T23:44:10+01:00 in Timeline">5 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
This ticket has been transferred to github issue <a class="ext-link" href="http://github.com/mantidproject/mantid/issues/5121"><span class="icon">​</span>5121</a>
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/4274?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/4274?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/4274?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.5</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
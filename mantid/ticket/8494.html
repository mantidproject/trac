<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      #8494 (Move the Muon workflow out of the MuonAnalysis interface code)
     – Mantid Project
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="8493.html" title="Ticket #8493" />
        <link rel="last" href="11888.html" title="Ticket #11888" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/8494?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/8494?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/8494?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="8495.html" title="Ticket #8495" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mantid Project" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="a82fe30e7bef2e30fd2838e9";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/mantid/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 8494, escape_newlines: 0}
        $("#comment").autoPreview("/mantid/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/mantid/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.mantidproject.org/"><img src="../chrome/site/mantid_logo_with_name.png" alt="Mantid Logo" width="250" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://trac.mantidproject.org/mantid/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="8493.html" title="Ticket #8493">Previous Ticket</a></span></li><li><span><a class="next" href="8495.html" title="Ticket #8495">Next Ticket</a> &rarr;</span></li><li class="last"><a href="../depgraph/8494.html">Depgraph</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="8494.html">Ticket #8494</a>
          <span class="status">(closed: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-20T16%3A29%3A23Z&amp;precision=second" title="2013-11-20T16:29:23Z in Timeline">7 years</a> ago</p>
    <p>Last modified <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T02%3A39%3A03%2B01%3A00&amp;precision=second" title="2015-06-04T02:39:03+01:00 in Timeline">5 years</a> ago</p>
  </div>
  <h2 class="summary searchable">Move the Muon workflow out of the MuonAnalysis interface code</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;reporter=Arturs+Bekasovs">Arturs Bekasovs</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;owner=Arturs+Bekasovs">Arturs Bekasovs</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;priority=major">major</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="../milestone/Release&#32;3.2.html">Release 3.2</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;component=Muon">Muon</a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;keywords=~Maintenance">Maintenance</a>
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby"><span><a class="closed ticket" href="8506.html" title="[Muon] Update LoadMuonNexus to return dead times as a table.">#8506</a>, <a class="closed ticket" href="8534.html" title="[Muon] New MuonCalculateAsymmetry workflow algorithm">#8534</a>, <a class="closed ticket" href="8550.html" title="[Muon] Tidy up detetector grouping">#8550</a>, <a class="closed ticket" href="8597.html" title="[Muon] MuonLoad workflow algorithm">#8597</a>, <a class="closed ticket" href="8702.html" title="FullBinsOnly option for Rebin">#8702</a></span></td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking"><span></span></td>
        <th id="h_tester">
          Tester:
        </th>
        <td headers="h_tester">
              Gesner Passos
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
      <span class="lastmod" title="2013-11-20 16:30:31.834543+00:00">
        (last modified by Arturs Bekasovs)
        (<a href="https://trac.mantidproject.org/mantid/ticket/8494?action=diff&amp;version=1">diff</a>)
      </span>
    </h3>
    <div class="searchable">
      <p>
Muon Interface has quite a long sequence of things it does to the loaded workspace before it actually gets plotted on the screen. Currently, all these steps are buried in the depths of the interface code. This is bad.
</p>
<p>
Firstly, because it makes them difficult to test. Currently, only the individual algorithms are tested, but not how they are working together.
</p>
<p>
Secondly, this makes it impossible to use the workflow outside the interface, which is currently required for <a class="closed ticket" href="6473.html" title="task: [Muon] Sequential fitting (closed: fixed)">#6473</a>.
</p>
<p>
To solve similar kinds of problems, a notion of <em>Workflow algorithm</em> was introduced. Those are not doing much work themselves, but are instead setting parameters for child algorithms. This seems like a right thing to use inside Muon Analysis.
</p>
<p>
So, the initial plan is:
</p>
<ol><li>Find out how many and what kind of algorithms are needed.
</li><li>Write rigorous tests for them.
</li><li>Implement algorithms so that tests are passing.
</li><li>Refactor MuonAnalysis interface code to use these algorithms instead.
</li></ol>
    </div>
  </div>
</div>
          
    <div id="attachments">
        <h2 class="foldable">Attachments</h2>
        <div>
          <dl class="attachments">
              <dt>
    <a href="../attachment/ticket/8494/muon_workflow.png.html" title="View attachment">muon_workflow.png</a><a href="../raw-attachment/ticket/8494/muon_workflow.png" class="trac-rawlink" title="Download">​</a>
       (<span title="113573 bytes">110.9 KB</span>) -
      added by <em>Arturs Bekasovs</em> <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T14%3A52%3A54Z&amp;precision=second" title="2014-02-25T14:52:54Z in Timeline">7 years</a> ago.
  </dt>
              <dd>
                Workflow of MuonAnalysis and MuonLoad
              </dd>
          </dl>
          
        </div>
    </div>

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="8494.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-20T16%3A30%3A31Z&amp;precision=second" title="2013-11-20T16:30:31Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Description</strong>
        modified (<a href="https://trac.mantidproject.org/mantid/ticket/8494?action=diff&amp;version=1">diff</a>)
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="8494.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-20T16%3A36%3A44Z&amp;precision=second" title="2013-11-20T16:36:44Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocking</strong>
        <em>6473</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
(In <a class="closed ticket" href="6473.html" title="task: [Muon] Sequential fitting (closed: fixed)">#6473</a>) I am unable to load workspace for fitting properly before the workflow of the MuonAnalysis is moved outside the interface.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="8494.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-21T14%3A41%3A26Z&amp;precision=second" title="2013-11-21T14:41:26Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
<em>Deleted</em>
</p>

    </div>

                <div class="trac-lastedit ">
                  Last edited <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-22T16%3A26%3A59Z&amp;precision=second" title="2013-11-22T16:26:59Z in Timeline">7 years</a> ago
                      by Arturs Bekasovs
                    (<a href="https://trac.mantidproject.org/mantid/ticket/8494?cversion=1&amp;cnum_hist=3#comment:3">previous</a>)
                    (<a href="https://trac.mantidproject.org/mantid/ticket/8494?action=comment-diff&amp;cnum=3&amp;version=2">diff</a>)
                </div>
              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="8494.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-21T14%3A46%3A39Z&amp;precision=second" title="2013-11-21T14:46:39Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
I will use a following approach to testing - it will be assumed, that the current results produced by MuonAnalysis interface are correct and I will test against them. This will make sure I've not broken anything that works already.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="8494.html#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-21T14%3A49%3A45Z&amp;precision=second" title="2013-11-21T14:49:45Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>inprogress</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="8494.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-22T12%3A46%3A30Z&amp;precision=second" title="2013-11-22T12:46:30Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
It was decided to implement these algorithms in separate tickets. I will add them as blockers of this one as I will go along and create them. When all of them are done, tester of this ticket should just verify that the overall job was done.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="8494.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-22T13%3A00%3A56Z&amp;precision=second" title="2013-11-22T13:00:56Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocked By</strong>
        <em>8506</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="8494.html#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-22T16%3A37%3A43Z&amp;precision=second" title="2013-11-22T16:37:43Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Summary</strong>
        changed from <em>[Muon] Create workflow algorithms and refactor the interface to use them</em> to <em>[Muon] Move the Muon workflow out of the MuonAnalysis interface code</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
The workflow was re-thought a bit. Now it utilizes more already-available algorithms. New list of things to implement:
</p>
<ol><li>Update <em>LoadMuonNexus</em> - it should return DeadTimes as a TableWorkspace, so we can directly use it for ApplyDeadTimeCorr.
</li><li>Replace <em>ApplyGroupingFromMuonNexus</em> with <em>MuonLoadGrouping</em> and <em>MuonGroupDetectors</em>.
</li><li>Update <em>Rebin</em> algorithm to include new option "FullBinsOnly".
</li><li>Create workflow algorithm <em>MuonCreateWorkspace</em>.
</li><li>Create top-level workflow algorithm <em>MuonLoad</em>.
</li></ol><p>
While doing all that, again, appropriate part of the MuonAnalysis should be refactored to move out the calculations.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="8494.html#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-29T15%3A46%3A46Z&amp;precision=second" title="2013-11-29T15:46:46Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocked By</strong>
        <em>8534</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="8494.html#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-06T12%3A39%3A49Z&amp;precision=second" title="2013-12-06T12:39:49Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocked By</strong>
        <em>8550</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="8494.html#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-11T12%3A15%3A34Z&amp;precision=second" title="2013-12-11T12:15:34Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocked By</strong>
        <em>8597</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="8494.html#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-12T14%3A29%3A31Z&amp;precision=second" title="2013-12-12T14:29:31Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      
    </div>

                <div class="trac-lastedit ">
                  Last edited <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-12T15%3A03%3A32Z&amp;precision=second" title="2013-12-12T15:03:32Z in Timeline">7 years</a> ago
                      by Arturs Bekasovs
                    (<a href="https://trac.mantidproject.org/mantid/ticket/8494?cversion=0&amp;cnum_hist=12#comment:12">previous</a>)
                    (<a href="https://trac.mantidproject.org/mantid/ticket/8494?action=comment-diff&amp;cnum=12&amp;version=1">diff</a>)
                </div>
              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="8494.html#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-12T14%3A29%3A31Z&amp;precision=second" title="2013-12-12T14:29:31Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      
    </div>

                <div class="trac-lastedit ">
                  Last edited <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-12T15%3A03%3A42Z&amp;precision=second" title="2013-12-12T15:03:42Z in Timeline">7 years</a> ago
                      by Arturs Bekasovs
                    (<a href="https://trac.mantidproject.org/mantid/ticket/8494?cversion=1&amp;cnum_hist=13#comment:13">previous</a>)
                    (<a href="https://trac.mantidproject.org/mantid/ticket/8494?action=comment-diff&amp;cnum=13&amp;version=2">diff</a>)
                </div>
              </div>
              <div class="change" id="trac-change-14">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:14" class="cnum">
      <a href="8494.html#comment:14">comment:14</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-12T14%3A29%3A32Z&amp;precision=second" title="2013-12-12T14:29:32Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      
    </div>

                <div class="trac-lastedit ">
                  Last edited <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-12T15%3A03%3A47Z&amp;precision=second" title="2013-12-12T15:03:47Z in Timeline">7 years</a> ago
                      by Arturs Bekasovs
                    (<a href="https://trac.mantidproject.org/mantid/ticket/8494?cversion=0&amp;cnum_hist=14#comment:14">previous</a>)
                    (<a href="https://trac.mantidproject.org/mantid/ticket/8494?action=comment-diff&amp;cnum=14&amp;version=1">diff</a>)
                </div>
              </div>
              <div class="change" id="trac-change-15">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:15" class="cnum">
      <a href="8494.html#comment:15">comment:15</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-12T14%3A29%3A32Z&amp;precision=second" title="2013-12-12T14:29:32Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      
    </div>

                <div class="trac-lastedit ">
                  Last edited <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-12T15%3A03%3A52Z&amp;precision=second" title="2013-12-12T15:03:52Z in Timeline">7 years</a> ago
                      by Arturs Bekasovs
                    (<a href="https://trac.mantidproject.org/mantid/ticket/8494?cversion=0&amp;cnum_hist=15#comment:15">previous</a>)
                    (<a href="https://trac.mantidproject.org/mantid/ticket/8494?action=comment-diff&amp;cnum=15&amp;version=1">diff</a>)
                </div>
              </div>
              <div class="change" id="trac-change-16">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:16" class="cnum">
      <a href="8494.html#comment:16">comment:16</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-12T14%3A29%3A32Z&amp;precision=second" title="2013-12-12T14:29:32Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      
    </div>

                <div class="trac-lastedit ">
                  Last edited <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-12T15%3A03%3A57Z&amp;precision=second" title="2013-12-12T15:03:57Z in Timeline">7 years</a> ago
                      by Arturs Bekasovs
                    (<a href="https://trac.mantidproject.org/mantid/ticket/8494?cversion=0&amp;cnum_hist=16#comment:16">previous</a>)
                    (<a href="https://trac.mantidproject.org/mantid/ticket/8494?action=comment-diff&amp;cnum=16&amp;version=1">diff</a>)
                </div>
              </div>
              <div class="change" id="trac-change-17">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:17" class="cnum">
      <a href="8494.html#comment:17">comment:17</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-12T14%3A29%3A32Z&amp;precision=second" title="2013-12-12T14:29:32Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      
    </div>

                <div class="trac-lastedit ">
                  Last edited <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-12T15%3A04%3A02Z&amp;precision=second" title="2013-12-12T15:04:02Z in Timeline">7 years</a> ago
                      by Arturs Bekasovs
                    (<a href="https://trac.mantidproject.org/mantid/ticket/8494?cversion=0&amp;cnum_hist=17#comment:17">previous</a>)
                    (<a href="https://trac.mantidproject.org/mantid/ticket/8494?action=comment-diff&amp;cnum=17&amp;version=1">diff</a>)
                </div>
              </div>
              <div class="change" id="trac-change-18">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:18" class="cnum">
      <a href="8494.html#comment:18">comment:18</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-12T14%3A29%3A32Z&amp;precision=second" title="2013-12-12T14:29:32Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      
    </div>

                <div class="trac-lastedit ">
                  Last edited <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-12T15%3A04%3A06Z&amp;precision=second" title="2013-12-12T15:04:06Z in Timeline">7 years</a> ago
                      by Arturs Bekasovs
                    (<a href="https://trac.mantidproject.org/mantid/ticket/8494?cversion=0&amp;cnum_hist=18#comment:18">previous</a>)
                    (<a href="https://trac.mantidproject.org/mantid/ticket/8494?action=comment-diff&amp;cnum=18&amp;version=1">diff</a>)
                </div>
              </div>
              <div class="change" id="trac-change-19">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:19" class="cnum">
      <a href="8494.html#comment:19">comment:19</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-12T14%3A29%3A32Z&amp;precision=second" title="2013-12-12T14:29:32Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      
    </div>

                <div class="trac-lastedit ">
                  Last edited <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-12T15%3A04%3A12Z&amp;precision=second" title="2013-12-12T15:04:12Z in Timeline">7 years</a> ago
                      by Arturs Bekasovs
                    (<a href="https://trac.mantidproject.org/mantid/ticket/8494?cversion=0&amp;cnum_hist=19#comment:19">previous</a>)
                    (<a href="https://trac.mantidproject.org/mantid/ticket/8494?action=comment-diff&amp;cnum=19&amp;version=1">diff</a>)
                </div>
              </div>
              <div class="change" id="trac-change-20">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:20" class="cnum">
      <a href="8494.html#comment:20">comment:20</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-12T14%3A29%3A32Z&amp;precision=second" title="2013-12-12T14:29:32Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      
    </div>

                <div class="trac-lastedit ">
                  Last edited <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-12T15%3A04%3A19Z&amp;precision=second" title="2013-12-12T15:04:19Z in Timeline">7 years</a> ago
                      by Arturs Bekasovs
                    (<a href="https://trac.mantidproject.org/mantid/ticket/8494?cversion=0&amp;cnum_hist=20#comment:20">previous</a>)
                    (<a href="https://trac.mantidproject.org/mantid/ticket/8494?action=comment-diff&amp;cnum=20&amp;version=1">diff</a>)
                </div>
              </div>
              <div class="change" id="trac-change-21">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:21" class="cnum">
      <a href="8494.html#comment:21">comment:21</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-13T13%3A33%3A07Z&amp;precision=second" title="2013-12-13T13:33:07Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocking</strong>
        <em>6473</em> removed
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
(In <a class="closed ticket" href="6473.html" title="task: [Muon] Sequential fitting (closed: fixed)">#6473</a>) This was mostly done. Option for Rebin is a tiny little thing which stops me from closing that ticket, so I've implemented it in both places and will re-factor that during maintenance.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-22">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:22" class="cnum">
      <a href="8494.html#comment:22">comment:22</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-01-13T12%3A34%3A28Z&amp;precision=second" title="2014-01-13T12:34:28Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocked By</strong>
        <em>8702</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-23">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:23" class="cnum">
      <a href="8494.html#comment:23">comment:23</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-01-13T12%3A36%3A27Z&amp;precision=second" title="2014-01-13T12:36:27Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Keywords</strong>
        <em>Maintenance</em> added
    </li><li>
      <strong>Milestone</strong>
        changed from <em>Release 3.1</em> to <em>Backlog</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Done to an extent which allowed to complete sequential fitting. Closing and checking properly can be left for maintenance.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-24">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:24" class="cnum">
      <a href="8494.html#comment:24">comment:24</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-06T10%3A51%3A10Z&amp;precision=second" title="2014-02-06T10:51:10Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>Backlog</em> to <em>Release 3.2</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-25">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:25" class="cnum">
      <a href="8494.html#comment:25">comment:25</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-06T10%3A53%3A56Z&amp;precision=second" title="2014-02-06T10:53:56Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Summary</strong>
        changed from <em>[Muon] Move the Muon workflow out of the MuonAnalysis interface code</em> to <em>Move the Muon workflow out of the MuonAnalysis interface code</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change">
                <h3 class="change">
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T14%3A52%3A54Z&amp;precision=second" title="2014-02-25T14:52:54Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Attachment</strong>
        <a href="../attachment/ticket/8494/muon_workflow.png.html"><em>muon_workflow.png</em></a><a href="../raw-attachment/ticket/8494/muon_workflow.png" title="Download" class="trac-rawlink">​</a>
          added
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Workflow of MuonAnalysis and MuonLoad
</p>

    </div>

              </div>
              <div class="change" id="trac-change-26">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:26" class="cnum">
      <a href="8494.html#comment:26">comment:26</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T15%3A13%3A35Z&amp;precision=second" title="2014-02-25T15:13:35Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>inprogress</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
<strong>Tester:</strong>
</p>
<p>
I wasn't able to move out too much, because the interface uses a lot of intermediate values to allow quick experimenting with loaded data. That's why I couldn't use e.g. MuonLoad to do everything for me and need to replicate the workflow in the interface.
</p>
<p>
Though one of the biggest aims was achieved - the workflow was analysed, formalised using the diagram attached and expressed as the new MuonLoad algorithm.
</p>
<p>
So the testing here comes to fetching the latest master and reading through the MuonAnalysis.cpp. Verify that there are no calculations done in the interface code and all it does is passing appropriate workspaces and parameters to algorithms, according to the attached diagram. Try to find places which could potentially be re-factored out.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-27">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:27" class="cnum">
      <a href="8494.html#comment:27">comment:27</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-28T13%3A12%3A07Z&amp;precision=second" title="2014-02-28T13:12:07Z in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li><li>
      <strong>Tester</strong>
        set to <em>Gesner Passos</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-28">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:28" class="cnum">
      <a href="8494.html#comment:28">comment:28</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-28T17%3A27%3A24Z&amp;precision=second" title="2014-02-28T17:27:24Z in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>closed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
There are no calculations done directly through MuonAnalysis.cpp. It seems that some lines of code could be potentially saved not only in yours but generally if createChildAlgorithm or something likely could be made static. 
</p>
<p>
The real problem is the:
</p>
<p>
<strong>That's why I couldn't use e.g. MuonLoad to do everything for me and need to replicate the workflow in the interface.</strong>
</p>
<p>
New requests or maintenance will require checking both places always. In some places, people defined a HelperClass that was uses to share between both classes, hence, allowing the replication. I'm not quite sure how we could apply here, but I think it is worth discussing with Martyn to see if he could suggest a nice approach. 
</p>

    </div>

              </div>
              <div class="change" id="trac-change-29">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:29" class="cnum">
      <a href="8494.html#comment:29">comment:29</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T02%3A39%3A03%2B01%3A00&amp;precision=second" title="2015-06-04T02:39:03+01:00 in Timeline">5 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
This ticket has been transferred to github issue <a class="ext-link" href="http://github.com/mantidproject/mantid/issues/9338"><span class="icon">​</span>9338</a>
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/8494?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/8494?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/8494?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.5</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
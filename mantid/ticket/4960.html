<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      #4960 (Implement Tobyfit like insturment resolution methods for quantification)
     – Mantid Project
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="4959.html" title="Ticket #4959" />
        <link rel="last" href="11888.html" title="Ticket #11888" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/4960?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/4960?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/4960?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="4961.html" title="Ticket #4961" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mantid Project" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="a82fe30e7bef2e30fd2838e9";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/mantid/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 4960, escape_newlines: 0}
        $("#comment").autoPreview("/mantid/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/mantid/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.mantidproject.org/"><img src="../chrome/site/mantid_logo_with_name.png" alt="Mantid Logo" width="250" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://trac.mantidproject.org/mantid/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="4959.html" title="Ticket #4959">Previous Ticket</a></span></li><li class="last"><span><a class="next" href="4961.html" title="Ticket #4961">Next Ticket</a> &rarr;</span></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="4960.html">Ticket #4960</a>
          <span class="status">(closed: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-03-12T14%3A26%3A17Z&amp;precision=second" title="2012-03-12T14:26:17Z in Timeline">9 years</a> ago</p>
    <p>Last modified <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T00%3A12%3A35%2B01%3A00&amp;precision=second" title="2015-06-04T00:12:35+01:00 in Timeline">5 years</a> ago</p>
  </div>
  <h2 class="summary searchable">Implement Tobyfit like insturment resolution methods for quantification</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;reporter=Ronald+Fowler">Ronald Fowler</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;owner=Ronald+Fowler">Ronald Fowler</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;priority=major">major</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="../milestone/Release&#32;2.1.html">Release 2.1</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;component=VATES">VATES</a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby"><span></span></td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking"><span></span></td>
        <th id="h_tester">
          Tester:
        </th>
        <td headers="h_tester">
              Alex Buts
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
      <span class="lastmod" title="2012-05-03 17:00:38.002684+00:00">
        (last modified by Alex Buts)
        (<a href="https://trac.mantidproject.org/mantid/ticket/4960?action=diff&amp;version=18">diff</a>)
      </span>
    </h3>
    <div class="searchable">
      <p>
The quantification aspect of mantid requires the ability to perform an instrument resolution calculation, as is done in the current Tobyfit code.
This will be used in simulation of the expected scattering of a foreground model and in fitting that model to experimental data within the GenericFit algorithm.
A base class which performs the simultation will be inherited by each foreground function.
This will be used in conjunction with the user defined S(Q,w) to calculate the expected scattering.
</p>
<p>
The simulation needs access to run data and to models for the effects of the moderator, the chopper, instrument dimensions, etc.
Each MDEvent needs to represent the total signal in a single detector pixel.
</p>
<p>
 
</p>

    </div>
  </div>
</div>
          

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="4960.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-03-12T16%3A07%3A31Z&amp;precision=second" title="2012-03-12T16:07:31Z in Timeline">9 years</a> ago by Ronald Fowler
                </h3>
                
    <div class="comment searchable">
      
      <p>
Adding instrument resolution class and models
</p>
<p>
Adding first parts of Tobyfit style instrument resolution simulation
function Re <a class="closed ticket" href="4960.html" title="enhancement: Implement Tobyfit like insturment resolution methods for quantification (closed: fixed)">#4960</a> .  Class SimulateResolution will be inherited by user
simulation functions and invoked via GenericFit algorithm. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/a48d3886040303f20153285311d1b8826aac9374" title="a48d3886040303f20153285311d1b8826aac9374">a48d3886040303f20153285311d1b8826aac9374</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="4960.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-03-13T19%3A10%3A09Z&amp;precision=second" title="2012-03-13T19:10:09Z in Timeline">9 years</a> ago by Ronald Fowler
                </h3>
                
    <div class="comment searchable">
      
      <p>
Adding instrument resolution class and models
</p>
<p>
Adding first parts of Tobyfit style instrument resolution simulation
function Re <a class="closed ticket" href="4960.html" title="enhancement: Implement Tobyfit like insturment resolution methods for quantification (closed: fixed)">#4960</a> .  Class SimulateResolution will be inherited by user
simulation functions and invoked via GenericFit algorithm. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/a48d3886040303f20153285311d1b8826aac9374" title="a48d3886040303f20153285311d1b8826aac9374">a48d3886040303f20153285311d1b8826aac9374</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="4960.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-03-27T09%3A03%3A43%2B01%3A00&amp;precision=second" title="2012-03-27T09:03:43+01:00 in Timeline">9 years</a> ago by Ronald Fowler
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="4960.html" title="enhancement: Implement Tobyfit like insturment resolution methods for quantification (closed: fixed)">#4960</a> Update to simulate resolution function
</p>
<p>
Extended the models of resolution effects to include most of the tobyfit
features. Still need to add the matrices mapping from one space to another
and the extraction of parameters from ExperimentInfo. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/f63d622cb7cf8aa720efc9ce5ac0ee2e3c19cc62" title="f63d622cb7cf8aa720efc9ce5ac0ee2e3c19cc62">f63d622cb7cf8aa720efc9ce5ac0ee2e3c19cc62</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="4960.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-03-28T10%3A35%3A19%2B01%3A00&amp;precision=second" title="2012-03-28T10:35:19+01:00 in Timeline">9 years</a> ago by Ronald Fowler
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="4960.html" title="enhancement: Implement Tobyfit like insturment resolution methods for quantification (closed: fixed)">#4960</a> correct comments in simulate resolution
</p>
<p>
Corrected a few comments and minor change to function call.
Added a throw if SimulateResolution called without correct initialisation. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/bd9c9f0edf5675a66cdfda1b4b1f50b997ea004c" title="bd9c9f0edf5675a66cdfda1b4b1f50b997ea004c">bd9c9f0edf5675a66cdfda1b4b1f50b997ea004c</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="4960.html#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-04-27T01%3A52%3A37%2B01%3A00&amp;precision=second" title="2012-04-27T01:52:37+01:00 in Timeline">8 years</a> ago by Ronald Fowler
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="4960.html" title="enhancement: Implement Tobyfit like insturment resolution methods for quantification (closed: fixed)">#4960</a> Updates to Tobyfit resolution methods
</p>
<p>
Added to code to SimulateResolution and RunParam to implement most of the
operations in Tobyfit. While the basic structure is in place and individual
procedures pass some tests, it still omits important functionality
such as getting correct detector information from the instrument and
any attempt to read from log files.
CobaltSpinWave example has been updated for these changes, but no significant
tests have yet been written. The test has been re-enabled in the CMakefile.txt. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/855c489e1566fe6b846affbfddfeb1c2883ae9ce" title="855c489e1566fe6b846affbfddfeb1c2883ae9ce">855c489e1566fe6b846affbfddfeb1c2883ae9ce</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="4960.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-04-27T01%3A52%3A53%2B01%3A00&amp;precision=second" title="2012-04-27T01:52:53+01:00 in Timeline">8 years</a> ago by Ronald Fowler
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="4960.html" title="enhancement: Implement Tobyfit like insturment resolution methods for quantification (closed: fixed)">#4960</a> Updates to Tobyfit resolution methods
</p>
<p>
Basic simulation of resolution function is now possible for a foreground function
such as CobaltSpinWaveDSHO. However the input data, including chopper and moderator
parameters and detector information is read from a RunParam object. Much of this data
should be extracted from the Instrument, the Sample and log files, though may be stored
in the RunParam objects.
Simple tests are consistent with Tobyfit results. A bug exists in taking account of sample
shape. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/24c6b5135d2ce01c9eb37384e4592e5ec39b093c" title="24c6b5135d2ce01c9eb37384e4592e5ec39b093c">24c6b5135d2ce01c9eb37384e4592e5ec39b093c</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="4960.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-04-27T02%3A21%3A21%2B01%3A00&amp;precision=second" title="2012-04-27T02:21:21+01:00 in Timeline">8 years</a> ago by Ronald Fowler
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="4960.html" title="enhancement: Implement Tobyfit like insturment resolution methods for quantification (closed: fixed)">#4960</a> Updates to Tobyfit resolution methods
</p>
<p>
QuadEnBackgroundTest.h changed to not check for success in one case. Test
OK on Linux but fails on Windows, Mac. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/1183d67a20a54fbb3d2de7b3238f1e844f786d46" title="1183d67a20a54fbb3d2de7b3238f1e844f786d46">1183d67a20a54fbb3d2de7b3238f1e844f786d46</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="4960.html#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-04-28T22%3A30%3A25%2B01%3A00&amp;precision=second" title="2012-04-28T22:30:25+01:00 in Timeline">8 years</a> ago by Ronald Fowler
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="4960.html" title="enhancement: Implement Tobyfit like insturment resolution methods for quantification (closed: fixed)">#4960</a> Updates to Tobyfit resolution methods
</p>
<p>
Added to code to SimulateResolution and RunParam to implement most of the
operations in Tobyfit. While the basic structure is in place and individual
procedures pass some tests, it still omits important functionality
such as getting correct detector information from the instrument and
any attempt to read from log files.
CobaltSpinWave example has been updated for these changes, but no significant
tests have yet been written. The test has been re-enabled in the CMakefile.txt. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/855c489e1566fe6b846affbfddfeb1c2883ae9ce" title="855c489e1566fe6b846affbfddfeb1c2883ae9ce">855c489e1566fe6b846affbfddfeb1c2883ae9ce</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="4960.html#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-04-28T22%3A30%3A26%2B01%3A00&amp;precision=second" title="2012-04-28T22:30:26+01:00 in Timeline">8 years</a> ago by Ronald Fowler
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="4960.html" title="enhancement: Implement Tobyfit like insturment resolution methods for quantification (closed: fixed)">#4960</a> Updates to Tobyfit resolution methods
</p>
<p>
Basic simulation of resolution function is now possible for a foreground function
such as CobaltSpinWaveDSHO. However the input data, including chopper and moderator
parameters and detector information is read from a RunParam object. Much of this data
should be extracted from the Instrument, the Sample and log files, though may be stored
in the RunParam objects.
Simple tests are consistent with Tobyfit results. A bug exists in taking account of sample
shape. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/24c6b5135d2ce01c9eb37384e4592e5ec39b093c" title="24c6b5135d2ce01c9eb37384e4592e5ec39b093c">24c6b5135d2ce01c9eb37384e4592e5ec39b093c</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="4960.html#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-04-28T22%3A30%3A26%2B01%3A00&amp;precision=second" title="2012-04-28T22:30:26+01:00 in Timeline">8 years</a> ago by Ronald Fowler
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="4960.html" title="enhancement: Implement Tobyfit like insturment resolution methods for quantification (closed: fixed)">#4960</a> Updates to Tobyfit resolution methods
</p>
<p>
QuadEnBackgroundTest.h changed to not check for success in one case. Test
OK on Linux but fails on Windows, Mac. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/1183d67a20a54fbb3d2de7b3238f1e844f786d46" title="1183d67a20a54fbb3d2de7b3238f1e844f786d46">1183d67a20a54fbb3d2de7b3238f1e844f786d46</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="4960.html#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-04-30T03%3A50%3A58%2B01%3A00&amp;precision=second" title="2012-04-30T03:50:58+01:00 in Timeline">8 years</a> ago by Ronald Fowler
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="4960.html" title="enhancement: Implement Tobyfit like insturment resolution methods for quantification (closed: fixed)">#4960</a> Added an additional foreground model
</p>
<p>
Added Tobyfit model 111, Damped Hisenberg Spin Wave. This is model 111 in TF.
Simple tests on one point are consistent with TF, without sample shape effects. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/b3803866f50c8b3fd7407826eda6e84c63d4c763" title="b3803866f50c8b3fd7407826eda6e84c63d4c763">b3803866f50c8b3fd7407826eda6e84c63d4c763</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="4960.html#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-04-30T04%3A14%3A20%2B01%3A00&amp;precision=second" title="2012-04-30T04:14:20+01:00 in Timeline">8 years</a> ago by Ronald Fowler
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="4960.html" title="enhancement: Implement Tobyfit like insturment resolution methods for quantification (closed: fixed)">#4960</a> Added an additional foreground model
</p>
<p>
Warning fix for above change. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/c2643b46ecf67fea574176348efcb0750305a073" title="c2643b46ecf67fea574176348efcb0750305a073">c2643b46ecf67fea574176348efcb0750305a073</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="4960.html#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-04-30T14%3A14%3A45%2B01%3A00&amp;precision=second" title="2012-04-30T14:14:45+01:00 in Timeline">8 years</a> ago by Ronald Fowler
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>accepted</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-14">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:14" class="cnum">
      <a href="4960.html#comment:14">comment:14</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-04-30T14%3A17%3A40%2B01%3A00&amp;precision=second" title="2012-04-30T14:17:40+01:00 in Timeline">8 years</a> ago by Ronald Fowler
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>accepted</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Basic simulation gives results that agree with Tobyfit for single test case on two foreground models. Actually extracting the correct information from Instrument, Sample and log files remains to be done, as does data fitting. These parts will be new tickets.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-15">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:15" class="cnum">
      <a href="4960.html#comment:15">comment:15</a>
    </span>
                          <span>follow-up:</span>
      <a href="4960.html#comment:16">↓ 16</a>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-05-01T05%3A17%3A18%2B01%3A00&amp;precision=second" title="2012-05-01T05:17:18+01:00 in Timeline">8 years</a> ago by Andrei Savici
                </h3>
                
    <div class="comment searchable">
      
      <p>
How is the MagneticFormFactor class different than the older (and more complete - has multiple js, not only j0. this allows better description of transition metal ions and rare earths) MagneticIon?
</p>

    </div>

              </div>
              <div class="change" id="trac-change-16">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:16" class="cnum">
      <a href="4960.html#comment:16">comment:16</a>
    </span>
                        in reply to:
      <a href="4960.html#comment:15">↑ 15</a>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-05-01T09%3A08%3A01%2B01%3A00&amp;precision=second" title="2012-05-01T09:08:01+01:00 in Timeline">8 years</a> ago by Ronald Fowler
                </h3>
                
    <div class="comment searchable">
      
      <p>
Replying to <a href="4960.html#comment:15" title="Comment 15 for Ticket #4960">Andrei Savici</a>:
</p>
<blockquote class="citation">
<p>
How is the MagneticFormFactor class different than the older (and more complete - has multiple js, not only j0. this allows better description of transition metal ions and rare earths) MagneticIon?
</p>
</blockquote>
<p>
I am sorry, I never thought to check for an existing Magnetic form factor class in Mantid. As it appears more comprehensive then the Tobyfit version it certainly makes more sense to use it in place of the current one. I probably will not have time to alter this for the current release.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-17">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:17" class="cnum">
      <a href="4960.html#comment:17">comment:17</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-05-02T16%3A02%3A10%2B01%3A00&amp;precision=second" title="2012-05-02T16:02:10+01:00 in Timeline">8 years</a> ago by Alex Buts
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li><li>
      <strong>Tester</strong>
        set to <em>Alex Buts</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-18">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:18" class="cnum">
      <a href="4960.html#comment:18">comment:18</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-05-03T18%3A00%3A38%2B01%3A00&amp;precision=second" title="2012-05-03T18:00:38+01:00 in Timeline">8 years</a> ago by Alex Buts
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>closed</em>
    </li><li>
      <strong>Description</strong>
        modified (<a href="https://trac.mantidproject.org/mantid/ticket/4960?action=diff&amp;version=18">diff</a>)
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
interesting piece of code. 
</p>
<p>
This class does everything what Mantid do with neutrons in one go. 
</p>
<p>
Problems are obvious:
only 10-component chopper instrument with fixed instrument components and implicit component models is implemented for indirect scattering only. Only user scattering model can be changed.
</p>
<p>
It would not be difficult to plug this block into an algorithm and use it as test bench for productivity/physical results comparison -- it should already work for the single case it was written and be very efficient. 
</p>
<p>
Any modifications would request reimplementing it in terms of existing Mantid components and it is not only Magnetic ion but almost everything else from physical constants to units conversion
</p>
<p>
It is a pity it is not embedded in an algorithm -- then would be useful as a test-bench allowing to see resolution effects right now. 
</p>
<p>
With this remark I would close this ticket for now. 
</p>

    </div>

              </div>
              <div class="change" id="trac-change-19">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:19" class="cnum">
      <a href="4960.html#comment:19">comment:19</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T00%3A12%3A35%2B01%3A00&amp;precision=second" title="2015-06-04T00:12:35+01:00 in Timeline">5 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
This ticket has been transferred to github issue <a class="ext-link" href="http://github.com/mantidproject/mantid/issues/5806"><span class="icon">​</span>5806</a>
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/4960?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/4960?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/4960?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.5</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
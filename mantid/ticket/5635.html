<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      #5635 (Allow default loading of more than one Instrument Parameter File)
     – Mantid Project
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="5634.html" title="Ticket #5634" />
        <link rel="last" href="11888.html" title="Ticket #11888" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/5635?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/5635?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/5635?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="5636.html" title="Ticket #5636" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mantid Project" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="a82fe30e7bef2e30fd2838e9";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/mantid/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 5635, escape_newlines: 0}
        $("#comment").autoPreview("/mantid/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/mantid/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.mantidproject.org/"><img src="../chrome/site/mantid_logo_with_name.png" alt="Mantid Logo" width="250" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://trac.mantidproject.org/mantid/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="5634.html" title="Ticket #5634">Previous Ticket</a></span></li><li class="last"><span><a class="next" href="5636.html" title="Ticket #5636">Next Ticket</a> &rarr;</span></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="5635.html">Ticket #5635</a>
          <span class="status">(closed: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-07-20T10%3A26%3A34%2B01%3A00&amp;precision=second" title="2012-07-20T10:26:34+01:00 in Timeline">8 years</a> ago</p>
    <p>Last modified <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T00%3A40%3A40%2B01%3A00&amp;precision=second" title="2015-06-04T00:40:40+01:00 in Timeline">5 years</a> ago</p>
  </div>
  <h2 class="summary searchable">Allow default loading of more than one Instrument Parameter File</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;reporter=Owen+Arnold">Owen Arnold</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;owner=Karl+Palmen">Karl Palmen</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;priority=major">major</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="../milestone/Release&#32;2.4.html">Release 2.4</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;component=Mantid">Mantid</a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby"><span></span></td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking"><span></span></td>
        <th id="h_tester">
          Tester:
        </th>
        <td headers="h_tester">
              Nick Draper
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
      <span class="lastmod" title="2012-11-16 10:09:57.174594+00:00">
        (last modified by Anders Markvardsen)
        (<a href="https://trac.mantidproject.org/mantid/ticket/5635?action=diff&amp;version=6">diff</a>)
      </span>
    </h3>
    <div class="searchable">
      <p>
Instrument Parameter Files shipped with Mantid, with the name <tt>InstrumentName</tt>_Parameters.xml, that live in the instrument directory are automatically loaded when mantid loads data for a specific instrument. 
</p>
<p>
So e.g. if we have in the instrument folder:
</p>
<blockquote>
<p>
HRPD_Instrument_1.xml
HRPD_Instrument_2.xml
HRPD_Instrument_3.xml
HRPD_Parameters.xml
</p>
</blockquote>
<p>
Then when any of the HRPD_Instrument_#.xml are loaded HRPD_Parameters.xml are then subsequenctly loaded.
</p>
<p>
Expand this so that if the instrument folder contains the files:
</p>
<blockquote>
<p>
HRPD_Instrument_1.xml
HRPD_Instrument_2.xml
HRPD_Instrument_3.xml
HRPD_Parameters.xml
HRPD_Parameters_2.xml
</p>
</blockquote>
<p>
then for this example HRPD_Parameters.xml is loaded after HRPD_Instrument_1.xml and HRPD_Instrument_3.xml are loaded and HRPD_Parameters_2.xml is loaded after HRPD_Instrument_2.xml.
</p>
<p>
Hence if a parameter file with a matching name exist than it takes precedence to the 'default' parameter file (which in the above example is HRPD_Parameters.xml)
</p>
<p>
Once implemented update IDF wiki accordingly
</p>

    </div>
  </div>
</div>
          

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="5635.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-08-10T13%3A43%3A56%2B01%3A00&amp;precision=second" title="2012-08-10T13:43:56+01:00 in Timeline">8 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>Release 2.2</em> to <em>Release 2.3</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Moved at the end of release 2.2
</p>

    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="5635.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-10-03T10%3A08%3A24%2B01%3A00&amp;precision=second" title="2012-10-03T10:08:24+01:00 in Timeline">8 years</a> ago by Anders Markvardsen
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>assigned</em>
    </li><li>
      <strong>Owner</strong>
        changed from <em>Anders Markvardsen</em> to <em>Karl Palmen</em>
    </li><li>
      <strong>Description</strong>
        modified (<a href="https://trac.mantidproject.org/mantid/ticket/5635?action=diff&amp;version=2">diff</a>)
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="5635.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-10-28T11%3A39%3A04Z&amp;precision=second" title="2012-10-28T11:39:04Z in Timeline">8 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>Release 2.3</em> to <em>Release 2.4</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Moved to milestone 2.4
</p>

    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="5635.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-11-09T14%3A25%3A19Z&amp;precision=second" title="2012-11-09T14:25:19Z in Timeline">8 years</a> ago by Karl Palmen
                </h3>
                
    <div class="comment searchable">
      
      <p>
A discussion of this at the 2012 Mantid Workshop suggested one parameter file might be sufficient.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="5635.html#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-11-12T14%3A22%3A00Z&amp;precision=second" title="2012-11-12T14:22:00Z in Timeline">8 years</a> ago by Anders Markvardsen
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Summary</strong>
        changed from <em>Allow default loading of more than one Instrument Parmeter File</em> to <em>Allow default loading of more than one Instrument Parameter File</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="5635.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-11-16T10%3A09%3A57Z&amp;precision=second" title="2012-11-16T10:09:57Z in Timeline">8 years</a> ago by Anders Markvardsen
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Description</strong>
        modified (<a href="https://trac.mantidproject.org/mantid/ticket/5635?action=diff&amp;version=6">diff</a>)
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Changed the ticket description according to suggestion at workshop
</p>

    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="5635.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-12-04T09%3A53%3A30Z&amp;precision=second" title="2012-12-04T09:53:30Z in Timeline">8 years</a> ago by Karl Palmen
                </h3>
                
    <div class="comment searchable">
      
      <p>
I believe that 'Instrument' in the filenames in the description needs to be 'Definition', else the change requested would have no effect in practice.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="5635.html#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-12-04T10%3A09%3A54Z&amp;precision=second" title="2012-12-04T10:09:54Z in Timeline">8 years</a> ago by Karl Palmen
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>assigned</em> to <em>accepted</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="5635.html#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-12-13T10%3A18%3A22Z&amp;precision=second" title="2012-12-13T10:18:22Z in Timeline">8 years</a> ago by Karl Palmen
                </h3>
                
    <div class="comment searchable">
      
      <p>
Implemented change to Parameter File Selection re <a class="closed ticket" href="5635.html" title="enhancement: Allow default loading of more than one Instrument Parameter File (closed: fixed)">#5635</a>
</p>
<p>
Signed-off-by: Karl Palmen &lt;karl.palmen@…&gt; 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/6d454d295b769a7735b50e031617c27d268301be" title="6d454d295b769a7735b50e031617c27d268301be">6d454d295b769a7735b50e031617c27d268301be</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="5635.html#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-12-13T10%3A18%3A23Z&amp;precision=second" title="2012-12-13T10:18:23Z in Timeline">8 years</a> ago by Karl Palmen
                </h3>
                
    <div class="comment searchable">
      
      <p>
Unit Test for Loading Instrument with Parameter File re <a class="closed ticket" href="5635.html" title="enhancement: Allow default loading of more than one Instrument Parameter File (closed: fixed)">#5635</a>
</p>
<p>
This one tests an IDF file not in the instrument folder with something extra added to its name uses the default parameter file in the instrument folder, because no parameter file has this extra part in its name.
</p>
<p>
Signed-off-by: Karl Palmen &lt;karl.palmen@…&gt; 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/2b00027847b4d5e7b32f854372b4172bfa77c72a" title="2b00027847b4d5e7b32f854372b4172bfa77c72a">2b00027847b4d5e7b32f854372b4172bfa77c72a</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="5635.html#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-12-13T10%3A18%3A23Z&amp;precision=second" title="2012-12-13T10:18:23Z in Timeline">8 years</a> ago by Karl Palmen
                </h3>
                
    <div class="comment searchable">
      
      <p>
Add further tests for Parameter File Selection re <a class="closed ticket" href="5635.html" title="enhancement: Allow default loading of more than one Instrument Parameter File (closed: fixed)">#5635</a> re <a class="closed ticket" href="6281.html" title="enhancement: Search for IDF Parameter File for IDF not in instrument Folder in Same ... (closed: fixed)">#6281</a> 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/aa0d02c305752c02dbae97f629e2a1107321012c" title="aa0d02c305752c02dbae97f629e2a1107321012c">aa0d02c305752c02dbae97f629e2a1107321012c</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="5635.html#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-12-13T10%3A18%3A23Z&amp;precision=second" title="2012-12-13T10:18:23Z in Timeline">8 years</a> ago by Karl Palmen
                </h3>
                
    <div class="comment searchable">
      
      <p>
Add 2 more unit tests and remove duplicate code re <a class="closed ticket" href="5635.html" title="enhancement: Allow default loading of more than one Instrument Parameter File (closed: fixed)">#5635</a> re <a class="closed ticket" href="6281.html" title="enhancement: Search for IDF Parameter File for IDF not in instrument Folder in Same ... (closed: fixed)">#6281</a>
</p>
<p>
Signed-off-by: Karl Palmen &lt;karl.palmen@…&gt; 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/b3918a6583751723e83056373db828c06079b0de" title="b3918a6583751723e83056373db828c06079b0de">b3918a6583751723e83056373db828c06079b0de</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="5635.html#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-12-13T10%3A18%3A23Z&amp;precision=second" title="2012-12-13T10:18:23Z in Timeline">8 years</a> ago by Karl Palmen
                </h3>
                
    <div class="comment searchable">
      
      <p>
Added One More Test re <a class="closed ticket" href="5635.html" title="enhancement: Allow default loading of more than one Instrument Parameter File (closed: fixed)">#5635</a> re <a class="closed ticket" href="6281.html" title="enhancement: Search for IDF Parameter File for IDF not in instrument Folder in Same ... (closed: fixed)">#6281</a>
</p>
<p>
Signed-off-by: Karl Palmen &lt;karl.palmen@…&gt; 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/97a44fcf130819bb487dafe3448de21fc24626e3" title="97a44fcf130819bb487dafe3448de21fc24626e3">97a44fcf130819bb487dafe3448de21fc24626e3</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-14">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:14" class="cnum">
      <a href="5635.html#comment:14">comment:14</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-12-13T10%3A24%3A51Z&amp;precision=second" title="2012-12-13T10:24:51Z in Timeline">8 years</a> ago by Karl Palmen
                </h3>
                
    <div class="comment searchable">
      
      <p>
The original unit test did not check whether the parameter from the parameter file was successfully loaded, so would crash if the correct parameter file were not loaded. I modified this to make this check and if the parameter were not loaded it would give an informative message instead of attempting the other tests on the parameter.
</p>
<p>
This modification was included in all such tests.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-15">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:15" class="cnum">
      <a href="5635.html#comment:15">comment:15</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-12-13T10%3A42%3A32Z&amp;precision=second" title="2012-12-13T10:42:32Z in Timeline">8 years</a> ago by Karl Palmen
                </h3>
                
    <div class="comment searchable">
      
      <p>
Added test IDF file re <a class="closed ticket" href="5635.html" title="enhancement: Allow default loading of more than one Instrument Parameter File (closed: fixed)">#5635</a> re <a class="closed ticket" href="6281.html" title="enhancement: Search for IDF Parameter File for IDF not in instrument Folder in Same ... (closed: fixed)">#6281</a> 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/150dcec1577da8f7906ce9a24d04368c568251c9" title="150dcec1577da8f7906ce9a24d04368c568251c9">150dcec1577da8f7906ce9a24d04368c568251c9</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-16">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:16" class="cnum">
      <a href="5635.html#comment:16">comment:16</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-12-13T10%3A54%3A38Z&amp;precision=second" title="2012-12-13T10:54:38Z in Timeline">8 years</a> ago by Karl Palmen
                </h3>
                
    <div class="comment searchable">
      
      <p>
I suggest this ticket be tested alongside <a class="closed ticket" href="6281.html" title="enhancement: Search for IDF Parameter File for IDF not in instrument Folder in Same ... (closed: fixed)">#6281</a>, because testing of the latter would entail a variation of testing this ticket.
</p>
<p>
Select an IDF file that uses a separate parameter file. Create a copy of that parameter file that has an effect you can observe when you load empty instrument with the IDF file (e.g. when you open the fit parameters window). 
</p>
<p>
Create a copy of the IDF file with some extra characters after the "Definition" part of its name. Name the parameter file you created the same except for "Parameters" instead of definition. LoadEmptyInstrument with the new IDF file and check for the change that should occur with the new parameter file.
</p>
<p>
Create another copy of the IDF file with different characters after the "Definition" part and LoadEmpty instrument with it and check that the change does not occur and it is identical with the effect of LoadEmptyInstrument of the original IDF file.
</p>
<p>
Do this test with all the files in the instrument directory of your installation and again with all the files in some other folder.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-17">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:17" class="cnum">
      <a href="5635.html#comment:17">comment:17</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-12-13T11%3A22%3A21Z&amp;precision=second" title="2012-12-13T11:22:21Z in Timeline">8 years</a> ago by Karl Palmen
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>accepted</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-18">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:18" class="cnum">
      <a href="5635.html#comment:18">comment:18</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-01-09T16%3A01%3A29Z&amp;precision=second" title="2013-01-09T16:01:29Z in Timeline">8 years</a> ago by Karl Palmen
                </h3>
                
    <div class="comment searchable">
      
      <p>
Implemented change to Parameter File Selection re <a class="closed ticket" href="5635.html" title="enhancement: Allow default loading of more than one Instrument Parameter File (closed: fixed)">#5635</a>
</p>
<p>
Signed-off-by: Karl Palmen &lt;karl.palmen@…&gt; 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/444c270c08d8748ab1b5037d0c4de3bca762a580" title="444c270c08d8748ab1b5037d0c4de3bca762a580">444c270c08d8748ab1b5037d0c4de3bca762a580</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-19">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:19" class="cnum">
      <a href="5635.html#comment:19">comment:19</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-01-09T16%3A01%3A30Z&amp;precision=second" title="2013-01-09T16:01:30Z in Timeline">8 years</a> ago by Karl Palmen
                </h3>
                
    <div class="comment searchable">
      
      <p>
Unit Test for Loading Instrument with Parameter File re <a class="closed ticket" href="5635.html" title="enhancement: Allow default loading of more than one Instrument Parameter File (closed: fixed)">#5635</a>
</p>
<p>
This one tests an IDF file not in the instrument folder with something extra added to its name uses the default parameter file in the instrument folder, because no parameter file has this extra part in its name.
</p>
<p>
Signed-off-by: Karl Palmen &lt;karl.palmen@…&gt; 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/0e705dbd41f07bcef1ae32ab802065488b68ea36" title="0e705dbd41f07bcef1ae32ab802065488b68ea36">0e705dbd41f07bcef1ae32ab802065488b68ea36</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-20">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:20" class="cnum">
      <a href="5635.html#comment:20">comment:20</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-01-09T16%3A01%3A30Z&amp;precision=second" title="2013-01-09T16:01:30Z in Timeline">8 years</a> ago by Karl Palmen
                </h3>
                
    <div class="comment searchable">
      
      <p>
Add further tests for Parameter File Selection re <a class="closed ticket" href="5635.html" title="enhancement: Allow default loading of more than one Instrument Parameter File (closed: fixed)">#5635</a> re <a class="closed ticket" href="6281.html" title="enhancement: Search for IDF Parameter File for IDF not in instrument Folder in Same ... (closed: fixed)">#6281</a> 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/4e0adae4426c4dea7aa161cec351708ff2f4fe5d" title="4e0adae4426c4dea7aa161cec351708ff2f4fe5d">4e0adae4426c4dea7aa161cec351708ff2f4fe5d</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-21">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:21" class="cnum">
      <a href="5635.html#comment:21">comment:21</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-01-09T16%3A01%3A30Z&amp;precision=second" title="2013-01-09T16:01:30Z in Timeline">8 years</a> ago by Karl Palmen
                </h3>
                
    <div class="comment searchable">
      
      <p>
Add 2 more unit tests and remove duplicate code re <a class="closed ticket" href="5635.html" title="enhancement: Allow default loading of more than one Instrument Parameter File (closed: fixed)">#5635</a> re <a class="closed ticket" href="6281.html" title="enhancement: Search for IDF Parameter File for IDF not in instrument Folder in Same ... (closed: fixed)">#6281</a>
</p>
<p>
Signed-off-by: Karl Palmen &lt;karl.palmen@…&gt; 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/48b96e3b3ace374281326bc2d3c62640c9092743" title="48b96e3b3ace374281326bc2d3c62640c9092743">48b96e3b3ace374281326bc2d3c62640c9092743</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-22">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:22" class="cnum">
      <a href="5635.html#comment:22">comment:22</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-01-09T16%3A01%3A30Z&amp;precision=second" title="2013-01-09T16:01:30Z in Timeline">8 years</a> ago by Karl Palmen
                </h3>
                
    <div class="comment searchable">
      
      <p>
Added One More Test re <a class="closed ticket" href="5635.html" title="enhancement: Allow default loading of more than one Instrument Parameter File (closed: fixed)">#5635</a> re <a class="closed ticket" href="6281.html" title="enhancement: Search for IDF Parameter File for IDF not in instrument Folder in Same ... (closed: fixed)">#6281</a>
</p>
<p>
Signed-off-by: Karl Palmen &lt;karl.palmen@…&gt; 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/4467a586c0b7872d86f8efbfc6518f68d5d03069" title="4467a586c0b7872d86f8efbfc6518f68d5d03069">4467a586c0b7872d86f8efbfc6518f68d5d03069</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-23">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:23" class="cnum">
      <a href="5635.html#comment:23">comment:23</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-01-09T16%3A01%3A30Z&amp;precision=second" title="2013-01-09T16:01:30Z in Timeline">8 years</a> ago by Karl Palmen
                </h3>
                
    <div class="comment searchable">
      
      <p>
Added test IDF file re <a class="closed ticket" href="5635.html" title="enhancement: Allow default loading of more than one Instrument Parameter File (closed: fixed)">#5635</a> re <a class="closed ticket" href="6281.html" title="enhancement: Search for IDF Parameter File for IDF not in instrument Folder in Same ... (closed: fixed)">#6281</a> 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/3439c55d60b326eb22c79f6a64a23dacb4dc12cc" title="3439c55d60b326eb22c79f6a64a23dacb4dc12cc">3439c55d60b326eb22c79f6a64a23dacb4dc12cc</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-24">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:24" class="cnum">
      <a href="5635.html#comment:24">comment:24</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-01-29T14%3A10%3A45Z&amp;precision=second" title="2013-01-29T14:10:45Z in Timeline">8 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li><li>
      <strong>Tester</strong>
        set to <em>Nick Draper</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-25">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:25" class="cnum">
      <a href="5635.html#comment:25">comment:25</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-01-29T14%3A20%3A06Z&amp;precision=second" title="2013-01-29T14:20:06Z in Timeline">8 years</a> ago by Nick Draper
                </h3>
                
    <div class="comment searchable">
      
      <p>
tested with altered files and 
</p>
<pre class="wiki">s=mtd["snap"]
print s
snap
i=s.getInstrument()
print i
&lt;mantid.geometry._geometry.Instrument object at 0x0000000009675C18&gt;
print i.getParameterNames()
set('centre-finder-step-size','default-incident-monitor-spectrum','default-transmission-monitor-spectrum','high-angle-detector-name','high-angle-detector-num-columns','high-angle-detector-num-rows','high-angle-detector-short-name','low-angle-detector-name','low-angle-detector-num-columns','low-angle-detector-num-rows','low-angle-detector-short-name')
print i.getStringParameter("low-angle-detector-name")
['outside directory  matching']

</pre>
    </div>

              </div>
              <div class="change" id="trac-change-26">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:26" class="cnum">
      <a href="5635.html#comment:26">comment:26</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-01-29T14%3A21%3A30Z&amp;precision=second" title="2013-01-29T14:21:30Z in Timeline">8 years</a> ago by Nick Draper
                </h3>
                
    <div class="comment searchable">
      
      <p>
and 
</p>
<pre class="wiki">s=mtd["snap"]
i=s.getInstrument()
print i.getStringParameter("low-angle-detector-name")
['outside directory not matching']
</pre>
    </div>

              </div>
              <div class="change" id="trac-change-27">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:27" class="cnum">
      <a href="5635.html#comment:27">comment:27</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-01-29T14%3A22%3A25Z&amp;precision=second" title="2013-01-29T14:22:25Z in Timeline">8 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>closed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
and
</p>
<pre class="wiki">s=mtd["snap"]
i=s.getInstrument()
print i.getStringParameter("low-angle-detector-name")
['rear-detector']
</pre>
    </div>

              </div>
              <div class="change" id="trac-change-28">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:28" class="cnum">
      <a href="5635.html#comment:28">comment:28</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T00%3A40%3A40%2B01%3A00&amp;precision=second" title="2015-06-04T00:40:40+01:00 in Timeline">5 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
This ticket has been transferred to github issue <a class="ext-link" href="http://github.com/mantidproject/mantid/issues/6481"><span class="icon">​</span>6481</a>
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/5635?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/5635?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/5635?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.5</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
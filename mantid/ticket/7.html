<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      #7 (LOQ: Integration Algorithm)
     – Mantid Project
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="6.html" title="Ticket #6" />
        <link rel="last" href="525.html" title="Ticket #525" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/7?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/7?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/7?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="up" href="https://trac.mantidproject.org/mantid/report/27?asc=1&amp;page=1" />
        <link rel="next" href="8.html" title="Ticket #8" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mantid Project" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="a82fe30e7bef2e30fd2838e9";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/mantid/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 7, escape_newlines: 0}
        $("#comment").autoPreview("/mantid/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/mantid/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.mantidproject.org/"><img src="../chrome/site/mantid_logo_with_name.png" alt="Mantid Logo" width="250" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://trac.mantidproject.org/mantid/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="6.html" title="Ticket #6">Previous Ticket</a></span></li><li><a href="https://trac.mantidproject.org/mantid/report/27?asc=1&amp;page=1">Back to Query</a></li><li class="last"><span><a class="next" href="8.html" title="Ticket #8">Next Ticket</a> &rarr;</span></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="7.html">Ticket #7</a>
          <span class="status">(closed: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2007-07-19T14%3A46%3A48%2B01%3A00&amp;precision=second" title="2007-07-19T14:46:48+01:00 in Timeline">13 years</a> ago</p>
    <p>Last modified <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-03T21%3A41%3A37%2B01%3A00&amp;precision=second" title="2015-06-03T21:41:37+01:00 in Timeline">5 years</a> ago</p>
  </div>
  <h2 class="summary searchable">LOQ: Integration Algorithm</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;reporter=Nick+Draper">Nick Draper</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;owner=Anders+Markvardsen">Anders Markvardsen</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;priority=major">major</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="../milestone/Pilot.html">Pilot</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;component"></a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby"><span></span></td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking"><span></span></td>
        <th id="h_tester">
          Tester:
        </th>
        <td headers="h_tester">
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
    </h3>
    <div class="searchable">
      <p>
Create an integration algorithm for the LOQ framework,
</p>
<p>
This should produce a single count number for each detector.
</p>
<p>
The result will need to be outputted into a text file, I suggest a simple tab separated  text format.
</p>
<p>
Detector No \t Counts
</p>
<p>
Talk to Dickon to ensure that your algorithms are comparable.
</p>

    </div>
  </div>
</div>
          

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="7.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2007-08-01T10%3A42%3A19%2B01%3A00&amp;precision=second" title="2007-08-01T10:42:19+01:00 in Timeline">13 years</a> ago by Anders Markvardsen
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>assigned</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="7.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2007-08-03T09%3A33%3A39%2B01%3A00&amp;precision=second" title="2007-08-03T09:33:39+01:00 in Timeline">13 years</a> ago by Nick Draper
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[6]</a>) Adding LOQ pilot code refs <a class="closed ticket" href="7.html" title="enhancement: LOQ: Integration Algorithm (closed: fixed)">#7</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="7.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2007-08-06T01%3A11%3A10%2B01%3A00&amp;precision=second" title="2007-08-06T01:11:10+01:00 in Timeline">13 years</a> ago by Stuart Ansell
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[13]</a>) refs <a class="closed ticket" href="7.html" title="enhancement: LOQ: Integration Algorithm (closed: fixed)">#7</a>
</p>
<p>
This check in is part of the MCPing merge into the 
LoqCode base. This is the top level merge (Methods outside 
of the enclose MonteCarlo namespaces). Namespaces MonteCarlo,
Geometry, and Detector are to follow. 
</p>
<p>
In this case specifically files mathSupport, support, Matrix
have been changed.
However, this has a number of effects since mathSupport
now requires std::complex and hence include &lt;complex&gt;
in appropiate headers. The B merge (new files / namespace scope)
will be done later.
</p>
<p>
New unit tests have been added in testMathSupport
and testSupport. 
</p>
<p>
Methods that have changed calling form:
</p>
<blockquote>
<p>
StrFunc::setValues
</p>
</blockquote>
<p>
TimeData has been removed: It is being replaced by
XMLgridSupport. TimeData's functionallity is being taken
over by the template methods in XMLgridSupport. No change to 
existing usage code is expected.    
</p>
<p>
Check.cxx has been removed since it is a test code that 
(a) doesn't work (b) doesn't have anything to do with this 
project. 
</p>

    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="7.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2007-08-06T01%3A15%3A30%2B01%3A00&amp;precision=second" title="2007-08-06T01:15:30+01:00 in Timeline">13 years</a> ago by Stuart Ansell
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[14]</a>) refs <a class="closed ticket" href="7.html" title="enhancement: LOQ: Integration Algorithm (closed: fixed)">#7</a>
</p>
<p>
First inclusion of XMLgridSupport: Part of the XML namespace.
Allows {multi}-vector data groups to be merged into a single table. 
Replaces highly specialised implementaion from TimeData. 
</p>

    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="7.html#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2007-08-28T14%3A19%3A18%2B01%3A00&amp;precision=second" title="2007-08-28T14:19:18+01:00 in Timeline">13 years</a> ago by Stuart Ansell
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[26]</a>) refs <a class="closed ticket" href="7.html" title="enhancement: LOQ: Integration Algorithm (closed: fixed)">#7</a>
refs <a class="closed ticket" href="7.html" title="enhancement: LOQ: Integration Algorithm (closed: fixed)">#7</a>
</p>
<p>
This check-in has ten areas of modification listed below. None are
particularly significant relative to the utilization of the code
(except the bug). It is not expected to break any onward build.  
</p>
<p>
(a) Better XML input method
</p>
<blockquote>
<p>
AreaWorkSpace.cxx
</p>
</blockquote>
<p>
(b) Addition of proto-labels within equations
</p>
<blockquote>
<p>
Code.cxx
</p>
</blockquote>
<p>
(c) Addition of determine a CmdDescriptor (without actually creating
</p>
<blockquote>
<p>
a command) [useful for parsing the string commands]
</p>
</blockquote>
<blockquote>
<p>
CommandFactory.cxx
</p>
</blockquote>
<p>
(d) Minor language modernization and TR1 compliance issues:
</p>
<blockquote>
<p>
Algorithm.cxx
</p>
</blockquote>
<p>
(e) Extension to MapSupport to improve STL isomorphism (addition
</p>
<blockquote>
<p>
of MapSwap) and then used in tokenParser.
</p>
</blockquote>
<blockquote>
<blockquote>
<p>
MapSupport.h/cxx  [fixed #define inconsistency inMapSupport_h] 
</p>
</blockquote>
</blockquote>
<p>
(f) Commands now can be have results associated with them.
</p>
<blockquote>
<p>
The results object is lazy copied and is controlled by the
flag resultSet.
</p>
</blockquote>
<p>
 
</p>
<blockquote>
<p>
CommandObj.cxx
</p>
</blockquote>
<p>
     
(g) Bug fix parsing multi-component functions at depth &gt; 2
</p>
<blockquote>
<p>
e.g. min(atan(2.3),4.5)
</p>
</blockquote>
<blockquote>
<p>
FuncDataBase.cxx
</p>
</blockquote>
<p>
(h) Improvements and extension of test code:
</p>
<blockquote>
<p>
testBoost.cxx 
testFunction.cxx 
testMapSupport.cxx 
</p>
</blockquote>
<p>
(i) Addition of include files to facility improvement to 
</p>
<blockquote>
<p>
Function Interpreter [ funcList.h contains CmdDefinition ] 
</p>
</blockquote>
<p>
    
</p>
<blockquote>
<p>
funcList.cxx
CommandMaker.cxx
getSpectra.cxx
getWorkSpace.cxx
loqRead.cxx
Interpreter.cxx
MasterControl.cxx
cmdHelp.cxx
testCommandFactory.cxx 
testCommandObj.cxx
</p>
</blockquote>
<p>
(j) documentation changes : 
 
</p>
<blockquote>
<p>
testXML.cxx
testUnitSupport.cxx
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="7.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2007-08-28T14%3A21%3A06%2B01%3A00&amp;precision=second" title="2007-08-28T14:21:06+01:00 in Timeline">13 years</a> ago by Stuart Ansell
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[27]</a>) refs <a class="closed ticket" href="7.html" title="enhancement: LOQ: Integration Algorithm (closed: fixed)">#7</a>
</p>
<p>
This file needs to be added for the build to work, but 
</p>
<blockquote>
<p>
currently is a placeholder
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="7.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2007-08-28T17%3A59%3A14%2B01%3A00&amp;precision=second" title="2007-08-28T17:59:14+01:00 in Timeline">13 years</a> ago by Stuart Ansell
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[28]</a>) refs <a class="closed ticket" href="7.html" title="enhancement: LOQ: Integration Algorithm (closed: fixed)">#7</a>
</p>
<p>
tokenParser (complete) + tests. 
</p>

    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="7.html#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2007-08-31T11%3A55%3A26%2B01%3A00&amp;precision=second" title="2007-08-31T11:55:26+01:00 in Timeline">13 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>assigned</em> to <em>closed</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="7.html#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-03T21%3A41%3A37%2B01%3A00&amp;precision=second" title="2015-06-03T21:41:37+01:00 in Timeline">5 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
This ticket has been transferred to github issue <a class="ext-link" href="http://github.com/mantidproject/mantid/issues/855"><span class="icon">​</span>855</a>
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/7?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/7?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/7?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.5</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
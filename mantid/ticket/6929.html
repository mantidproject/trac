<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      #6929 (Use sanCAS v1.1 in SANS isis reduction)
     – Mantid Project
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="6928.html" title="Ticket #6928" />
        <link rel="last" href="11888.html" title="Ticket #11888" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/6929?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/6929?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/6929?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="6930.html" title="Ticket #6930" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mantid Project" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="a82fe30e7bef2e30fd2838e9";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/mantid/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 6929, escape_newlines: 0}
        $("#comment").autoPreview("/mantid/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/mantid/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.mantidproject.org/"><img src="../chrome/site/mantid_logo_with_name.png" alt="Mantid Logo" width="250" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://trac.mantidproject.org/mantid/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="6928.html" title="Ticket #6928">Previous Ticket</a></span></li><li><span><a class="next" href="6930.html" title="Ticket #6930">Next Ticket</a> &rarr;</span></li><li class="last"><a href="../depgraph/6929.html">Depgraph</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="6929.html">Ticket #6929</a>
          <span class="status">(closed: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-04-25T11%3A37%3A15%2B01%3A00&amp;precision=second" title="2013-04-25T11:37:15+01:00 in Timeline">7 years</a> ago</p>
    <p>Last modified <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T01%3A34%3A15%2B01%3A00&amp;precision=second" title="2015-06-04T01:34:15+01:00 in Timeline">5 years</a> ago</p>
  </div>
  <h2 class="summary searchable">Use sanCAS v1.1 in SANS isis reduction</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;reporter=Gesner+Passos">Gesner Passos</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;owner=Peter+Peterson">Peter Peterson</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;priority=major">major</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="../milestone/Release&#32;2.6.html">Release 2.6</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;component=SANS">SANS</a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;keywords=~SANS">SANS</a>
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby"><span><a class="closed ticket" href="6839.html" title="Implement v1.1 of CanSAS standard in SaveCansas1D and LoadCansas1D">#6839</a></span></td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking"><span></span></td>
        <th id="h_tester">
          Tester:
        </th>
        <td headers="h_tester">
              Mathieu Doucet
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
      <span class="lastmod" title="2013-07-25 10:21:45.642653+00:00">
        (last modified by Nick Draper)
        (<a href="https://trac.mantidproject.org/mantid/ticket/6929?action=diff&amp;version=33">diff</a>)
      </span>
    </h3>
    <div class="searchable">
      <p>
The way I would envisage the new SaveCansas1D algorithm working is that when called to write a reduced 1D data workspace, Mantid checks to see if either or both of the transmissions (sample &amp; can) used to calculate that data have been generated as part of the reduction process. If they have then they should be automatically inserted into the XML file. If they are not present (eg, the user has chosen to reduce data without transmisisons or has deleted both of the transmission workspaces associated with the reduction before choosing to write the file) then the file is written without any SAStransmission_spectrum blocks.
</p>

    </div>
  </div>
</div>
          
    <div id="attachments">
        <h2 class="foldable">Attachments</h2>
        <div>
          <dl class="attachments">
              <dt>
    <a href="../attachment/ticket/6929/for_can_sas_test.csv.html" title="View attachment">for_can_sas_test.csv</a><a href="../raw-attachment/ticket/6929/for_can_sas_test.csv" class="trac-rawlink" title="Download">​</a>
       (<span title="194 bytes">194 bytes</span>) -
      added by <em>Gesner Passos</em> <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-25T10%3A10%3A41%2B01%3A00&amp;precision=second" title="2013-06-25T10:10:41+01:00 in Timeline">7 years</a> ago.
  </dt>
              <dd>
                input for testing
              </dd>
          </dl>
          
        </div>
    </div>

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="6929.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-04-25T11%3A38%3A22%2B01%3A00&amp;precision=second" title="2013-04-25T11:38:22+01:00 in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocked By</strong>
        <em>6839</em> removed
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
(In <a class="closed ticket" href="6839.html" title="enhancement: Implement v1.1 of CanSAS standard in SaveCansas1D and LoadCansas1D (closed: fixed)">#6839</a>) This ticket will only implement the second version of load and save canSAS. It will let the introduction of this new feature inside the Reduction to the ticked <a class="closed ticket" href="6929.html" title="enhancement: Use sanCAS v1.1 in SANS isis reduction (closed: fixed)">#6929</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="6929.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-04-25T16%3A07%3A06%2B01%3A00&amp;precision=second" title="2013-04-25T16:07:06+01:00 in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>accepted</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="6929.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-04-25T16%3A07%3A59%2B01%3A00&amp;precision=second" title="2013-04-25T16:07:59+01:00 in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocked By</strong>
        <em>6839</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="6929.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-04-29T10%3A49%3A59%2B01%3A00&amp;precision=second" title="2013-04-29T10:49:59+01:00 in Timeline">7 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>Release 2.5</em> to <em>Release 2.6</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Moved to <a class="missing changeset" title="No default repository defined">r2</a>.6 at the end of <a class="missing changeset" title="No default repository defined">r2</a>.5
</p>

    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="6929.html#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-05-22T13%3A27%3A29%2B01%3A00&amp;precision=second" title="2013-05-22T13:27:29+01:00 in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
    <div class="comment searchable">
      
      <p>
Add the transmission information to the reduced workspace
</p>
<p>
Due to some limitations imposed by the way the Singleton is used, there is
no way to get the transmission workspaces after the reduction is finished
from the user interface, except using the attempt to guess the name of the
transmission workspaces (what we should not do). So, I propose here keeping
the information about the workspaces of the transmission at the SampleLog
of the Reduced workspace. This information will be them available whenever
is necessary. It would even allow us to use this information inside the SaveCan
algorithm itself. But, I think it would seem a litle bit of magic. So, i
prefer to use it outside.
</p>
<p>
re <a class="closed ticket" href="6929.html" title="enhancement: Use sanCAS v1.1 in SANS isis reduction (closed: fixed)">#6929</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/e1e05575f99bc5659c2a61e1b809d65f25b056f5" title="e1e05575f99bc5659c2a61e1b809d65f25b056f5">e1e05575f99bc5659c2a61e1b809d65f25b056f5</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="6929.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-05-22T13%3A27%3A29%2B01%3A00&amp;precision=second" title="2013-05-22T13:27:29+01:00 in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
    <div class="comment searchable">
      
      <p>
Extend SANSBatchMode to use the transmission workspace for CanSAS
</p>
<p>
It will pass on the parameters to SaveCanSAS1D if they are available.
</p>
<p>
re <a class="closed ticket" href="6929.html" title="enhancement: Use sanCAS v1.1 in SANS isis reduction (closed: fixed)">#6929</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/424db0d8700aedf2ef8f8bf2fec2d48aeae4aca9" title="424db0d8700aedf2ef8f8bf2fec2d48aeae4aca9">424db0d8700aedf2ef8f8bf2fec2d48aeae4aca9</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="6929.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-05-22T13%3A27%3A29%2B01%3A00&amp;precision=second" title="2013-05-22T13:27:29+01:00 in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
    <div class="comment searchable">
      
      <p>
Extend SingleMode to use the transmission workspace for CanSAS
</p>
<p>
It will pass on the parameters to SaveCanSAS1D if they are available.
Changes on SANSRunWindow.cpp
</p>
<p>
re <a class="closed ticket" href="6929.html" title="enhancement: Use sanCAS v1.1 in SANS isis reduction (closed: fixed)">#6929</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/747c82c73d31e3287bf47bd2c30bd5f9e43b9f94" title="747c82c73d31e3287bf47bd2c30bd5f9e43b9f94">747c82c73d31e3287bf47bd2c30bd5f9e43b9f94</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="6929.html#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-05-22T13%3A27%3A29%2B01%3A00&amp;precision=second" title="2013-05-22T13:27:29+01:00 in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
    <div class="comment searchable">
      
      <p>
Merge branch 'feature/6929_use_sancas_v1_1' into develop
</p>

    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="6929.html#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-05-22T13%3A29%3A18%2B01%3A00&amp;precision=second" title="2013-05-22T13:29:18+01:00 in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
    <div class="comment searchable">
      
      <p>
Current limitations of using SaveCanSAS in ISIS SANS: 
 
</p>
<ul><li>Reduction in single mode, selecting both detector, will allow you to save only the Front reduction using the SaveResult on the interface. (Because you save just the last reduced workspace)
</li><li>Reduction in single mode or batch mode, selecting merged detector, will not allow you to save transmission workspaces
</li></ul><p>
I'm discussing with the interested people to decide if these limitations are acceptable.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="6929.html#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-24T11%3A32%3A33%2B01%3A00&amp;precision=second" title="2013-06-24T11:32:33+01:00 in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
    <div class="comment searchable">
      
      <p>
For the first issue (Both detectors selected), the user said: 
</p>
<pre class="wiki">I do not like this current behaviour because it could easily catch a User out.

I think what I would suggest is this: only populate the Filename box with a 
workspace name if a single detector has been reduced (front/rear/main/hab) 
**or** if it is the MERGED workspace. In the case of BOTH, leave it empty and 
force the User to select a Save algorithm.
</pre><p>
For the second item, the merged option, the problem was that we have 2 sample and 2 transmisison, 
so, it was not clear which to choose. But, the user explained that they are both the same, and they
have the same value. So, we can use any one we want to add as transmission values. 
</p>

    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="6929.html#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-24T15%3A30%3A04%2B01%3A00&amp;precision=second" title="2013-06-24T15:30:04+01:00 in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
    <div class="comment searchable">
      
      <p>
Add the transmission information to the reduced workspace
</p>
<p>
Due to some limitations imposed by the way the Singleton is used, there is
no way to get the transmission workspaces after the reduction is finished
from the user interface, except using the attempt to guess the name of the
transmission workspaces (what we should not do). So, I propose here keeping
the information about the workspaces of the transmission at the SampleLog
of the Reduced workspace. This information will be them available whenever
is necessary. It would even allow us to use this information inside the SaveCan
algorithm itself. But, I think it would seem a litle bit of magic. So, i
prefer to use it outside.
</p>
<p>
re <a class="closed ticket" href="6929.html" title="enhancement: Use sanCAS v1.1 in SANS isis reduction (closed: fixed)">#6929</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/e1e05575f99bc5659c2a61e1b809d65f25b056f5" title="e1e05575f99bc5659c2a61e1b809d65f25b056f5">e1e05575f99bc5659c2a61e1b809d65f25b056f5</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="6929.html#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-24T15%3A30%3A05%2B01%3A00&amp;precision=second" title="2013-06-24T15:30:05+01:00 in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
    <div class="comment searchable">
      
      <p>
Extend SANSBatchMode to use the transmission workspace for CanSAS
</p>
<p>
It will pass on the parameters to SaveCanSAS1D if they are available.
</p>
<p>
re <a class="closed ticket" href="6929.html" title="enhancement: Use sanCAS v1.1 in SANS isis reduction (closed: fixed)">#6929</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/424db0d8700aedf2ef8f8bf2fec2d48aeae4aca9" title="424db0d8700aedf2ef8f8bf2fec2d48aeae4aca9">424db0d8700aedf2ef8f8bf2fec2d48aeae4aca9</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="6929.html#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-24T15%3A30%3A05%2B01%3A00&amp;precision=second" title="2013-06-24T15:30:05+01:00 in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
    <div class="comment searchable">
      
      <p>
Extend SingleMode to use the transmission workspace for CanSAS
</p>
<p>
It will pass on the parameters to SaveCanSAS1D if they are available.
Changes on SANSRunWindow.cpp
</p>
<p>
re <a class="closed ticket" href="6929.html" title="enhancement: Use sanCAS v1.1 in SANS isis reduction (closed: fixed)">#6929</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/747c82c73d31e3287bf47bd2c30bd5f9e43b9f94" title="747c82c73d31e3287bf47bd2c30bd5f9e43b9f94">747c82c73d31e3287bf47bd2c30bd5f9e43b9f94</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-14">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:14" class="cnum">
      <a href="6929.html#comment:14">comment:14</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-24T15%3A30%3A05%2B01%3A00&amp;precision=second" title="2013-06-24T15:30:05+01:00 in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
    <div class="comment searchable">
      
      <p>
correct the number of bins at transmission
</p>
<p>
Correct a wrong implementation of saving cansas that does not take the
correct number of values to save them.
</p>
<p>
re <a class="closed ticket" href="6929.html" title="enhancement: Use sanCAS v1.1 in SANS isis reduction (closed: fixed)">#6929</a>
re <a class="closed ticket" href="6839.html" title="enhancement: Implement v1.1 of CanSAS standard in SaveCansas1D and LoadCansas1D (closed: fixed)">#6839</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/a542e0b51658f4f324fbf0ac649aed3380469fd7" title="a542e0b51658f4f324fbf0ac649aed3380469fd7">a542e0b51658f4f324fbf0ac649aed3380469fd7</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-15">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:15" class="cnum">
      <a href="6929.html#comment:15">comment:15</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-24T15%3A30%3A05%2B01%3A00&amp;precision=second" title="2013-06-24T15:30:05+01:00 in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
    <div class="comment searchable">
      
      <p>
Implement the saving transmission and transmissioncan to merged option
</p>
<p>
add the properties transmission and transmissioncan to the merged workspace
this allows the savecansas to save those values.
</p>
<p>
re <a class="closed ticket" href="6929.html" title="enhancement: Use sanCAS v1.1 in SANS isis reduction (closed: fixed)">#6929</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/c34499bb41bbf1995a0652b4720934d88de4da8f" title="c34499bb41bbf1995a0652b4720934d88de4da8f">c34499bb41bbf1995a0652b4720934d88de4da8f</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-16">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:16" class="cnum">
      <a href="6929.html#comment:16">comment:16</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-24T15%3A30%3A06%2B01%3A00&amp;precision=second" title="2013-06-24T15:30:06+01:00 in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
    <div class="comment searchable">
      
      <p>
Correct the Transmission and TransmissionCan to take the unfitted data
</p>
<p>
saves the unfitted data and not the fitted one.
</p>
<p>
re <a class="closed ticket" href="6929.html" title="enhancement: Use sanCAS v1.1 in SANS isis reduction (closed: fixed)">#6929</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/0b091ba7ef3d14cfce9d09a8172a1f7541e7d991" title="0b091ba7ef3d14cfce9d09a8172a1f7541e7d991">0b091ba7ef3d14cfce9d09a8172a1f7541e7d991</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-17">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:17" class="cnum">
      <a href="6929.html#comment:17">comment:17</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-25T09%3A30%3A54%2B01%3A00&amp;precision=second" title="2013-06-25T09:30:54+01:00 in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
    <div class="comment searchable">
      
      <p>
Correct the unit test to adjust the units
</p>
<p>
the commit <a class="changeset" href="https://github.com/mantidproject/mantid/commit/a542e0b51658f4f324fbf0ac649aed3380469fd7" title="a542e0b51658f4f324fbf0ac649aed3380469fd7">a542e0b51658f4f324fbf0ac649aed3380469fd7</a> changed the units,
and this commit, updates the unit test.
</p>
<p>
re <a class="closed ticket" href="6929.html" title="enhancement: Use sanCAS v1.1 in SANS isis reduction (closed: fixed)">#6929</a>
re <a class="closed ticket" href="6839.html" title="enhancement: Implement v1.1 of CanSAS standard in SaveCansas1D and LoadCansas1D (closed: fixed)">#6839</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/94126a9398bef8b9c69d796fee5ca48ab0c7a508" title="94126a9398bef8b9c69d796fee5ca48ab0c7a508">94126a9398bef8b9c69d796fee5ca48ab0c7a508</a>
</p>

    </div>

              </div>
              <div class="change">
                <h3 class="change">
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-25T10%3A10%3A41%2B01%3A00&amp;precision=second" title="2013-06-25T10:10:41+01:00 in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Attachment</strong>
        <a href="../attachment/ticket/6929/for_can_sas_test.csv.html"><em>for_can_sas_test.csv</em></a><a href="../raw-attachment/ticket/6929/for_can_sas_test.csv" title="Download" class="trac-rawlink">​</a>
          added
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
input for testing
</p>

    </div>

              </div>
              <div class="change" id="trac-change-18">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:18" class="cnum">
      <a href="6929.html#comment:18">comment:18</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-25T11%3A05%3A25%2B01%3A00&amp;precision=second" title="2013-06-25T11:05:25+01:00 in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
    <div class="comment searchable">
      
      <p>
Tester if you do not have access to the isis data, them, you can only test this: 
</p>
<ul><li>Select LOQ instrument
</li><li>Select user file: systemtests/Data/LOQ/MASK.094AA
</li><li>change to batch mode and select the file for_can_sas_test.csv (do not forget to add Data/LOQ to the directory manager) 
</li><li>select the output CanSAS at the bottom right.
</li><li>change again to the Single mode (the batch mode does not allow you to reduce .raw data).
</li><li>press Reduce (it will save the file 54431main_1D_2.2_10.0.xml at your output directory)
</li><li>You can load these files using the LoadCanSAS1D algorithm to see if it is correct as well.
</li><li>check that there is a SAStransmission_spectrum entry inside the xml file.
</li><li>There is not much more you can do, because it will produce some exceptions that are not directly related to this ticket.
</li></ul><p>
If you have access to the ISIS data, then, you may:
</p>
<ul><li>Open ISIS Sans interface
</li><li>Select SANS2D instrument
</li><li>Set the searching directories to cycle_13_1
</li><li>Open the Mask at: ndxsans2d/user/Masks/MASKSANS2D_131L_4m_12mm_Lakey_B.txt
</li><li>Load for_can_sas_sans2d.csv in batch mode
</li><li>Select the CanSAS as output format. 
</li><li>Press Reduce it will save: 4m_12mm_lakey_rear.xml
</li><li>check that there is a SAStransmission_spectrum inside
</li><li>change to single mode and press reduce
</li><li>It will save 18617rear_1D_1.75_16.5.xml file
</li><li>check that there is a SAStransmission_spectrum inside
</li><li>Change at the Reduction Settings the detector to front-detector and to merged
</li><li>make sure that the SAStransmission_spectrum is still there.
</li><li>Finally, check that in both mode, the batch mode will save two files, while in single mode, you will not have the opportunity to save no file. (the reason is defined in <a href="6929.html#comment:10" title="Comment 10 for Ticket #6929">comment:10</a>)
</li></ul>
    </div>

              </div>
              <div class="change" id="trac-change-19">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:19" class="cnum">
      <a href="6929.html#comment:19">comment:19</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-25T11%3A19%3A07%2B01%3A00&amp;precision=second" title="2013-06-25T11:19:07+01:00 in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
    <div class="comment searchable">
      
      <p>
Disable saving output on both &amp; single mode
</p>
<p>
user request:
</p>
<p>
only populate the Filename box with a workspace name if a single detector
has been reduced (front/rear/main/hab) <strong>or</strong> if it is the MERGED
workspace. In the case of BOTH, leave it empty and force the User to
select a Save algorithm.
</p>
<p>
re <a class="closed ticket" href="6929.html" title="enhancement: Use sanCAS v1.1 in SANS isis reduction (closed: fixed)">#6929</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/e44a880a94ec5138105bdc552a7806bf23e2ec19" title="e44a880a94ec5138105bdc552a7806bf23e2ec19">e44a880a94ec5138105bdc552a7806bf23e2ec19</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-20">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:20" class="cnum">
      <a href="6929.html#comment:20">comment:20</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-25T12%3A45%3A27%2B01%3A00&amp;precision=second" title="2013-06-25T12:45:27+01:00 in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>accepted</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-21">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:21" class="cnum">
      <a href="6929.html#comment:21">comment:21</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-25T14%3A05%3A17%2B01%3A00&amp;precision=second" title="2013-06-25T14:05:17+01:00 in Timeline">7 years</a> ago by Mathieu Doucet
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li><li>
      <strong>Tester</strong>
        set to <em>Mathieu Doucet</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-22">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:22" class="cnum">
      <a href="6929.html#comment:22">comment:22</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-25T14%3A42%3A25%2B01%3A00&amp;precision=second" title="2013-06-25T14:42:25+01:00 in Timeline">7 years</a> ago by Mathieu Doucet
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>reopened</em>
    </li><li>
      <strong>Resolution</strong>
        <em>fixed</em> deleted
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Reopening ticket to get rid of warning, as agreed.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-23">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:23" class="cnum">
      <a href="6929.html#comment:23">comment:23</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-25T17%3A19%3A19%2B01%3A00&amp;precision=second" title="2013-06-25T17:19:19+01:00 in Timeline">7 years</a> ago by Mathieu Doucet
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="6929.html" title="enhancement: Use sanCAS v1.1 in SANS isis reduction (closed: fixed)">#6929</a> Remove warning as agreed
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/922789aa5b42d62bbd02b440e7a3cf722fcbeeec" title="922789aa5b42d62bbd02b440e7a3cf722fcbeeec">922789aa5b42d62bbd02b440e7a3cf722fcbeeec</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-24">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:24" class="cnum">
      <a href="6929.html#comment:24">comment:24</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-25T17%3A20%3A01%2B01%3A00&amp;precision=second" title="2013-06-25T17:20:01+01:00 in Timeline">7 years</a> ago by Mathieu Doucet
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Owner</strong>
        changed from <em>Gesner Passos</em> to <em>Mathieu Doucet</em>
    </li><li>
      <strong>Status</strong>
        changed from <em>reopened</em> to <em>accepted</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-25">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:25" class="cnum">
      <a href="6929.html#comment:25">comment:25</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-25T17%3A20%3A13%2B01%3A00&amp;precision=second" title="2013-06-25T17:20:13+01:00 in Timeline">7 years</a> ago by Mathieu Doucet
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>accepted</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-26">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:26" class="cnum">
      <a href="6929.html#comment:26">comment:26</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-25T17%3A21%3A37%2B01%3A00&amp;precision=second" title="2013-06-25T17:21:37+01:00 in Timeline">7 years</a> ago by Mathieu Doucet
                </h3>
                
    <div class="comment searchable">
      
      <p>
Fixed the warning as agreed with the developer and closing the ticket after successful testing.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-27">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:27" class="cnum">
      <a href="6929.html#comment:27">comment:27</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-25T17%3A22%3A07%2B01%3A00&amp;precision=second" title="2013-06-25T17:22:07+01:00 in Timeline">7 years</a> ago by Mathieu Doucet
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Owner</strong>
        changed from <em>Mathieu Doucet</em> to <em>Gesner Passos</em>
    </li><li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>assigned</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-28">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:28" class="cnum">
      <a href="6929.html#comment:28">comment:28</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-25T18%3A17%3A55%2B01%3A00&amp;precision=second" title="2013-06-25T18:17:55+01:00 in Timeline">7 years</a> ago by Peter Peterson
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Owner</strong>
        changed from <em>Gesner Passos</em> to <em>Peter Peterson</em>
    </li><li>
      <strong>Status</strong>
        changed from <em>assigned</em> to <em>accepted</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-29">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:29" class="cnum">
      <a href="6929.html#comment:29">comment:29</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-25T18%3A18%3A18%2B01%3A00&amp;precision=second" title="2013-06-25T18:18:18+01:00 in Timeline">7 years</a> ago by Peter Peterson
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>accepted</em> to <em>verify</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Mathieu told me to "close" this.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-30">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:30" class="cnum">
      <a href="6929.html#comment:30">comment:30</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-25T18%3A19%3A00%2B01%3A00&amp;precision=second" title="2013-06-25T18:19:00+01:00 in Timeline">7 years</a> ago by Mathieu Doucet
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-31">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:31" class="cnum">
      <a href="6929.html#comment:31">comment:31</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-25T18%3A19%3A25%2B01%3A00&amp;precision=second" title="2013-06-25T18:19:25+01:00 in Timeline">7 years</a> ago by Mathieu Doucet
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>closed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-32">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:32" class="cnum">
      <a href="6929.html#comment:32">comment:32</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-07-24T09%3A53%3A41%2B01%3A00&amp;precision=second" title="2013-07-24T09:53:41+01:00 in Timeline">7 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Component</strong>
        changed from <em>Mantid</em> to <em>Framework</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-33">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:33" class="cnum">
      <a href="6929.html#comment:33">comment:33</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-07-25T11%3A21%3A45%2B01%3A00&amp;precision=second" title="2013-07-25T11:21:45+01:00 in Timeline">7 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Component</strong>
        changed from <em>Framework</em> to <em>SANS</em>
    </li><li>
      <strong>Description</strong>
        modified (<a href="https://trac.mantidproject.org/mantid/ticket/6929?action=diff&amp;version=33">diff</a>)
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-34">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:34" class="cnum">
      <a href="6929.html#comment:34">comment:34</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T01%3A34%3A15%2B01%3A00&amp;precision=second" title="2015-06-04T01:34:15+01:00 in Timeline">5 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
This ticket has been transferred to github issue <a class="ext-link" href="http://github.com/mantidproject/mantid/issues/7775"><span class="icon">​</span>7775</a>
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/6929?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/6929?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/6929?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.5</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
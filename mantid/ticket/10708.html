<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      #10708 (Update default instrument parameters from workspace)
     – Mantid Project
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="10707.html" title="Ticket #10707" />
        <link rel="last" href="11888.html" title="Ticket #11888" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/10708?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/10708?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/10708?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="10709.html" title="Ticket #10709" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mantid Project" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="a82fe30e7bef2e30fd2838e9";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/mantid/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 10708, escape_newlines: 0}
        $("#comment").autoPreview("/mantid/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/mantid/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.mantidproject.org/"><img src="../chrome/site/mantid_logo_with_name.png" alt="Mantid Logo" width="250" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://trac.mantidproject.org/mantid/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="10707.html" title="Ticket #10707">Previous Ticket</a></span></li><li><span><a class="next" href="10709.html" title="Ticket #10709">Next Ticket</a> &rarr;</span></li><li class="last"><a href="../depgraph/10708.html">Depgraph</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="10708.html">Ticket #10708</a>
          <span class="status">(closed: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-12-08T12%3A28%3A00Z&amp;precision=second" title="2014-12-08T12:28:00Z in Timeline">6 years</a> ago</p>
    <p>Last modified <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T04%3A08%3A21%2B01%3A00&amp;precision=second" title="2015-06-04T04:08:21+01:00 in Timeline">5 years</a> ago</p>
  </div>
  <h2 class="summary searchable">Update default instrument parameters from workspace</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;reporter=Alex+Buts">Alex Buts</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;owner=Alex+Buts">Alex Buts</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;priority=critical">critical</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="../milestone/Release&#32;3.3.html">Release 3.3</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;component=Direct+Inelastic">Direct Inelastic</a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby"><span><a class="closed ticket" href="10681.html" title="Implement generic ISIS reduction wrapper, which would work both through web services and directly from Mantid">#10681</a></span></td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking"><span><a class="closed ticket" href="10705.html" title="Changes to direct Inelastic reduction have inelastic interface broken">#10705</a></span></td>
        <th id="h_tester">
          Tester:
        </th>
        <td headers="h_tester">
              Lottie Greenwood
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
      <span class="lastmod" title="2014-12-08 20:29:08.683229+00:00">
        (last modified by Alex Buts)
        (<a href="https://trac.mantidproject.org/mantid/ticket/10708?action=diff&amp;version=4">diff</a>)
      </span>
    </h3>
    <div class="searchable">
      <p>
Bug identified while working with inelastic reduction (actually pretty old one)
</p>
<p>
Current reduction loads parameters from empty workspace and these parameters are incorrect if the workspace's instrument parameters you trying to reduce differ from the recent one. 
</p>
<p>
This causes reduction suddenly stop working if recent instrument parameters were changed 
</p>

    </div>
  </div>
</div>
          

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="10708.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-12-08T18%3A11%3A10Z&amp;precision=second" title="2014-12-08T18:11:10Z in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="10708.html" title="Update default instrument parameters from workspace (closed: fixed)">#10708</a> Method to update instrument parameters from workspace
</p>
<p>
and unit test to verify it
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/54d3f77660670c172044fc72e37421268a5f9e06" title="54d3f77660670c172044fc72e37421268a5f9e06">54d3f77660670c172044fc72e37421268a5f9e06</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="10708.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-12-08T18%3A12%3A17Z&amp;precision=second" title="2014-12-08T18:12:17Z in Timeline">6 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>assigned</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="10708.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-12-08T20%3A23%3A59Z&amp;precision=second" title="2014-12-08T20:23:59Z in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>assigned</em> to <em>inprogress</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="10708.html" title="Update default instrument parameters from workspace (closed: fixed)">#10708</a> Advances in update_defaults_from_instrument and unit test
</p>
<p>
Also attempt to use it (not yet verified properly)
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/4fe89ddb6fb474b05ca9502a5f98ebb1aa6636c3" title="4fe89ddb6fb474b05ca9502a5f98ebb1aa6636c3">4fe89ddb6fb474b05ca9502a5f98ebb1aa6636c3</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="10708.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-12-08T20%3A29%3A08Z&amp;precision=second" title="2014-12-08T20:29:08Z in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Description</strong>
        modified (<a href="https://trac.mantidproject.org/mantid/ticket/10708?action=diff&amp;version=4">diff</a>)
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="10708.html#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-12-09T11%3A57%3A41Z&amp;precision=second" title="2014-12-09T11:57:41Z in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="10708.html" title="Update default instrument parameters from workspace (closed: fixed)">#10708</a> One more unit test for changes which seems sort thing out
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/45652bea5ac7878e9b1add5ec04e8c291515eab9" title="45652bea5ac7878e9b1add5ec04e8c291515eab9">45652bea5ac7878e9b1add5ec04e8c291515eab9</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="10708.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-12-09T21%3A38%3A16Z&amp;precision=second" title="2014-12-09T21:38:16Z in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="10708.html" title="Update default instrument parameters from workspace (closed: fixed)">#10708</a> missing parameters in some currently actual IDF-s
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/3715ade4bd0abd50d5d2214e387c0b16aa591206" title="3715ade4bd0abd50d5d2214e387c0b16aa591206">3715ade4bd0abd50d5d2214e387c0b16aa591206</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="10708.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-12-09T21%3A38%3A16Z&amp;precision=second" title="2014-12-09T21:38:16Z in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="10708.html" title="Update default instrument parameters from workspace (closed: fixed)">#10708</a> Something works bug looks dodgy.
</p>
<p>
needs further thinking
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/4da28e50ae4ed17bea28d310f6e504eb241a17ec" title="4da28e50ae4ed17bea28d310f6e504eb241a17ec">4da28e50ae4ed17bea28d310f6e504eb241a17ec</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="10708.html#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-12-10T12%3A56%3A49Z&amp;precision=second" title="2014-12-10T12:56:49Z in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="10708.html" title="Update default instrument parameters from workspace (closed: fixed)">#10708</a> Better handling properties from workspace
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/813d2279a89a39770f6965a1059231d8c03cb862" title="813d2279a89a39770f6965a1059231d8c03cb862">813d2279a89a39770f6965a1059231d8c03cb862</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="10708.html#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-12-10T15%3A51%3A08Z&amp;precision=second" title="2014-12-10T15:51:08Z in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="10708.html" title="Update default instrument parameters from workspace (closed: fixed)">#10708</a> LoadParamFromWS have been hopefully fixed
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/5bce9f319863dd898a4a25a9fecaa6817c50c4bc" title="5bce9f319863dd898a4a25a9fecaa6817c50c4bc">5bce9f319863dd898a4a25a9fecaa6817c50c4bc</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="10708.html#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-12-10T16%3A07%3A45Z&amp;precision=second" title="2014-12-10T16:07:45Z in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="10708.html" title="Update default instrument parameters from workspace (closed: fixed)">#10708</a> Minor comments
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/6e517d54e009eaea79f55555f544139c2afea136" title="6e517d54e009eaea79f55555f544139c2afea136">6e517d54e009eaea79f55555f544139c2afea136</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="10708.html#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-12-10T16%3A10%3A39Z&amp;precision=second" title="2014-12-10T16:10:39Z in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="10708.html" title="Update default instrument parameters from workspace (closed: fixed)">#10708</a> Minor changes to system tests, illustrating fixing behavior
</p>
<p>
(no test files or test parameters is modified)
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/3ae4cb59f546144e1e001dc6e52a2c8a8f115cbb" title="3ae4cb59f546144e1e001dc6e52a2c8a8f115cbb">3ae4cb59f546144e1e001dc6e52a2c8a8f115cbb</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="10708.html#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-12-10T16%3A19%3A00Z&amp;precision=second" title="2014-12-10T16:19:00Z in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="10708.html" title="Update default instrument parameters from workspace (closed: fixed)">#10708</a> Returned to initial presentation of external properties
</p>
<p>
for MAPS. All works.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/e7b7dae74ece37d8a57add1413aff3b01b66bb40" title="e7b7dae74ece37d8a57add1413aff3b01b66bb40">e7b7dae74ece37d8a57add1413aff3b01b66bb40</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="10708.html#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-12-10T19%3A30%3A36Z&amp;precision=second" title="2014-12-10T19:30:36Z in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="10708.html" title="Update default instrument parameters from workspace (closed: fixed)">#10708</a> Fixed MonovanIntegrationRange
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/56b860a0618c002fa12b354538e2d07657a9717b" title="56b860a0618c002fa12b354538e2d07657a9717b">56b860a0618c002fa12b354538e2d07657a9717b</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-14">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:14" class="cnum">
      <a href="10708.html#comment:14">comment:14</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-12-10T20%3A11%3A25Z&amp;precision=second" title="2014-12-10T20:11:25Z in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="10708.html" title="Update default instrument parameters from workspace (closed: fixed)">#10708</a> Changes confirming that abs_units_van_integration_range
</p>
<p>
is interpreted correctly now.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/359ddfdebd2f5d2be89fcbba6051517971c41080" title="359ddfdebd2f5d2be89fcbba6051517971c41080">359ddfdebd2f5d2be89fcbba6051517971c41080</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-15">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:15" class="cnum">
      <a href="10708.html#comment:15">comment:15</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-12-10T20%3A12%3A12Z&amp;precision=second" title="2014-12-10T20:12:12Z in Timeline">6 years</a> ago by Alex Buts
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>inprogress</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
The changes are both in Mantid and System tests folders.
</p>
<p>
This was a nasty bug, which was very difficult to spot but I've heard numerous complains from number of IS.
</p>
<p>
The changes to reduction interface allowed to identify and fix it. 
</p>
<p>
Hopefully old reduction scripts will continue to work with old data now. 
</p>
<p>
The proof is in system tests for LET -- new LET IDF has different monitor number from the one used for measuring the sample. 
</p>
<p>
Correct monitor number is loaded and used due to these changes. 
</p>
<p>
The changes to the script appear to be much more complicated then I would assume, but as the interface is separated from the reduction it was easy unit test and introduce the changes. 
</p>
<p>
Also minor bug (probably recently introduced while separating interface) when absolute uints integration range was not interpreted correctly has been fixed. (monovan abs units conversion parameter was changed due to this in system tests and it is obvious in the tests that the value of this parameter is correct)
</p>
<p>
Proof of correctness of these changes -- system tests. 
</p>

    </div>

                <div class="trac-lastedit ">
                  Last edited <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-12-10T20%3A13%3A50Z&amp;precision=second" title="2014-12-10T20:13:50Z in Timeline">6 years</a> ago
                      by Alex Buts
                    (<a href="https://trac.mantidproject.org/mantid/ticket/10708?cversion=0&amp;cnum_hist=15#comment:15">previous</a>)
                    (<a href="https://trac.mantidproject.org/mantid/ticket/10708?action=comment-diff&amp;cnum=15&amp;version=1">diff</a>)
                </div>
              </div>
              <div class="change" id="trac-change-16">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:16" class="cnum">
      <a href="10708.html#comment:16">comment:16</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-12-11T14%3A20%3A32Z&amp;precision=second" title="2014-12-11T14:20:32Z in Timeline">6 years</a> ago by Lottie Greenwood
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li><li>
      <strong>Tester</strong>
        set to <em>Lottie Greenwood</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-17">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:17" class="cnum">
      <a href="10708.html#comment:17">comment:17</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-12-12T10%3A26%3A48Z&amp;precision=second" title="2014-12-12T10:26:48Z in Timeline">6 years</a> ago by Lottie Greenwood
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>closed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Merge remote-tracking branch 'origin/bugfix/10708_InstrParFromWS'
</p>
<p>
Full changeset: <a class="ext-link" href="https://github.com/mantidproject/systemtests/commit/77039e4aa2069af64eeb90d5515ba20026e850cc"><span class="icon">​</span>77039e4aa2069af64eeb90d5515ba20026e850cc</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-18">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:18" class="cnum">
      <a href="10708.html#comment:18">comment:18</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-12-12T10%3A26%3A51Z&amp;precision=second" title="2014-12-12T10:26:51Z in Timeline">6 years</a> ago by Lottie Greenwood
                </h3>
                
    <div class="comment searchable">
      
      <p>
Merge remote-tracking branch 'origin/bugfix/10708_InstrParFromWS'
</p>
<p>
Full changeset: <a class="ext-link" href="https://github.com/mantidproject/mantid/commit/722673f5c49827b4f57dcbe53be7a8fd0f6433c9"><span class="icon">​</span>722673f5c49827b4f57dcbe53be7a8fd0f6433c9</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-19">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:19" class="cnum">
      <a href="10708.html#comment:19">comment:19</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T04%3A08%3A21%2B01%3A00&amp;precision=second" title="2015-06-04T04:08:21+01:00 in Timeline">5 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
This ticket has been transferred to github issue <a class="ext-link" href="http://github.com/mantidproject/mantid/issues/11550"><span class="icon">​</span>11550</a>
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/10708?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/10708?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/10708?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.5</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
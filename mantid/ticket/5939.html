<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      #5939 (Replace python interpreter with embedded ipython)
     – Mantid Project
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="5938.html" title="Ticket #5938" />
        <link rel="last" href="11888.html" title="Ticket #11888" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/5939?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/5939?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/5939?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="5940.html" title="Ticket #5940" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mantid Project" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="a82fe30e7bef2e30fd2838e9";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/mantid/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 5939, escape_newlines: 0}
        $("#comment").autoPreview("/mantid/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/mantid/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.mantidproject.org/"><img src="../chrome/site/mantid_logo_with_name.png" alt="Mantid Logo" width="250" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://trac.mantidproject.org/mantid/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="5938.html" title="Ticket #5938">Previous Ticket</a></span></li><li><span><a class="next" href="5940.html" title="Ticket #5940">Next Ticket</a> &rarr;</span></li><li class="last"><a href="../depgraph/5939.html">Depgraph</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="5939.html">Ticket #5939</a>
          <span class="status">(closed: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-10-10T20%3A12%3A30%2B01%3A00&amp;precision=second" title="2012-10-10T20:12:30+01:00 in Timeline">8 years</a> ago</p>
    <p>Last modified <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T00%3A53%3A14%2B01%3A00&amp;precision=second" title="2015-06-04T00:53:14+01:00 in Timeline">5 years</a> ago</p>
  </div>
  <h2 class="summary searchable">Replace python interpreter with embedded ipython</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;reporter=Russell+Taylor">Russell Taylor</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;owner=Russell+Taylor">Russell Taylor</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;priority=critical">critical</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="../milestone/Release&#32;3.0.html">Release 3.0</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;component=MantidPlot">MantidPlot</a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;keywords=~IPython">IPython</a>
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby"><span><a class="closed ticket" href="7950.html" title="Switch to PyQt v2 API for QString and QVariant">#7950</a>, <a class="closed ticket" href="7980.html" title="Create RHEL6 RPM for IPython">#7980</a>, <a class="closed ticket" href="8006.html" title="Update IPython and dependencies for Windows">#8006</a>, <a class="closed ticket" href="8018.html" title="Update IPython and dependencies for the Mac">#8018</a></span></td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking"><span></span></td>
        <th id="h_tester">
          Tester:
        </th>
        <td headers="h_tester">
              Martyn Gigg
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
      <span class="lastmod" title="2013-08-01 09:31:55.822711+00:00">
        (last modified by Nick Draper)
        (<a href="https://trac.mantidproject.org/mantid/ticket/5939?action=diff&amp;version=12">diff</a>)
      </span>
    </h3>
    <div class="searchable">
      <p>
There is a pull request over at the ipython repository which implements an in-process kernel for ipython. See: <a class="ext-link" href="https://github.com/ipython/ipython/pull/2397"><span class="icon">​</span>https://github.com/ipython/ipython/pull/2397</a>
</p>
<p>
The implication of this is we could have ipython in a window within MantidPlot - as the script interpreter is now. Currently we are not able to do this as in current ipython releases you have to use 2 processes and the back-end has to be in the MantidPlot process.
</p>
<p>
Once this pull request is merged and in an ipython release, we should consider whether we want to make this change. One thing to look out for is whether the implementation still requires matplotlib to be present as that would be a large dependency to add (this is the principle reason why the ipython console in MantidPlot is currently an optional add-in).
</p>

    </div>
  </div>
</div>
          

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="5939.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-10-10T22%3A23%3A04%2B01%3A00&amp;precision=second" title="2012-10-10T22:23:04+01:00 in Timeline">8 years</a> ago by Russell Taylor
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>Release 2.3</em> to <em>Unassigned</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="5939.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-10-15T12%3A42%3A22%2B01%3A00&amp;precision=second" title="2012-10-15T12:42:22+01:00 in Timeline">8 years</a> ago by Nick Draper
                </h3>
                
    <div class="comment searchable">
      
      <p>
Consider this after bundling in the packages
</p>

    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="5939.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-10-15T12%3A43%3A10%2B01%3A00&amp;precision=second" title="2012-10-15T12:43:10+01:00 in Timeline">8 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Owner</strong>
        set to <em>Martyn Gigg</em>
    </li><li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>assigned</em>
    </li><li>
      <strong>Milestone</strong>
        changed from <em>Unassigned</em> to <em>Release 2.4</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Russell may be able to pick some or most of this up.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="5939.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-10-25T16%3A49%3A44%2B01%3A00&amp;precision=second" title="2012-10-25T16:49:44+01:00 in Timeline">8 years</a> ago by Gesner Passos
                </h3>
                
    <div class="comment searchable">
      
      
    </div>

                <div class="trac-lastedit ">
                  Last edited <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-10-25T16%3A53%3A17%2B01%3A00&amp;precision=second" title="2012-10-25T16:53:17+01:00 in Timeline">8 years</a> ago
                      by Gesner Passos
                    (<a href="https://trac.mantidproject.org/mantid/ticket/5939?cversion=0&amp;cnum_hist=4#comment:4">previous</a>)
                    (<a href="https://trac.mantidproject.org/mantid/ticket/5939?action=comment-diff&amp;cnum=4&amp;version=1">diff</a>)
                </div>
              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="5939.html#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-11-02T16%3A45%3A43Z&amp;precision=second" title="2012-11-02T16:45:43Z in Timeline">8 years</a> ago by Gesner Passos
                </h3>
                
    <div class="comment searchable">
      
      
    </div>

                <div class="trac-lastedit ">
                  Last edited <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-01-16T20%3A59%3A20Z&amp;precision=second" title="2013-01-16T20:59:20Z in Timeline">8 years</a> ago
                      by Russell Taylor
                    (<a href="https://trac.mantidproject.org/mantid/ticket/5939?cversion=0&amp;cnum_hist=5#comment:5">previous</a>)
                    (<a href="https://trac.mantidproject.org/mantid/ticket/5939?action=comment-diff&amp;cnum=5&amp;version=1">diff</a>)
                </div>
              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="5939.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-01-16T21%3A04%3A34Z&amp;precision=second" title="2013-01-16T21:04:34Z in Timeline">8 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
This has finally been merged into the ipython master (in a different pull request to the one in the description): <a class="ext-link" href="https://github.com/ipython/ipython/pull/2724"><span class="icon">​</span>https://github.com/ipython/ipython/pull/2724</a>
</p>
<p>
This will put it in the next ipython release, though I don't know when that is due.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="5939.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-01-23T09%3A43%3A15Z&amp;precision=second" title="2013-01-23T09:43:15Z in Timeline">8 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>Release 2.4</em> to <em>Release 2.5</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="5939.html#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-04-29T10%3A49%3A50%2B01%3A00&amp;precision=second" title="2013-04-29T10:49:50+01:00 in Timeline">7 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>Release 2.5</em> to <em>Release 2.6</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Moved to <a class="missing changeset" title="No default repository defined">r2</a>.6 at the end of <a class="missing changeset" title="No default repository defined">r2</a>.5
</p>

    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="5939.html#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-07-15T09%3A46%3A44%2B01%3A00&amp;precision=second" title="2013-07-15T09:46:44+01:00 in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>Release 2.6</em> to <em>Release 2.7</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Batch move to 2.7
</p>

    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="5939.html#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-07-18T16%3A27%3A11%2B01%3A00&amp;precision=second" title="2013-07-18T16:27:11+01:00 in Timeline">7 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>assigned</em> to <em>new</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="5939.html#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-07-22T15%3A30%3A03%2B01%3A00&amp;precision=second" title="2013-07-22T15:30:03+01:00 in Timeline">7 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>Release 2.7</em> to <em>Backlog</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="5939.html#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-08-01T10%3A31%3A55%2B01%3A00&amp;precision=second" title="2013-08-01T10:31:55+01:00 in Timeline">7 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Owner</strong>
        changed from <em>Martyn Gigg</em> to <em>Russell Taylor</em>
    </li><li>
      <strong>Description</strong>
        modified (<a href="https://trac.mantidproject.org/mantid/ticket/5939?action=diff&amp;version=12">diff</a>)
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="5939.html#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-08-01T15%3A15%3A43%2B01%3A00&amp;precision=second" title="2013-08-01T15:15:43+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Priority</strong>
        changed from <em>major</em> to <em>critical</em>
    </li><li>
      <strong>Milestone</strong>
        changed from <em>Backlog</em> to <em>Release 3.0</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
IPython v1.0, containing the necessary changes, is due out any day.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-14">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:14" class="cnum">
      <a href="5939.html#comment:14">comment:14</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-08-01T15%3A16%3A23%2B01%3A00&amp;precision=second" title="2013-08-01T15:16:23+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Keywords</strong>
        <em>Poker</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-15">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:15" class="cnum">
      <a href="5939.html#comment:15">comment:15</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-08-02T16%3A35%3A36%2B01%3A00&amp;precision=second" title="2013-08-02T16:35:36+01:00 in Timeline">7 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Keywords</strong>
        <em>Poker</em> removed
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Poker Estimate: 18d
</p>

    </div>

              </div>
              <div class="change" id="trac-change-16">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:16" class="cnum">
      <a href="5939.html#comment:16">comment:16</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-08-22T22%3A15%3A46%2B01%3A00&amp;precision=second" title="2013-08-22T22:15:46+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>inprogress</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-17">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:17" class="cnum">
      <a href="5939.html#comment:17">comment:17</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-08-26T22%3A18%3A29%2B01%3A00&amp;precision=second" title="2013-08-26T22:18:29+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="5939.html" title="enhancement: Replace python interpreter with embedded ipython (closed: fixed)">#5939</a>. Remove existing ipython console launch mechanism.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/037b59219fc8569d55c19d3c8e16581c7e5ca428" title="037b59219fc8569d55c19d3c8e16581c7e5ca428">037b59219fc8569d55c19d3c8e16581c7e5ca428</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-18">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:18" class="cnum">
      <a href="5939.html#comment:18">comment:18</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-08-26T22%3A18%3A31%2B01%3A00&amp;precision=second" title="2013-08-26T22:18:31+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="5939.html" title="enhancement: Replace python interpreter with embedded ipython (closed: fixed)">#5939</a>. Remove usage of existing script interpreter.
</p>
<p>
Have left the QTextEdit (that was previously only used temporarily)
as a placeholder.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/c2058d49f1fb60ccfc1910d30d59d2df704b2cdf" title="c2058d49f1fb60ccfc1910d30d59d2df704b2cdf">c2058d49f1fb60ccfc1910d30d59d2df704b2cdf</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-19">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:19" class="cnum">
      <a href="5939.html#comment:19">comment:19</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-08-26T22%3A18%3A31%2B01%3A00&amp;precision=second" title="2013-08-26T22:18:31+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="5939.html" title="enhancement: Replace python interpreter with embedded ipython (closed: fixed)">#5939</a>. Remove existing script interpreter class.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/f4fa114614e24c1242b8855815ccca2c9b88b69b" title="f4fa114614e24c1242b8855815ccca2c9b88b69b">f4fa114614e24c1242b8855815ccca2c9b88b69b</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-20">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:20" class="cnum">
      <a href="5939.html#comment:20">comment:20</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-08-26T22%3A18%3A31%2B01%3A00&amp;precision=second" title="2013-08-26T22:18:31+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="5939.html" title="enhancement: Replace python interpreter with embedded ipython (closed: fixed)">#5939</a>. Add an IPython console as the script interpreter.
</p>
<p>
For now, requires IPython 1.0 to be installed locally.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/1497115d4edcd59a3e25f6ed1bf56216d6dfafe7" title="1497115d4edcd59a3e25f6ed1bf56216d6dfafe7">1497115d4edcd59a3e25f6ed1bf56216d6dfafe7</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-21">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:21" class="cnum">
      <a href="5939.html#comment:21">comment:21</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-08-26T22%3A31%3A35%2B01%3A00&amp;precision=second" title="2013-08-26T22:31:35+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
It works (on RHEL6 at least), but there are two notable issues:
</p>
<ul><li>It <a class="ext-link" href="http://ipython.org/ipython-doc/rel-1.0.0/whatsnew/version1.0.html#in-process-kernels"><span class="icon">​</span>locks up the GUI</a> until a command returns (our existing external ipython console does this as well; our current script interpreter of course does not).
</li><li>It will require us to change to the <a class="ext-link" href="http://pyqt.sourceforge.net/Docs/PyQt4/incompatible_apis.html"><span class="icon">​</span>PyQt v2 API</a> for at least QString &amp; QVariant. This will break things, and of course with python you quite possibly don't know it's broken until you try to execute the broken code.
</li></ul>
    </div>

                <div class="trac-lastedit ">
                  Last edited <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-08-27T19%3A20%3A04%2B01%3A00&amp;precision=second" title="2013-08-27T19:20:04+01:00 in Timeline">7 years</a> ago
                      by Russell Taylor
                    (<a href="https://trac.mantidproject.org/mantid/ticket/5939?cversion=0&amp;cnum_hist=21#comment:21">previous</a>)
                    (<a href="https://trac.mantidproject.org/mantid/ticket/5939?action=comment-diff&amp;cnum=21&amp;version=1">diff</a>)
                </div>
              </div>
              <div class="change" id="trac-change-22">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:22" class="cnum">
      <a href="5939.html#comment:22">comment:22</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-08-27T19%3A19%3A49%2B01%3A00&amp;precision=second" title="2013-08-27T19:19:49+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Turns out it doesn't entirely work. The line <tt>kernel_manager.start_kernel()</tt> in mantid_ipython_widget.py destroys the import of the mantid modules into the 'F3' python window.
</p>
<p>
Other news:
</p>
<ul><li>The Mac behaves the same as linux, once ipython, pygments, pyzmq &amp; readline are installed (matplotlib, which was the pain before, is not required).
</li><li>On Windows we need to upgrade pyzmq and the libraries in the newer versions suffer from the same problem we had before, which is detailed <a class="ext-link" href="https://github.com/zeromq/pyzmq/issues/161"><span class="icon">​</span>here</a>.
</li></ul><p>
Other niggles:
</p>
<ul><li>Related to the locking of the GUI, you can't interrupt a long-running command.
</li><li>The qt console appears to lack the "--no-banner" and "--nosep" options that the regular ipython terminal have to skip the start-up text and not put a blank line between every input.
</li></ul>
    </div>

              </div>
              <div class="change" id="trac-change-23">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:23" class="cnum">
      <a href="5939.html#comment:23">comment:23</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-09-11T19%3A51%3A00%2B01%3A00&amp;precision=second" title="2013-09-11T19:51:00+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Although I'm not terribly keen on the notion of forking IPython, I do find that the following change to the IPython 1.1 code solves the locking issue:
</p>
<pre class="wiki">+++ b/IPython/core/interactiveshell.py
@@ -29,6 +29,7 @@
 import sys
 import tempfile
 import types
+import threading
 from io import open as io_open
 
 from IPython.config.configurable import SingletonConfigurable
@@ -78,6 +79,8 @@
 from IPython.utils.warn import warn, error
 import IPython.core.hooks
 
+from PyQt4 import QtGui
+
 #-----------------------------------------------------------------------------
 # Globals
 #-----------------------------------------------------------------------------
@@ -89,6 +92,9 @@
 # Utilities
 #-----------------------------------------------------------------------------
 
+def runner(code_obj, global_ns, user_ns):
+    exec code_obj in global_ns, user_ns
+
 @undoc
 def softspace(file, newvalue):
     """Copied from code.py, to remove the dependency"""
@@ -2824,7 +2830,11 @@ def run_code(self, code_obj):
             try:
                 self.hooks.pre_run_code_hook()
                 #rprint('Running code', repr(code_obj)) # dbg
-                exec code_obj in self.user_global_ns, self.user_ns
+                #exec code_obj in self.user_global_ns, self.user_ns
+                t = threading.Thread(target=runner, args=(code_obj, self.user_g
+                t.start()
+                while t.is_alive():
+                    QtGui.QApplication.processEvents()
             finally:
                 # Reset our crash handler in place
                 sys.excepthook = old_excepthook
</pre><p>
N.B. This way does spoil the nice IPython messages in case of errors (because the exception comes out of the separate thread so isn't caught and dealt with in run_code). This is certainly something that could be dealt with in some way.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-24">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:24" class="cnum">
      <a href="5939.html#comment:24">comment:24</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-09-11T22%3A16%3A48%2B01%3A00&amp;precision=second" title="2013-09-11T22:16:48+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
It seems that with IPython 1.1, all the Mantid modules are available in the F3 window. Autocomplete doesn't work though. Still, that's an improvement. It might be related to how I specifically import mantidplot &amp; mantid.simpleapi in mantid_ipython_widget.py rather than executing mantidplotrc.py (I see errors that <tt>'module' object has no attribute '_ScopeInspector_GetFunctionAttributes'</tt>).
</p>

    </div>

              </div>
              <div class="change" id="trac-change-25">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:25" class="cnum">
      <a href="5939.html#comment:25">comment:25</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-09-12T16%3A16%3A15%2B01%3A00&amp;precision=second" title="2013-09-12T16:16:15+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="5939.html" title="enhancement: Replace python interpreter with embedded ipython (closed: fixed)">#5939</a>. Run mantidplotrc on IPython startup.
</p>
<p>
This is in place of importing the individual mantid &amp; mantidplot
modules and means that code completion in the 'F3 script window'
still works.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/e50f99ac739defa0ac019847dbe4bfe26e16bba3" title="e50f99ac739defa0ac019847dbe4bfe26e16bba3">e50f99ac739defa0ac019847dbe4bfe26e16bba3</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-26">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:26" class="cnum">
      <a href="5939.html#comment:26">comment:26</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-09-12T19%3A13%3A55%2B01%3A00&amp;precision=second" title="2013-09-12T19:13:55+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="5939.html" title="enhancement: Replace python interpreter with embedded ipython (closed: fixed)">#5939</a>. Better way of constructing the path to mantidplotrc.py
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/57233c39762c5561da67f98de59662ac581abe84" title="57233c39762c5561da67f98de59662ac581abe84">57233c39762c5561da67f98de59662ac581abe84</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-27">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:27" class="cnum">
      <a href="5939.html#comment:27">comment:27</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-09-12T19%3A13%3A55%2B01%3A00&amp;precision=second" title="2013-09-12T19:13:55+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="5939.html" title="enhancement: Replace python interpreter with embedded ipython (closed: fixed)">#5939</a>. Make sure any local IPython is picked up first.
</p>
<p>
Before a system installed one.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/337347cbff36a4bdac217844fee7d02aadb6ebf2" title="337347cbff36a4bdac217844fee7d02aadb6ebf2">337347cbff36a4bdac217844fee7d02aadb6ebf2</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-28">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:28" class="cnum">
      <a href="5939.html#comment:28">comment:28</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-09-12T19%3A25%3A56%2B01%3A00&amp;precision=second" title="2013-09-12T19:25:56+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
I've tested this, using the change to IPython in <a href="5939.html#comment:23" title="Comment 23 for Ticket #5939">comment:23</a>, on RHEL6, OS X 10.8 &amp; Windows and in all cases things appear to be working very nicely.
</p>
<p>
On Windows, I had to mess with the manifest of libzmq as follows to make it importable:
</p>
<blockquote>
<p>
mt.exe -inputresource:python27.dll;#2 -outputresource:Lib\site-packages\zmq\libzmq.pyd;#2
</p>
</blockquote>
<p>
This is after downloading the lastest version. Thankfully that was the only one I had to change (it was many more last time).
</p>

    </div>

              </div>
              <div class="change" id="trac-change-29">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:29" class="cnum">
      <a href="5939.html#comment:29">comment:29</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-09-13T20%3A49%3A01%2B01%3A00&amp;precision=second" title="2013-09-13T20:49:01+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="5939.html" title="enhancement: Replace python interpreter with embedded ipython (closed: fixed)">#5939</a>. Add a mechanism to avoid blocking MantidPlot while running.
</p>
<p>
We replace the IPython method that actually executes the entered code
with one that then calls the original one on a separate thread so that
we can continue to process GUI events while the command runs.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/acb618cdd6a74e5169fd90535bb15fead60b096c" title="acb618cdd6a74e5169fd90535bb15fead60b096c">acb618cdd6a74e5169fd90535bb15fead60b096c</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-30">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:30" class="cnum">
      <a href="5939.html#comment:30">comment:30</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-09-16T15%3A29%3A58%2B01%3A00&amp;precision=second" title="2013-09-16T15:29:58+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocked By</strong>
        <em>7950</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-31">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:31" class="cnum">
      <a href="5939.html#comment:31">comment:31</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-09-18T21%3A36%3A12%2B01%3A00&amp;precision=second" title="2013-09-18T21:36:12+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocked By</strong>
        <em>7980</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-32">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:32" class="cnum">
      <a href="5939.html#comment:32">comment:32</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-09-18T21%3A43%3A16%2B01%3A00&amp;precision=second" title="2013-09-18T21:43:16+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocked By</strong>
        <em>7981</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-33">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:33" class="cnum">
      <a href="5939.html#comment:33">comment:33</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-09-23T20%3A10%3A42%2B01%3A00&amp;precision=second" title="2013-09-23T20:10:42+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocked By</strong>
        <em>8006</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-34">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:34" class="cnum">
      <a href="5939.html#comment:34">comment:34</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-09-24T21%3A36%3A53%2B01%3A00&amp;precision=second" title="2013-09-24T21:36:53+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocked By</strong>
        <em>8018</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-35">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:35" class="cnum">
      <a href="5939.html#comment:35">comment:35</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-04T21%3A02%3A37%2B01%3A00&amp;precision=second" title="2013-10-04T21:02:37+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="5939.html" title="enhancement: Replace python interpreter with embedded ipython (closed: fixed)">#5939</a>. Remove existing ipython console launch mechanism.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/f12945978c0479910dbf202ebb891bad50bb127a" title="f12945978c0479910dbf202ebb891bad50bb127a">f12945978c0479910dbf202ebb891bad50bb127a</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-36">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:36" class="cnum">
      <a href="5939.html#comment:36">comment:36</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-04T21%3A02%3A37%2B01%3A00&amp;precision=second" title="2013-10-04T21:02:37+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="5939.html" title="enhancement: Replace python interpreter with embedded ipython (closed: fixed)">#5939</a>. Remove usage of existing script interpreter.
</p>
<p>
Have left the QTextEdit (that was previously only used temporarily)
as a placeholder.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/5ee3ec30e00a34d84ddc89d5af711c4da43f07b5" title="5ee3ec30e00a34d84ddc89d5af711c4da43f07b5">5ee3ec30e00a34d84ddc89d5af711c4da43f07b5</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-37">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:37" class="cnum">
      <a href="5939.html#comment:37">comment:37</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-04T21%3A02%3A38%2B01%3A00&amp;precision=second" title="2013-10-04T21:02:38+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="5939.html" title="enhancement: Replace python interpreter with embedded ipython (closed: fixed)">#5939</a>. Remove existing script interpreter class.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/10c88e75faf1e98585d60065a0f8a0fdff340dd5" title="10c88e75faf1e98585d60065a0f8a0fdff340dd5">10c88e75faf1e98585d60065a0f8a0fdff340dd5</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-38">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:38" class="cnum">
      <a href="5939.html#comment:38">comment:38</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-04T21%3A02%3A38%2B01%3A00&amp;precision=second" title="2013-10-04T21:02:38+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="5939.html" title="enhancement: Replace python interpreter with embedded ipython (closed: fixed)">#5939</a>. Add an IPython console as the script interpreter.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/f73e29671cd30402475c62262da1f39c2cbfee63" title="f73e29671cd30402475c62262da1f39c2cbfee63">f73e29671cd30402475c62262da1f39c2cbfee63</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-39">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:39" class="cnum">
      <a href="5939.html#comment:39">comment:39</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-04T21%3A02%3A38%2B01%3A00&amp;precision=second" title="2013-10-04T21:02:38+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="5939.html" title="enhancement: Replace python interpreter with embedded ipython (closed: fixed)">#5939</a>. Run mantidplotrc on IPython startup.
</p>
<p>
This is in place of importing the individual mantid &amp; mantidplot
modules and means that code completion in the 'F3 script window'
still works.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/abcea42457e9020f92d9399d1023e1744ff713aa" title="abcea42457e9020f92d9399d1023e1744ff713aa">abcea42457e9020f92d9399d1023e1744ff713aa</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-40">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:40" class="cnum">
      <a href="5939.html#comment:40">comment:40</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-04T21%3A02%3A38%2B01%3A00&amp;precision=second" title="2013-10-04T21:02:38+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="5939.html" title="enhancement: Replace python interpreter with embedded ipython (closed: fixed)">#5939</a>. Better way of constructing the path to mantidplotrc.py
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/e5123796c09ffb18d7fc0986383080d11fa78492" title="e5123796c09ffb18d7fc0986383080d11fa78492">e5123796c09ffb18d7fc0986383080d11fa78492</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-41">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:41" class="cnum">
      <a href="5939.html#comment:41">comment:41</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-04T21%3A02%3A38%2B01%3A00&amp;precision=second" title="2013-10-04T21:02:38+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="5939.html" title="enhancement: Replace python interpreter with embedded ipython (closed: fixed)">#5939</a>. Make sure any local IPython is picked up first.
</p>
<p>
Before a system installed one.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/4923824b0090050c4f1919c53f66913384c9219b" title="4923824b0090050c4f1919c53f66913384c9219b">4923824b0090050c4f1919c53f66913384c9219b</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-42">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:42" class="cnum">
      <a href="5939.html#comment:42">comment:42</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-04T21%3A02%3A38%2B01%3A00&amp;precision=second" title="2013-10-04T21:02:38+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="5939.html" title="enhancement: Replace python interpreter with embedded ipython (closed: fixed)">#5939</a>. Add a mechanism to avoid blocking MantidPlot while running.
</p>
<p>
We replace the IPython method that actually executes the entered code
with one that then calls the original one on a separate thread so that
we can continue to process GUI events while the command runs.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/a92a0fb5c6efd755481204d21e9bd555811d3ff4" title="a92a0fb5c6efd755481204d21e9bd555811d3ff4">a92a0fb5c6efd755481204d21e9bd555811d3ff4</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-43">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:43" class="cnum">
      <a href="5939.html#comment:43">comment:43</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-14T15%3A22%3A08%2B01%3A00&amp;precision=second" title="2013-10-14T15:22:08+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Keywords</strong>
        <em>IPython</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-44">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:44" class="cnum">
      <a href="5939.html#comment:44">comment:44</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-15T20%3A30%3A24%2B01%3A00&amp;precision=second" title="2013-10-15T20:30:24+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="5939.html" title="enhancement: Replace python interpreter with embedded ipython (closed: fixed)">#5939</a>. Add IPython 1.1 to list of dependent rpms.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/f8f57896c4ba3966edb853d27e560f4454507c87" title="f8f57896c4ba3966edb853d27e560f4454507c87">f8f57896c4ba3966edb853d27e560f4454507c87</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-45">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:45" class="cnum">
      <a href="5939.html#comment:45">comment:45</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-15T21%3A42%3A40%2B01%3A00&amp;precision=second" title="2013-10-15T21:42:40+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="5939.html" title="enhancement: Replace python interpreter with embedded ipython (closed: fixed)">#5939</a>. Try to fix test that's failing in some places.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/55f7f256ad67871aa40968e47ad4650db71b9da6" title="55f7f256ad67871aa40968e47ad4650db71b9da6">55f7f256ad67871aa40968e47ad4650db71b9da6</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-46">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:46" class="cnum">
      <a href="5939.html#comment:46">comment:46</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-16T21%3A36%3A49%2B01%3A00&amp;precision=second" title="2013-10-16T21:36:49+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="5939.html" title="enhancement: Replace python interpreter with embedded ipython (closed: fixed)">#5939</a>. English corrections in docstring.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/4f17cd9e5034eb6ce98deb6e0090f5f3d2953127" title="4f17cd9e5034eb6ce98deb6e0090f5f3d2953127">4f17cd9e5034eb6ce98deb6e0090f5f3d2953127</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-47">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:47" class="cnum">
      <a href="5939.html#comment:47">comment:47</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-17T19%3A32%3A41%2B01%3A00&amp;precision=second" title="2013-10-17T19:32:41+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocked By</strong>
        <em>7981</em> removed
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Removing the ticket for creating Ubuntu packages as this needs to get into master.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-48">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:48" class="cnum">
      <a href="5939.html#comment:48">comment:48</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-17T19%3A47%3A28%2B01%3A00&amp;precision=second" title="2013-10-17T19:47:28+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>inprogress</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
<strong>Tester</strong>: Branch is feature/5939_ipython_interpreter
</p>
<p>
If you are on RHEL6, be sure to <tt>yum install python-ipython</tt> if you haven't already. If on Ubuntu, you'll need to <tt>easy_install ipython</tt>. For Mac &amp; Windows it's in Third_Party and will be copied to the right place.
</p>
<p>
To test, just make sure that the IPython console starts up correctly in MantidPlot and have a bit of a play to check that things are working. Check also that the 'other' (F3) python window works as before.
</p>
<p>
Hopefully, this will get a good shake-down by people using it in the run-up to the release. This is why I've decided I can wait no longer for the proper Ubuntu packages to be there - I really wanted to get this in a long time before now. The implication is that, until the deb packages are there, anyone using the nightly build on Ubuntu (and I expect this is between zero and very few people) will have to easy_install the latest IPython or go without the script interpreter.
</p>
<p>
Note that there's a known issue with tab-completion not working very well for some MantidPlot objects (see <a class="closed ticket" href="4311.html" title="defect: Python interpreter: no auto-complete for some qtiplot types (closed: fixed)">#4311</a>).
</p>

    </div>

              </div>
              <div class="change" id="trac-change-49">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:49" class="cnum">
      <a href="5939.html#comment:49">comment:49</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-18T17%3A29%3A51%2B01%3A00&amp;precision=second" title="2013-10-18T17:29:51+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>reopened</em>
    </li><li>
      <strong>Resolution</strong>
        <em>fixed</em> deleted
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
It seems that we need to solve an issue with loading the MSVC runtime on Windows.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-50">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:50" class="cnum">
      <a href="5939.html#comment:50">comment:50</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-22T15%3A38%3A01%2B01%3A00&amp;precision=second" title="2013-10-22T15:38:01+01:00 in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocked By</strong>
        <em>8179</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-51">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:51" class="cnum">
      <a href="5939.html#comment:51">comment:51</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-22T15%3A42%3A35%2B01%3A00&amp;precision=second" title="2013-10-22T15:42:35+01:00 in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocked By</strong>
        <em>8179</em> removed
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
(In <a class="closed ticket" href="8179.html" title="defect: Windows: MantidPlot + IPython won't load if msvcr90.dll is in the path (closed: fixed)">#8179</a>) All of the changes here happened in the third party repositories so there is no actual code to merge.
</p>
<p>
Tester: Requires Windows with a copy of something that has MSVCR90.dll in the PATH. I suggest an ISIS machine that has exceed installed. This is how the problem was originally found. Make sure you run fetch_Third_Party.bat to bring down the latest changes and then do
</p>
<p>
git fetch -p
git checkout master
git reset --hard origin/master
</p>
<p>
in your main code directory. Now check that MantidPlot starts without error and that you can use the IPython interpreter (F4).
</p>

    </div>

              </div>
              <div class="change" id="trac-change-52">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:52" class="cnum">
      <a href="5939.html#comment:52">comment:52</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-22T15%3A44%3A52%2B01%3A00&amp;precision=second" title="2013-10-22T15:44:52+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>reopened</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
<a class="closed ticket" href="8179.html" title="defect: Windows: MantidPlot + IPython won't load if msvcr90.dll is in the path (closed: fixed)">#8179</a> should have resolved the windows issue. Still no Ubuntu packages yet unfortunately.
</p>

    </div>

                <div class="trac-lastedit ">
                  Last edited <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-22T17%3A34%3A50%2B01%3A00&amp;precision=second" title="2013-10-22T17:34:50+01:00 in Timeline">7 years</a> ago
                      by Russell Taylor
                    (<a href="https://trac.mantidproject.org/mantid/ticket/5939?cversion=0&amp;cnum_hist=52#comment:52">previous</a>)
                    (<a href="https://trac.mantidproject.org/mantid/ticket/5939?action=comment-diff&amp;cnum=52&amp;version=1">diff</a>)
                </div>
              </div>
              <div class="change" id="trac-change-53">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:53" class="cnum">
      <a href="5939.html#comment:53">comment:53</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-23T10%3A04%3A17%2B01%3A00&amp;precision=second" title="2013-10-23T10:04:17+01:00 in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li><li>
      <strong>Tester</strong>
        set to <em>Martyn Gigg</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-54">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:54" class="cnum">
      <a href="5939.html#comment:54">comment:54</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-23T10%3A44%3A41%2B01%3A00&amp;precision=second" title="2013-10-23T10:44:41+01:00 in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
    <div class="comment searchable">
      
      <p>
Tried on all 3 platforms and things look good.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-55">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:55" class="cnum">
      <a href="5939.html#comment:55">comment:55</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-23T10%3A45%3A15%2B01%3A00&amp;precision=second" title="2013-10-23T10:45:15+01:00 in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>closed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Merge remote-tracking branch 'origin/feature/5939_ipython_interpreter'
</p>
<p>
Full changeset: <a class="ext-link" href="https://github.com/mantidproject/mantid/commit/e8ad18f9b7da761024eaaa35a76c947525dc82f4"><span class="icon">​</span>e8ad18f9b7da761024eaaa35a76c947525dc82f4</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-56">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:56" class="cnum">
      <a href="5939.html#comment:56">comment:56</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T00%3A53%3A14%2B01%3A00&amp;precision=second" title="2015-06-04T00:53:14+01:00 in Timeline">5 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
This ticket has been transferred to github issue <a class="ext-link" href="http://github.com/mantidproject/mantid/issues/6785"><span class="icon">​</span>6785</a>
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/5939?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/5939?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/5939?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.5</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
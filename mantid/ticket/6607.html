<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      #6607 (Eliminate the use of LoadIsawPeaks and SaveIsawPeaks in SCDCalibratePanels)
     – Mantid Project
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="6606.html" title="Ticket #6606" />
        <link rel="last" href="11888.html" title="Ticket #11888" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/6607?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/6607?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/6607?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="6608.html" title="Ticket #6608" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mantid Project" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="a82fe30e7bef2e30fd2838e9";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/mantid/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 6607, escape_newlines: 0}
        $("#comment").autoPreview("/mantid/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/mantid/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.mantidproject.org/"><img src="../chrome/site/mantid_logo_with_name.png" alt="Mantid Logo" width="250" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://trac.mantidproject.org/mantid/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="6606.html" title="Ticket #6606">Previous Ticket</a></span></li><li class="last"><span><a class="next" href="6608.html" title="Ticket #6608">Next Ticket</a> &rarr;</span></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="6607.html">Ticket #6607</a>
          <span class="status">(closed: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-02-22T13%3A38%3A42Z&amp;precision=second" title="2013-02-22T13:38:42Z in Timeline">8 years</a> ago</p>
    <p>Last modified <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T01%3A20%3A52%2B01%3A00&amp;precision=second" title="2015-06-04T01:20:52+01:00 in Timeline">5 years</a> ago</p>
  </div>
  <h2 class="summary searchable">Eliminate the use of LoadIsawPeaks and SaveIsawPeaks in SCDCalibratePanels</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;reporter=Ruth+Mikkelson">Ruth Mikkelson</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;owner=Ruth+Mikkelson">Ruth Mikkelson</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;priority=minor">minor</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="../milestone/Release&#32;2.5.html">Release 2.5</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;component=Mantid">Mantid</a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby"><span></span></td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking"><span></span></td>
        <th id="h_tester">
          Tester:
        </th>
        <td headers="h_tester">
              Dereck Kachere
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
    </h3>
    <div class="searchable">
      <p>
In Topaz, the saveIsawPeaks algorithm saves All the panels to the DetCal file, even the ones( about half) that do not exist yet.
</p>
<p>
The LoadIsawPeaks algorithm takes too long because of all the unused panels.  The SCDAlgorithm has access to the base instrument so there is no need to use the LoadInstrument Algorithm.
</p>

    </div>
  </div>
</div>
          
    <div id="attachments">
        <h2 class="foldable">Attachments</h2>
        <div>
          <dl class="attachments">
              <dt>
    <a href="../attachment/ticket/6607/Fit.integrate.html" title="View attachment">Fit.integrate</a><a href="../raw-attachment/ticket/6607/Fit.integrate" class="trac-rawlink" title="Download">​</a>
       (<span title="999058 bytes">975.6 KB</span>) -
      added by <em>Ruth Mikkelson</em> <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-03-05T18%3A14%3A26Z&amp;precision=second" title="2013-03-05T18:14:26Z in Timeline">8 years</a> ago.
  </dt>
              <dd>
                Test Peaks File
              </dd>
              <dt>
    <a href="../attachment/ticket/6607/Fit.mat.html" title="View attachment">Fit.mat</a><a href="../raw-attachment/ticket/6607/Fit.mat" class="trac-rawlink" title="Download">​</a>
       (<span title="564 bytes">564 bytes</span>) -
      added by <em>Ruth Mikkelson</em> <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-03-05T18%3A15%3A08Z&amp;precision=second" title="2013-03-05T18:15:08Z in Timeline">8 years</a> ago.
  </dt>
              <dd>
                Crystal Orientation file( ISAW Format)
              </dd>
          </dl>
          
        </div>
    </div>

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="6607.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-02-22T13%3A39%3A04Z&amp;precision=second" title="2013-02-22T13:39:04Z in Timeline">8 years</a> ago by Ruth Mikkelson
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Owner</strong>
        set to <em>Ruth Mikkelson</em>
    </li><li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>accepted</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="6607.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-02-22T17%3A20%3A16Z&amp;precision=second" title="2013-02-22T17:20:16Z in Timeline">8 years</a> ago by Ruth Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="6607.html" title="enhancement: Eliminate the use of LoadIsawPeaks and SaveIsawPeaks in SCDCalibratePanels (closed: fixed)">#6607</a>  Replace Save and LoadIsawPeaks algorithms
</p>
<p>
Refs <a class="closed ticket" href="6086.html" title="enhancement: Trivial changes for Release 2.4 (closed: fixed)">#6086</a>  Changed some Wiki documentation 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/91df656aefd0e87df034e0d360c2c11b4943edf5" title="91df656aefd0e87df034e0d360c2c11b4943edf5">91df656aefd0e87df034e0d360c2c11b4943edf5</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="6607.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-02-22T18%3A01%3A30Z&amp;precision=second" title="2013-02-22T18:01:30Z in Timeline">8 years</a> ago by Ruth Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="6607.html" title="enhancement: Eliminate the use of LoadIsawPeaks and SaveIsawPeaks in SCDCalibratePanels (closed: fixed)">#6607</a>  Eliminated compiler warning on snowleopard(I hope) 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/67bd39ae6506a89570595bec671a799842cd015b" title="67bd39ae6506a89570595bec671a799842cd015b">67bd39ae6506a89570595bec671a799842cd015b</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change">
                <h3 class="change">
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-03-05T18%3A14%3A26Z&amp;precision=second" title="2013-03-05T18:14:26Z in Timeline">8 years</a> ago by Ruth Mikkelson
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Attachment</strong>
        <a href="../attachment/ticket/6607/Fit.integrate.html"><em>Fit.integrate</em></a><a href="../raw-attachment/ticket/6607/Fit.integrate" title="Download" class="trac-rawlink">​</a>
          added
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Test Peaks File
</p>

    </div>

              </div>
              <div class="change">
                <h3 class="change">
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-03-05T18%3A15%3A08Z&amp;precision=second" title="2013-03-05T18:15:08Z in Timeline">8 years</a> ago by Ruth Mikkelson
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Attachment</strong>
        <a href="../attachment/ticket/6607/Fit.mat.html"><em>Fit.mat</em></a><a href="../raw-attachment/ticket/6607/Fit.mat" title="Download" class="trac-rawlink">​</a>
          added
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Crystal Orientation file( ISAW Format)
</p>

    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="6607.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-03-05T18%3A29%3A36Z&amp;precision=second" title="2013-03-05T18:29:36Z in Timeline">8 years</a> ago by Ruth Mikkelson
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>accepted</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
The changes have already been merged into master. Technical difficulties caused problems in closing this ticket last week.
</p>
<p>
Also, last week loading an ISAW DetCal file for TOPAZ runs above 6300 took 20 sec. That is no longer the case this week. The SaveISAWDetCal algorithm also, this week, does not include a lot of non-existent detectors.
</p>
<p>
Attached are two files to use for testing. You will have to use LoadIsawPeaks to load the peaks file, then LoadIsawUB to load the mat file.  Then IndexPeaks to index the peaks.  
</p>
<p>
Run SCDCalibratePanels with inputs of Peaks,OnePanelPerGroup,abc_alpha..=4.785,4.785,12.991,90,90,120.
Check all boxes and set tolerance=.12. The Filenames are where the results go. The rest of the options can be defaults, though it should be run a second time with preprocessInstrument=B)Apply a ISAW DetCal file.  The name of this DetCal file is the result from the first run.  
</p>
<p>
If you are working in MantidPlot, debug mode can be enabled.  You will get a lot of output.
 
</p>

    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="6607.html#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-03-08T16%3A16%3A12Z&amp;precision=second" title="2013-03-08T16:16:12Z in Timeline">8 years</a> ago by Dereck Kachere
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li><li>
      <strong>Tester</strong>
        set to <em>Dereck Kachere</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="6607.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-03-08T17%3A20%3A57Z&amp;precision=second" title="2013-03-08T17:20:57Z in Timeline">8 years</a> ago by Dereck Kachere
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>closed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Followed the testing instructions. There is indeed no need to use the LoadInstrument algorithm.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="6607.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T01%3A20%3A52%2B01%3A00&amp;precision=second" title="2015-06-04T01:20:52+01:00 in Timeline">5 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
This ticket has been transferred to github issue <a class="ext-link" href="http://github.com/mantidproject/mantid/issues/7453"><span class="icon">​</span>7453</a>
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/6607?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/6607?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/6607?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.5</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
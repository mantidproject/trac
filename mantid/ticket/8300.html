<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      #8300 (Filtering Logs between times)
     – Mantid Project
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="8299.html" title="Ticket #8299" />
        <link rel="last" href="11888.html" title="Ticket #11888" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/8300?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/8300?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/8300?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="8301.html" title="Ticket #8301" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mantid Project" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="a82fe30e7bef2e30fd2838e9";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/mantid/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 8300, escape_newlines: 0}
        $("#comment").autoPreview("/mantid/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/mantid/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.mantidproject.org/"><img src="../chrome/site/mantid_logo_with_name.png" alt="Mantid Logo" width="250" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://trac.mantidproject.org/mantid/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="8299.html" title="Ticket #8299">Previous Ticket</a></span></li><li class="last"><span><a class="next" href="8301.html" title="Ticket #8301">Next Ticket</a> &rarr;</span></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="8300.html">Ticket #8300</a>
          <span class="status">(closed: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-30T12%3A39%3A55Z&amp;precision=second" title="2013-10-30T12:39:55Z in Timeline">7 years</a> ago</p>
    <p>Last modified <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T02%3A31%3A03%2B01%3A00&amp;precision=second" title="2015-06-04T02:31:03+01:00 in Timeline">5 years</a> ago</p>
  </div>
  <h2 class="summary searchable">Filtering Logs between times</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;reporter=Owen+Arnold">Owen Arnold</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;owner=Owen+Arnold">Owen Arnold</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;priority=critical">critical</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="../milestone/Release&#32;3.1.html">Release 3.1</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;component=Diffraction">Diffraction</a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby"><span></span></td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking"><span></span></td>
        <th id="h_tester">
          Tester:
        </th>
        <td headers="h_tester">
              Wenduo Zhou
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
      <span class="lastmod" title="2013-11-05 13:49:17.185453+00:00">
        (last modified by Owen Arnold)
        (<a href="https://trac.mantidproject.org/mantid/ticket/8300?action=diff&amp;version=6">diff</a>)
      </span>
    </h3>
    <div class="searchable">
      <p>
This is currently not possible for the end user. The following should provide the basis of an algorithm that would do it for us. In addition, It should be possible to:
</p>
<ul><li>Choose to filter keep only the selected interval
</li><li>Choose to apply mean, median, max ... functions to the output.
</li></ul>
    </div>
  </div>
</div>
          
    <div id="attachments">
        <h2 class="foldable">Attachments</h2>
        <div>
          <dl class="attachments">
              <dt>
    <a href="../attachment/ticket/8300/Filtering.py.html" title="View attachment">Filtering.py</a><a href="../raw-attachment/ticket/8300/Filtering.py" class="trac-rawlink" title="Download">​</a>
       (<span title="689 bytes">689 bytes</span>) -
      added by <em>Owen Arnold</em> <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-30T12%3A40%3A13Z&amp;precision=second" title="2013-10-30T12:40:13Z in Timeline">7 years</a> ago.
  </dt>
          </dl>
          
        </div>
    </div>

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change">
                <h3 class="change">
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-30T12%3A40%3A13Z&amp;precision=second" title="2013-10-30T12:40:13Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Attachment</strong>
        <a href="../attachment/ticket/8300/Filtering.py.html"><em>Filtering.py</em></a><a href="../raw-attachment/ticket/8300/Filtering.py" title="Download" class="trac-rawlink">​</a>
          added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="8300.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-30T14%3A55%3A57Z&amp;precision=second" title="2013-10-30T14:55:57Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
Updated Filtering example. Much better than previously attached example.
</p>
<div class="code"><pre><span class="kn">from</span> <span class="nn">mantid.kernel</span> <span class="kn">import</span> DateAndTime
mtd<span class="o">.</span>importAll<span class="p">()</span>
ws <span class="o">=</span> WISH00026110

<span class="k">def</span> <span class="nf">meanWithinRange</span><span class="p">(</span>logname<span class="p">,</span> starttime<span class="o">=</span><span class="bp">None</span><span class="p">,</span> endtime<span class="o">=</span><span class="bp">None</span><span class="p">,</span> operation<span class="o">=</span><span class="s">"mean"</span><span class="p">,</span> inside <span class="o">=</span> <span class="bp">True</span><span class="p">):</span>
        run <span class="o">=</span> ws<span class="o">.</span>getRun<span class="p">()</span>
        tstart <span class="o">=</span> run<span class="o">.</span>startTime<span class="p">()</span>
        tend <span class="o">=</span> run<span class="o">.</span>endTime<span class="p">()</span>
        <span class="k">if</span> starttime<span class="p">:</span>
                tstart <span class="o">=</span> tstart <span class="o">+</span> <span class="p">(</span>starttime <span class="o">*</span> <span class="nb">int</span><span class="p">(</span><span class="mf">1e9</span><span class="p">))</span>
        <span class="k">if</span>  endtime<span class="p">:</span>
                tend <span class="o">=</span> run<span class="o">.</span>startTime<span class="p">()</span> <span class="o">+</span> <span class="p">(</span>endtime <span class="o">*</span> <span class="nb">int</span><span class="p">(</span><span class="mf">1e9</span><span class="p">))</span>
        temperature <span class="o">=</span> run<span class="o">.</span>getLogData<span class="p">(</span>logname<span class="p">)</span>
        times <span class="o">=</span> numpy<span class="o">.</span>array<span class="p">(</span>temperature<span class="o">.</span>times<span class="p">)</span>
        values <span class="o">=</span> numpy<span class="o">.</span>array<span class="p">(</span>temperature<span class="o">.</span>value<span class="p">)</span>
        <span class="k">if</span> inside<span class="p">:</span>
                mask <span class="o">=</span> <span class="p">(</span>tstart <span class="o">&lt;</span> times<span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span>times <span class="o">&lt;</span> tend<span class="p">)</span> <span class="c"># Get times between filter start and end.</span>
        <span class="k">else</span><span class="p">:</span>
                mask <span class="o">=</span> <span class="p">(</span>tstart <span class="o">&gt;</span> times<span class="p">)</span> <span class="o">|</span> <span class="p">(</span>times <span class="o">&gt;</span> tend<span class="p">)</span>
        method <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span>numpy<span class="p">,</span> operation<span class="p">)</span>
        <span class="k">return</span> method<span class="p">(</span>values<span class="p">[</span>mask<span class="p">])</span>
        

<span class="sd">''' Gets mean from logs from start of run till end of run. '''</span>
logname <span class="o">=</span> <span class="s">'Sample_Temp'</span>
<span class="k">print</span> meanWithinRange<span class="p">(</span>logname<span class="p">)</span>

<span class="sd">''' Gets mean from logs from specified start till end of run. '''</span>
starttime <span class="o">=</span>  <span class="o">-</span><span class="mi">10000</span> <span class="c"># seconds since the start of the run. Also accepts negative values</span>
endtime <span class="o">=</span> <span class="bp">None</span> <span class="c"># Defaults to the end of the run.</span>
logname <span class="o">=</span> <span class="s">'Sample_Temp'</span>
<span class="k">print</span> meanWithinRange<span class="p">(</span>logname<span class="p">,</span> starttime<span class="o">=</span>starttime<span class="p">,</span> endtime<span class="o">=</span>endtime<span class="p">,</span> operation<span class="o">=</span><span class="s">"max"</span><span class="p">,</span> inside<span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="8300.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-05T13%3A38%3A34Z&amp;precision=second" title="2013-11-05T13:38:34Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>inprogress</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8300.html" title="enhancement: Filtering Logs between times (closed: fixed)">#8300</a>. Filtering algorithm made.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/f2608d03a389004bc80997569d73ec6e559ef7e7" title="f2608d03a389004bc80997569d73ec6e559ef7e7">f2608d03a389004bc80997569d73ec6e559ef7e7</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="8300.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-05T13%3A38%3A34Z&amp;precision=second" title="2013-11-05T13:38:34Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8300.html" title="enhancement: Filtering Logs between times (closed: fixed)">#8300</a>. Add Start and End time filtering.
</p>
<p>
Unit tested too.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/b95d71755442b815010fa526d3df4c806d11b891" title="b95d71755442b815010fa526d3df4c806d11b891">b95d71755442b815010fa526d3df4c806d11b891</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="8300.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-05T13%3A38%3A34Z&amp;precision=second" title="2013-11-05T13:38:34Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8300.html" title="enhancement: Filtering Logs between times (closed: fixed)">#8300</a>. Add statistical methods.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/f0a699bf01ea3a9ca3a5f6a79ce39a3636f4844c" title="f0a699bf01ea3a9ca3a5f6a79ce39a3636f4844c">f0a699bf01ea3a9ca3a5f6a79ce39a3636f4844c</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="8300.html#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-05T13%3A38%3A34Z&amp;precision=second" title="2013-11-05T13:38:34Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8300.html" title="enhancement: Filtering Logs between times (closed: fixed)">#8300</a>. Add wiki documentation.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/b51084e88e51889fe5ae47100ce44c4f505b87a2" title="b51084e88e51889fe5ae47100ce44c4f505b87a2">b51084e88e51889fe5ae47100ce44c4f505b87a2</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="8300.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-05T13%3A49%3A17Z&amp;precision=second" title="2013-11-05T13:49:17Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Description</strong>
        modified (<a href="https://trac.mantidproject.org/mantid/ticket/8300?action=diff&amp;version=6">diff</a>)
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="8300.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-05T13%3A52%3A24Z&amp;precision=second" title="2013-11-05T13:52:24Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>inprogress</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Tester. The unit tests show this working. You should however do the following.
</p>
<ul><li>Load ARGUS0026287 out of the AutoTest dir
</li><li>Open MantidPlot and use the algorithm FilterLogByTime 
</li><li>Use the temperature-2-log in association with the algorithm documentation to apply filtering according to this algorithm.
</li></ul>
    </div>

                <div class="trac-lastedit ">
                  Last edited <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-05T13%3A54%3A17Z&amp;precision=second" title="2013-11-05T13:54:17Z in Timeline">7 years</a> ago
                      by Owen Arnold
                    (<a href="https://trac.mantidproject.org/mantid/ticket/8300?cversion=0&amp;cnum_hist=7#comment:7">previous</a>)
                    (<a href="https://trac.mantidproject.org/mantid/ticket/8300?action=comment-diff&amp;cnum=7&amp;version=1">diff</a>)
                </div>
              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="8300.html#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-05T13%3A53%3A22Z&amp;precision=second" title="2013-11-05T13:53:22Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>Backlog</em> to <em>Release 3.1</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="8300.html#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-08T11%3A13%3A01Z&amp;precision=second" title="2013-11-08T11:13:01Z in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li><li>
      <strong>Tester</strong>
        set to <em>Gesner Passos</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="8300.html#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-08T14%3A03%3A47Z&amp;precision=second" title="2013-11-08T14:03:47Z in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>reopened</em>
    </li><li>
      <strong>Resolution</strong>
        <em>fixed</em> deleted
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
This script pass if you uncomment the second line. But, fail as it is. 
</p>
<pre class="wiki">
f, log = '/apps/mantid/systemtests/Data/SANS2D/SANS2D00005547.raw', 'temp2'
#f, log = '/apps/mantid/mantid/Test/AutoTestData/argus0026287.nxs', 'temperature_2_log'

ws = Load(Filename=f)

if isinstance(ws, tuple):
   ws = ws[0]
   
tempfilter,  stat = FilterLogByTime(ws, log )

temps = ws.getRun().getLogData(log).value
print type(temps)
print len(tempfilter)
print len(temps)
assert(len(tempfilter) == len(temps))

</pre><p>
Besides, it is worth pointing out in the documentation that it works only for float numeric series. 
</p>

    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="8300.html#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-12T16%3A25%3A20Z&amp;precision=second" title="2013-11-12T16:25:20Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>reopened</em> to <em>inprogress</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8300.html" title="enhancement: Filtering Logs between times (closed: fixed)">#8300</a>. Make more robust about log type.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/0eac2fe5c8146ccd07b412cebf5fa861cb71a177" title="0eac2fe5c8146ccd07b412cebf5fa861cb71a177">0eac2fe5c8146ccd07b412cebf5fa861cb71a177</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="8300.html#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-12T16%3A27%3A27Z&amp;precision=second" title="2013-11-12T16:27:27Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>inprogress</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
There actually isn't a problem here. The reason that the script above fails is because the run endTime is prior to the last collected log value. Note that if you do not specify StartTime or EndTime the algorithm takes these to be the startTime of the run and the endTime of the run respectively. That is why a single log value is being chopped off the end.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="8300.html#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-12T16%3A36%3A23Z&amp;precision=second" title="2013-11-12T16:36:23Z in Timeline">7 years</a> ago by Wenduo Zhou
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li><li>
      <strong>Tester</strong>
        changed from <em>Gesner Passos</em> to <em>Wenduo Zhou</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-14">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:14" class="cnum">
      <a href="8300.html#comment:14">comment:14</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-15T15%3A38%3A07Z&amp;precision=second" title="2013-11-15T15:38:07Z in Timeline">7 years</a> ago by Wenduo Zhou
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>reopened</em>
    </li><li>
      <strong>Resolution</strong>
        <em>fixed</em> deleted
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
The algorithm works.  But there should be more introduction on 'Method', especially the math on 'mean', 'median', 'mode' and etc. 
</p>

    </div>

              </div>
              <div class="change" id="trac-change-15">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:15" class="cnum">
      <a href="8300.html#comment:15">comment:15</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-15T15%3A58%3A24Z&amp;precision=second" title="2013-11-15T15:58:24Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>reopened</em> to <em>inprogress</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="8300.html" title="enhancement: Filtering Logs between times (closed: fixed)">#8300</a> Documentation for Method property
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/f08b4c237f6b62411518e1ebaafb907eb781e054" title="f08b4c237f6b62411518e1ebaafb907eb781e054">f08b4c237f6b62411518e1ebaafb907eb781e054</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-16">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:16" class="cnum">
      <a href="8300.html#comment:16">comment:16</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-15T16%3A14%3A03Z&amp;precision=second" title="2013-11-15T16:14:03Z in Timeline">7 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>inprogress</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-17">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:17" class="cnum">
      <a href="8300.html#comment:17">comment:17</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-15T16%3A22%3A13Z&amp;precision=second" title="2013-11-15T16:22:13Z in Timeline">7 years</a> ago by Wenduo Zhou
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-18">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:18" class="cnum">
      <a href="8300.html#comment:18">comment:18</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-15T16%3A22%3A46Z&amp;precision=second" title="2013-11-15T16:22:46Z in Timeline">7 years</a> ago by Wenduo Zhou
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>closed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Merge remote-tracking branch 'origin/feature/8300_filter_time'
</p>
<p>
Full changeset: <a class="ext-link" href="https://github.com/mantidproject/mantid/commit/6ddc8b9d349b3dce41a8c1630e3a46c31675e169"><span class="icon">​</span>6ddc8b9d349b3dce41a8c1630e3a46c31675e169</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-19">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:19" class="cnum">
      <a href="8300.html#comment:19">comment:19</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T02%3A31%3A03%2B01%3A00&amp;precision=second" title="2015-06-04T02:31:03+01:00 in Timeline">5 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
This ticket has been transferred to github issue <a class="ext-link" href="http://github.com/mantidproject/mantid/issues/9145"><span class="icon">​</span>9145</a>
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <script type="text/javascript">
        jQuery.loadStyleSheet("/mantid/pygments/trac.css", "text/css");
    </script>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/8300?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/8300?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/8300?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.5</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
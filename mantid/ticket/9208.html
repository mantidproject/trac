<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      #9208 (Have GUI Timeout Instead of Hang When ICAT is Down)
     â€“ Mantid Project
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="9207.html" title="Ticket #9207" />
        <link rel="last" href="11888.html" title="Ticket #11888" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/9208?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/9208?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/9208?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="9209.html" title="Ticket #9209" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mantid Project" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="a82fe30e7bef2e30fd2838e9";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/mantid/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 9208, escape_newlines: 0}
        $("#comment").autoPreview("/mantid/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/mantid/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.mantidproject.org/"><img src="../chrome/site/mantid_logo_with_name.png" alt="Mantid Logo" width="250" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://trac.mantidproject.org/mantid/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="9207.html" title="Ticket #9207">Previous Ticket</a></span></li><li><span><a class="next" href="9209.html" title="Ticket #9209">Next Ticket</a> &rarr;</span></li><li class="last"><a href="../depgraph/9208.html">Depgraph</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="9208.html">Ticket #9208</a>
          <span class="status">(closed: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-03-21T10%3A11%3A01Z&amp;precision=second" title="2014-03-21T10:11:01Z in Timeline">7 years</a> ago</p>
    <p>Last modified <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T03%3A08%3A41%2B01%3A00&amp;precision=second" title="2015-06-04T03:08:41+01:00 in Timeline">5 years</a> ago</p>
  </div>
  <h2 class="summary searchable">Have GUI Timeout Instead of Hang When ICAT is Down</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;reporter=Peter+Parker">Peter Parker</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;owner=Jay+Rainey">Jay Rainey</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;priority=critical">critical</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="../milestone/Release&#32;3.2.html">Release 3.2</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;component=Framework">Framework</a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;keywords=~ICAT">ICAT</a>
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby"><span></span></td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking"><span><a class="inprogress ticket" href="8538.html" title="Add DOI to icat publishing">#8538</a>, <a class="inprogress ticket" href="9186.html" title="Refactor shared catalog functionality to a helper class">#9186</a>, <a class="closed ticket" href="9223.html" title="Filter publish investigations on GUI">#9223</a></span></td>
        <th id="h_tester">
          Tester:
        </th>
        <td headers="h_tester">
              Martyn Gigg
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
    </h3>
    <div class="searchable">
      <p>
Given that ICAT is a remote service which we can't necessarily assume will be available at any given time, it would be good to wrap any calls to the <tt>Catalog*</tt> algorithms from the GUI in their own separate threads, which would then timeout after a certain period of time.  We could specify a sensible default timeout value in Mantid's property file, and maybe even have a timeout property on the algorithms themselves.
</p>
<p>
Currently, if ICAT is not available (due to network problems, service outages or otherwise) then Mantid will hang, and users are forced to lose any unsaved changes since they have to kill the Mantid process and restart to keep on working.
</p>

    </div>
  </div>
</div>
          

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="9208.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-03-24T08%3A57%3A39Z&amp;precision=second" title="2014-03-24T08:57:39Z in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>assigned</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="9208.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-03-27T14%3A34%3A27Z&amp;precision=second" title="2014-03-27T14:34:27Z in Timeline">7 years</a> ago by Jay Rainey
                </h3>
                
    <div class="comment searchable">
      
      <p>
Having discussed this further with Martyn, we agreed on the following solution:
</p>
<ol><li>Move catalog methods from <tt>MantidUI</tt> (e.g. <tt>isValidCatalogLogin</tt> &amp; <tt>catalogPublishDialog</tt>) to <tt>CatalogHelper</tt>.
</li><li>Make use of <tt>CatalogHelper</tt> for the calls in <tt>ApplicationWindow</tt> of the moved methods.
</li><li>Update <tt>executeAsynchronously</tt> in <tt>CatalogHelper</tt> to have a <tt>timeOut</tt> parameter, and make use of it in the implementation.
</li><li>Update <tt>executeAsynchronously</tt>s signature to return a string. This will be an error/success message for the user, e.g. <tt>Execution of algorithm N has timed out, ICAT appears to be down.</tt>
</li><li>Set a <tt>timeout</tt> property in <tt>Mantid.properties.template</tt> (named <tt>Catalog.timeoutValue</tt>) that:
<ul><li>Has a default value of 30.
</li><li>If set to negative value then timeout is set to <tt>0</tt> (e.g. turned off)
</li><li>A comment explaining <em>why</em> the timeout value is needed.
</li></ul></li></ol>
    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="9208.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-03-31T10%3A00%3A50%2B01%3A00&amp;precision=second" title="2014-03-31T10:00:50+01:00 in Timeline">7 years</a> ago by Jay Rainey
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>assigned</em> to <em>inprogress</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Added implementation to new CatalogHelper methods. Refs <a class="closed ticket" href="9208.html" title="enhancement: Have GUI Timeout Instead of Hang When ICAT is Down (closed: fixed)">#9208</a>.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/52e9382434ee181e33dc49c72e01ade3d9ea60d3" title="52e9382434ee181e33dc49c72e01ade3d9ea60d3">52e9382434ee181e33dc49c72e01ade3d9ea60d3</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="9208.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-03-31T10%3A00%3A50%2B01%3A00&amp;precision=second" title="2014-03-31T10:00:50+01:00 in Timeline">7 years</a> ago by Jay Rainey
                </h3>
                
    <div class="comment searchable">
      
      <p>
Call catalogHelper methods and not MantidUI. Refs <a class="closed ticket" href="9208.html" title="enhancement: Have GUI Timeout Instead of Hang When ICAT is Down (closed: fixed)">#9208</a>.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/5adda878e06a8549e1ad703bf24426fb5457a95a" title="5adda878e06a8549e1ad703bf24426fb5457a95a">5adda878e06a8549e1ad703bf24426fb5457a95a</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="9208.html#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-03-31T10%3A00%3A51%2B01%3A00&amp;precision=second" title="2014-03-31T10:00:51+01:00 in Timeline">7 years</a> ago by Jay Rainey
                </h3>
                
    <div class="comment searchable">
      
      <p>
Remove unused methods. Refs <a class="closed ticket" href="9208.html" title="enhancement: Have GUI Timeout Instead of Hang When ICAT is Down (closed: fixed)">#9208</a>.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/4cef12712a255f5a57f3ad07b74552ea217c9b4e" title="4cef12712a255f5a57f3ad07b74552ea217c9b4e">4cef12712a255f5a57f3ad07b74552ea217c9b4e</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="9208.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-03-31T10%3A00%3A51%2B01%3A00&amp;precision=second" title="2014-03-31T10:00:51+01:00 in Timeline">7 years</a> ago by Jay Rainey
                </h3>
                
    <div class="comment searchable">
      
      <p>
Add catalog timeout value to mantid properties. Refs <a class="closed ticket" href="9208.html" title="enhancement: Have GUI Timeout Instead of Hang When ICAT is Down (closed: fixed)">#9208</a>.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/1346fc28ddad8927b1d3fd0677ff1ef0b57df0af" title="1346fc28ddad8927b1d3fd0677ff1ef0b57df0af">1346fc28ddad8927b1d3fd0677ff1ef0b57df0af</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="9208.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-03-31T10%3A00%3A51%2B01%3A00&amp;precision=second" title="2014-03-31T10:00:51+01:00 in Timeline">7 years</a> ago by Jay Rainey
                </h3>
                
    <div class="comment searchable">
      
      <p>
Add timout property to CatalogHelper. Refs <a class="closed ticket" href="9208.html" title="enhancement: Have GUI Timeout Instead of Hang When ICAT is Down (closed: fixed)">#9208</a>.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/2dd4d5c1234e86fcc68405e8694a4fdd571ec387" title="2dd4d5c1234e86fcc68405e8694a4fdd571ec387">2dd4d5c1234e86fcc68405e8694a4fdd571ec387</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="9208.html#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-03-31T10%3A00%3A51%2B01%3A00&amp;precision=second" title="2014-03-31T10:00:51+01:00 in Timeline">7 years</a> ago by Jay Rainey
                </h3>
                
    <div class="comment searchable">
      
      <p>
Display ICAT error on GUI. Refs <a class="closed ticket" href="9208.html" title="enhancement: Have GUI Timeout Instead of Hang When ICAT is Down (closed: fixed)">#9208</a>.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/ce2437c6f3b1d857cdd4a8115755290310a3af11" title="ce2437c6f3b1d857cdd4a8115755290310a3af11">ce2437c6f3b1d857cdd4a8115755290310a3af11</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="9208.html#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-03-31T10%3A00%3A51%2B01%3A00&amp;precision=second" title="2014-03-31T10:00:51+01:00 in Timeline">7 years</a> ago by Jay Rainey
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refactor CatalogPublish. Refs <a class="closed ticket" href="9208.html" title="enhancement: Have GUI Timeout Instead of Hang When ICAT is Down (closed: fixed)">#9208</a>.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/a8c82d7e06fbe32e0700d05366c55323210c0704" title="a8c82d7e06fbe32e0700d05366c55323210c0704">a8c82d7e06fbe32e0700d05366c55323210c0704</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="9208.html#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-03-31T10%3A00%3A52%2B01%3A00&amp;precision=second" title="2014-03-31T10:00:52+01:00 in Timeline">7 years</a> ago by Jay Rainey
                </h3>
                
    <div class="comment searchable">
      
      <p>
Merge remote-tracking branch 'origin/master' into feature/9208_icat_gui_hang_fix. Refs <a class="closed ticket" href="9208.html" title="enhancement: Have GUI Timeout Instead of Hang When ICAT is Down (closed: fixed)">#9208</a>.
</p>
<p>
Conflicts:
</p>
<ul><li>Code/Mantid/MantidQt/CustomDialogs/inc/MantidQtCustomDialogs/CatalogPublishDialog.h
</li><li>Code/Mantid/MantidQt/CustomDialogs/src/CatalogPublishDialog.cpp
</li></ul><p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/bac2d4cb25a72b6030a337df5b96bb80626af0a0" title="bac2d4cb25a72b6030a337df5b96bb80626af0a0">bac2d4cb25a72b6030a337df5b96bb80626af0a0</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="9208.html#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-03-31T10%3A10%3A33%2B01%3A00&amp;precision=second" title="2014-03-31T10:10:33+01:00 in Timeline">7 years</a> ago by Jay Rainey
                </h3>
                
    <div class="comment searchable">
      
      <p>
Add check to prevent crash. Refs <a class="closed ticket" href="9208.html" title="enhancement: Have GUI Timeout Instead of Hang When ICAT is Down (closed: fixed)">#9208</a>.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/6de07c2e5b5e0d50f4b87d043fed653a92e7c163" title="6de07c2e5b5e0d50f4b87d043fed653a92e7c163">6de07c2e5b5e0d50f4b87d043fed653a92e7c163</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="9208.html#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-03-31T10%3A21%3A22%2B01%3A00&amp;precision=second" title="2014-03-31T10:21:22+01:00 in Timeline">7 years</a> ago by Jay Rainey
                </h3>
                
    <div class="comment searchable">
      
      <p>
Merge branch 'feature/9208_icat_gui_hang_fix' into develop. Refs <a class="closed ticket" href="9208.html" title="enhancement: Have GUI Timeout Instead of Hang When ICAT is Down (closed: fixed)">#9208</a>.
</p>
<p>
Conflicts:
</p>
<ul><li>Code/Mantid/Framework/DataHandling/src/SaveANSTOAscii.cpp
</li><li>Code/Mantid/Framework/PythonInterface/plugins/algorithms/CalibrateRectangularDetectors.py
</li></ul><p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/69d8fa8588e374393f898388c39aa34dbdb13c09" title="69d8fa8588e374393f898388c39aa34dbdb13c09">69d8fa8588e374393f898388c39aa34dbdb13c09</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="9208.html#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-03-31T11%3A36%3A14%2B01%3A00&amp;precision=second" title="2014-03-31T11:36:14+01:00 in Timeline">7 years</a> ago by Jay Rainey
                </h3>
                
    <div class="comment searchable">
      
      <p>
Add windows DLL include. Refs <a class="closed ticket" href="9208.html" title="enhancement: Have GUI Timeout Instead of Hang When ICAT is Down (closed: fixed)">#9208</a>.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/9cd147baa4b2490a9ea7976d7b34947171621302" title="9cd147baa4b2490a9ea7976d7b34947171621302">9cd147baa4b2490a9ea7976d7b34947171621302</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-14">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:14" class="cnum">
      <a href="9208.html#comment:14">comment:14</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-03-31T12%3A08%3A41%2B01%3A00&amp;precision=second" title="2014-03-31T12:08:41+01:00 in Timeline">7 years</a> ago by Jay Rainey
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>inprogress</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Add back multiple facility support. Refs <a class="closed ticket" href="9208.html" title="enhancement: Have GUI Timeout Instead of Hang When ICAT is Down (closed: fixed)">#9208</a>.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/3ff7c488f87ae2fb08699f17660613ebd96de31f" title="3ff7c488f87ae2fb08699f17660613ebd96de31f">3ff7c488f87ae2fb08699f17660613ebd96de31f</a>
</p>

    </div>

                <div class="trac-lastedit ">
                  Last edited <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-04-01T13%3A36%3A50%2B01%3A00&amp;precision=second" title="2014-04-01T13:36:50+01:00 in Timeline">7 years</a> ago
                      by Jay Rainey
                    (<a href="https://trac.mantidproject.org/mantid/ticket/9208?cversion=0&amp;cnum_hist=14#comment:14">previous</a>)
                    (<a href="https://trac.mantidproject.org/mantid/ticket/9208?action=comment-diff&amp;cnum=14&amp;version=1">diff</a>)
                </div>
              </div>
              <div class="change" id="trac-change-15">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:15" class="cnum">
      <a href="9208.html#comment:15">comment:15</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-04-01T13%3A36%3A29%2B01%3A00&amp;precision=second" title="2014-04-01T13:36:29+01:00 in Timeline">7 years</a> ago by Jay Rainey
                </h3>
                
    <div class="comment searchable">
      
      <h2 id="Totest">To test</h2>
<p>
You need to verify that all the catalog algorithms are now in separate threads, and no longer hang Mantid when they are performed without a network connection. Below are some examples that should be tested before (to verify the hang occurred) and after (to verify I have fixed it):
</p>
<h3 id="Verifyreachableend-point">Verify reachable end-point</h3>
<ol><li>Turn off your Internet connection.
</li><li>Attempt to log into the catalog (<tt>Catalog</tt> -&gt; <tt>Login</tt>)
</li><li>An error will be thrown: <tt>ICAT appears to be offline. Please check your connection or report this issue.</tt>
</li></ol><h3 id="ExecutealgorithmwithoutInternetconnection">Execute algorithm without Internet connection</h3>
<ol><li>Log into the catalog.
</li><li>Disable your Internet connection.
</li><li>Click <tt>Publish</tt> (it executes <tt>myData</tt>). The error message will be displayed on the GUI.
</li><li>Click <tt>Search</tt>. The same error message will be logged to <tt>Results log</tt>.
</li></ol><h3 id="Verifyunreachableend-point">Verify unreachable end-point</h3>
<p>
The <tt>SNS</tt> end-point is behind a firewall, so is not accessible at ISIS. Previously, if you attempted to log into SNS then Mantid would die. You need to verify that this is no longer the case by:
</p>
<ol><li>Attempt to log into SNS (<tt>Catalog</tt> -&gt; <tt>Login</tt> and select <tt>SNS</tt> as facility)
</li><li>Mantid will now execute the algorithm asynchronously, and after a short period of time (30 seconds), the same error message as above will be thrown.
</li></ol>
    </div>

                <div class="trac-lastedit ">
                  Last edited <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-04-01T13%3A37%3A22%2B01%3A00&amp;precision=second" title="2014-04-01T13:37:22+01:00 in Timeline">7 years</a> ago
                      by Jay Rainey
                    (<a href="https://trac.mantidproject.org/mantid/ticket/9208?cversion=1&amp;cnum_hist=15#comment:15">previous</a>)
                    (<a href="https://trac.mantidproject.org/mantid/ticket/9208?action=comment-diff&amp;cnum=15&amp;version=2">diff</a>)
                </div>
              </div>
              <div class="change" id="trac-change-16">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:16" class="cnum">
      <a href="9208.html#comment:16">comment:16</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-04-02T16%3A51%3A54%2B01%3A00&amp;precision=second" title="2014-04-02T16:51:54+01:00 in Timeline">7 years</a> ago by Jay Rainey
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocking</strong>
        <em>9186, 9223</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-17">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:17" class="cnum">
      <a href="9208.html#comment:17">comment:17</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-04-04T11%3A51%3A50%2B01%3A00&amp;precision=second" title="2014-04-04T11:51:50+01:00 in Timeline">7 years</a> ago by Jay Rainey
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocking</strong>
        <em>8538</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
(In <a class="inprogress ticket" href="8538.html" title="enhancement: Add DOI to icat publishing (inprogress)">#8538</a>) To add DOI generation support for publishing I need to:
</p>
<ol><li>Generate gSoap files against the DOI generator end-point, which are:
<ul><li><tt>https://data4.isis.stfc.ac.uk/doi/DOIService?wsdl</tt> <em> Develop
</em></li><li><tt>https://sig-03.esc.rl.ac.uk:8181/doi/DOIService?wsdl</tt> <em> Production
</em></li></ul></li><li>Add the end-point (dev for now until changes below are made) to <tt>Facilities.xml</tt>.
</li><li>Update <tt>ICatalogInfoService</tt> to include a new method (<tt>generateDOIForDatafile</tt>) that makes use of the gSoap methods above (specifically: <tt>registerDatafileDOI</tt>) and returns the generated DOI (to output on LOG).
</li><li>Add and implement the functionality of the new method above in <tt>ICat4Catalog</tt>.
<ul><li>This includes obtaining the end-point from <tt>Facilities.xml</tt> t oaccomdate other facilities using th
</li></ul></li><li>Add two new properties to <tt>CatalogPublish</tt>:
<ul><li><tt>InvestigationID</tt>, "",`The database row ID of the investigation that you want to publish to. (Note: this is required to generate a DOI.)
</li><li><tt>GenerateDOI</tt>, true, <tt>"Generates a DOI for the datafile being published. Once a DOI is generated the datafile will be made public."</tt>
</li></ul></li><li>Add logic to <tt>exec</tt> in <tt>CatalogPublish</tt> to make use of the properties and call <tt>generateDOIForDatafile</tt> from the catalog. <strong>Note:</strong> if a file fails to upload (e.g. already exists etc...) a DOI <strong>must not</strong> be generated.
</li><li>Update <tt>CatalogPublishDialog</tt> to have a checkbox for <tt>GenerateDOI</tt>. <tt>InvestigationID</tt> will be hidden on the GUI and obtained from the table generated <tt>getPublishInvestigations</tt> (once <a class="closed ticket" href="9223.html" title="enhancement: Filter publish investigations on GUI (closed: fixed)">#9223</a> is complete).
<ul><li>The <tt>generateDOI</tt> (make public) checkbox on the GUI should be checked by default.
</li><li>To prevent users accidentally generating DOIs that they may not have wanted to, a <tt>QMessageBox</tt> should be generated IF the user has checked <tt>generateDOI</tt> to confirm this choice.
</li></ul></li></ol>
    </div>

              </div>
              <div class="change" id="trac-change-18">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:18" class="cnum">
      <a href="9208.html#comment:18">comment:18</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-04-04T13%3A38%3A50%2B01%3A00&amp;precision=second" title="2014-04-04T13:38:50+01:00 in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li><li>
      <strong>Tester</strong>
        set to <em>Martyn Gigg</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-19">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:19" class="cnum">
      <a href="9208.html#comment:19">comment:19</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-04-04T13%3A41%3A43%2B01%3A00&amp;precision=second" title="2014-04-04T13:41:43+01:00 in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>reopened</em>
    </li><li>
      <strong>Resolution</strong>
        <em>fixed</em> deleted
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
So everything seems okay as long as the connection goes down when your not in the middle of a catalog action, e.g search/publish. If you perform a search that takes a while then disconnect , you get a the algorithm stuck without being able to be cancelled.
</p>
<p>
The GUI remains responsive but the search never stops. 
</p>

    </div>

              </div>
              <div class="change" id="trac-change-20">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:20" class="cnum">
      <a href="9208.html#comment:20">comment:20</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-04-04T15%3A07%3A46%2B01%3A00&amp;precision=second" title="2014-04-04T15:07:46+01:00 in Timeline">7 years</a> ago by Jay Rainey
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>reopened</em> to <em>inprogress</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Remove use of atoi. Refs <a class="closed ticket" href="9208.html" title="enhancement: Have GUI Timeout Instead of Hang When ICAT is Down (closed: fixed)">#9208</a>.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/6fb811d646ccb76c8d0de161a58aee1164947f1f" title="6fb811d646ccb76c8d0de161a58aee1164947f1f">6fb811d646ccb76c8d0de161a58aee1164947f1f</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-21">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:21" class="cnum">
      <a href="9208.html#comment:21">comment:21</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-04-04T15%3A07%3A46%2B01%3A00&amp;precision=second" title="2014-04-04T15:07:46+01:00 in Timeline">7 years</a> ago by Jay Rainey
                </h3>
                
    <div class="comment searchable">
      
      <p>
Add timeout to catalog (gSoap) method calls. Refs <a class="closed ticket" href="9208.html" title="enhancement: Have GUI Timeout Instead of Hang When ICAT is Down (closed: fixed)">#9208</a>.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/94a2a7aa26cbb799888194a2186e4d59d7f634d1" title="94a2a7aa26cbb799888194a2186e4d59d7f634d1">94a2a7aa26cbb799888194a2186e4d59d7f634d1</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-22">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:22" class="cnum">
      <a href="9208.html#comment:22">comment:22</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-04-04T15%3A11%3A06%2B01%3A00&amp;precision=second" title="2014-04-04T15:11:06+01:00 in Timeline">7 years</a> ago by Jay Rainey
                </h3>
                
    <div class="comment searchable">
      
      <p>
Merge branch 'feature/9208_icat_gui_hang_fix' into develop
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/ca3714aadab53f83165037c62c905943c6096283" title="ca3714aadab53f83165037c62c905943c6096283">ca3714aadab53f83165037c62c905943c6096283</a>
</p>

    </div>

                <div class="trac-lastedit ">
                  Last edited <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-04-04T15%3A21%3A31%2B01%3A00&amp;precision=second" title="2014-04-04T15:21:31+01:00 in Timeline">7 years</a> ago
                      by Jay Rainey
                    (<a href="https://trac.mantidproject.org/mantid/ticket/9208?cversion=0&amp;cnum_hist=22#comment:22">previous</a>)
                    (<a href="https://trac.mantidproject.org/mantid/ticket/9208?action=comment-diff&amp;cnum=22&amp;version=1">diff</a>)
                </div>
              </div>
              <div class="change" id="trac-change-23">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:23" class="cnum">
      <a href="9208.html#comment:23">comment:23</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-04-04T15%3A22%3A14%2B01%3A00&amp;precision=second" title="2014-04-04T15:22:14+01:00 in Timeline">7 years</a> ago by Jay Rainey
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>inprogress</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-24">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:24" class="cnum">
      <a href="9208.html#comment:24">comment:24</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-04-04T15%3A31%3A58%2B01%3A00&amp;precision=second" title="2014-04-04T15:31:58+01:00 in Timeline">7 years</a> ago by Jay Rainey
                </h3>
                
    <div class="comment searchable">
      
      <p>
I've added a <a class="ext-link" href="https://github.com/mantidproject/mantid/commit/94a2a7aa26cbb799888194a2186e4d59d7f634d1#diff-874e6b8c55dd27040c3e260e880e7eecR919"><span class="icon">â€‹</span>timeout</a> call to the gSoap client which will address the problem noted by Martyn in <a href="9208.html#comment:19" title="Comment 19 for Ticket #9208">comment:19</a>.
</p>
<h2 id="Totest">To test</h2>
<ol><li>Perform a long search (e.g. set dates to: <tt>01/01/1990</tt> and <tt>01/01/2014</tt>)
</li><li>Disconnect from the Internet.
</li><li>Wait 30 seconds and you will get the same error message as produced in <a href="9208.html#comment:15" title="Comment 15 for Ticket #9208">comment:15</a>.
</li></ol>
    </div>

              </div>
              <div class="change" id="trac-change-25">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:25" class="cnum">
      <a href="9208.html#comment:25">comment:25</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-04-04T15%3A59%3A45%2B01%3A00&amp;precision=second" title="2014-04-04T15:59:45+01:00 in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-26">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:26" class="cnum">
      <a href="9208.html#comment:26">comment:26</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-04-04T16%3A29%3A01%2B01%3A00&amp;precision=second" title="2014-04-04T16:29:01+01:00 in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>reopened</em>
    </li><li>
      <strong>Resolution</strong>
        <em>fixed</em> deleted
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
That seems much better now and times out as I would expect.
</p>
<p>
One minor point now is that I don't think we need to maxTime stuff in <tt>CatalogHelper::executeAsynchronously</tt> as it's all handled under the hood so that can be left just doing the <tt>processEvents</tt> stuff.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-27">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:27" class="cnum">
      <a href="9208.html#comment:27">comment:27</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-04-07T09%3A36%3A16%2B01%3A00&amp;precision=second" title="2014-04-07T09:36:16+01:00 in Timeline">7 years</a> ago by Jay Rainey
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>reopened</em> to <em>inprogress</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Remove unnecessary variable. Refs <a class="closed ticket" href="9208.html" title="enhancement: Have GUI Timeout Instead of Hang When ICAT is Down (closed: fixed)">#9208</a>.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/73da39d33f2d1ace753e5efef74500125ea58de8" title="73da39d33f2d1ace753e5efef74500125ea58de8">73da39d33f2d1ace753e5efef74500125ea58de8</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-28">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:28" class="cnum">
      <a href="9208.html#comment:28">comment:28</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-04-07T09%3A38%3A00%2B01%3A00&amp;precision=second" title="2014-04-07T09:38:00+01:00 in Timeline">7 years</a> ago by Jay Rainey
                </h3>
                
    <div class="comment searchable">
      
      <p>
Merge branch 'feature/9208_icat_gui_hang_fix' into develop
</p>
<ul><li>feature/9208_icat_gui_hang_fix:
Remove unnecessary variable. Refs <a class="closed ticket" href="9208.html" title="enhancement: Have GUI Timeout Instead of Hang When ICAT is Down (closed: fixed)">#9208</a>.
</li></ul><p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/178945cc402d5cb1a047e67e3bd106c3377ce835" title="178945cc402d5cb1a047e67e3bd106c3377ce835">178945cc402d5cb1a047e67e3bd106c3377ce835</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-29">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:29" class="cnum">
      <a href="9208.html#comment:29">comment:29</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-04-07T09%3A44%3A14%2B01%3A00&amp;precision=second" title="2014-04-07T09:44:14+01:00 in Timeline">7 years</a> ago by Jay Rainey
                </h3>
                
    <div class="comment searchable">
      
      <p>
Verify that the minor change made in this <a class="ext-link" href="https://github.com/mantidproject/mantid/commit/73da39d33f2d1ace753e5efef74500125ea58de8"><span class="icon">â€‹</span>commit</a> addresses the suggestion made by Martyn in <a href="9208.html#comment:26" title="Comment 26 for Ticket #9208">comment:26</a>.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-30">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:30" class="cnum">
      <a href="9208.html#comment:30">comment:30</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-04-07T09%3A44%3A21%2B01%3A00&amp;precision=second" title="2014-04-07T09:44:21+01:00 in Timeline">7 years</a> ago by Jay Rainey
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>inprogress</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-31">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:31" class="cnum">
      <a href="9208.html#comment:31">comment:31</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-04-08T08%3A34%3A25%2B01%3A00&amp;precision=second" title="2014-04-08T08:34:25+01:00 in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-32">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:32" class="cnum">
      <a href="9208.html#comment:32">comment:32</a>
    </span>
                          <span>follow-up:</span>
      <a href="9208.html#comment:34">â†“Â 34</a>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-04-08T08%3A36%3A27%2B01%3A00&amp;precision=second" title="2014-04-08T08:36:27+01:00 in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>reopened</em>
    </li><li>
      <strong>Resolution</strong>
        <em>fixed</em> deleted
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
The commit in comment 28 doesn't quite address what I was saying in comment 26. As the timeout is now handled further down then I don't think we need the timer at all in <tt>executeAsynchronously</tt> so I think that function can just return to being.
</p>
<div class="code"><pre>Poco<span class="o">::</span>ActiveResult<span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> result<span class="p">(</span>algorithm<span class="o">-&gt;</span>executeAsync<span class="p">());</span>
<span class="k">while</span> <span class="p">(</span><span class="o">!</span>result<span class="p">.</span>available<span class="p">())</span>
<span class="p">{</span>
  QCoreApplication<span class="o">::</span>processEvents<span class="p">();</span>
<span class="p">}</span>
</pre></div>
    </div>

              </div>
              <div class="change" id="trac-change-33">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:33" class="cnum">
      <a href="9208.html#comment:33">comment:33</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-04-08T09%3A28%3A12%2B01%3A00&amp;precision=second" title="2014-04-08T09:28:12+01:00 in Timeline">7 years</a> ago by Jay Rainey
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>reopened</em> to <em>inprogress</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Remove maxTime as it's now handled in catalog. Refs <a class="closed ticket" href="9208.html" title="enhancement: Have GUI Timeout Instead of Hang When ICAT is Down (closed: fixed)">#9208</a>.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/a6ca05d5ee1dff17e17a1589b5e64fd02237309d" title="a6ca05d5ee1dff17e17a1589b5e64fd02237309d">a6ca05d5ee1dff17e17a1589b5e64fd02237309d</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-34">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:34" class="cnum">
      <a href="9208.html#comment:34">comment:34</a>
    </span>
                        in reply to:
      <a href="9208.html#comment:32">â†‘Â 32</a>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-04-08T09%3A40%3A01%2B01%3A00&amp;precision=second" title="2014-04-08T09:40:01+01:00 in Timeline">7 years</a> ago by Jay Rainey
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>inprogress</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Verify that <tt>maxTime</tt> has been removed from <tt>CatalogHelper</tt> as mentioned by Martyn in <a href="9208.html#comment:32" title="Comment 32 for Ticket #9208">comment:32</a>. This was removed as gSoap <a class="ext-link" href="https://github.com/mantidproject/mantid/commit/94a2a7aa26cbb799888194a2186e4d59d7f634d1#diff-874e6b8c55dd27040c3e260e880e7eecR919"><span class="icon">â€‹</span>takes care of this</a> for us.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-35">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:35" class="cnum">
      <a href="9208.html#comment:35">comment:35</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-04-08T11%3A23%3A02%2B01%3A00&amp;precision=second" title="2014-04-08T11:23:02+01:00 in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-36">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:36" class="cnum">
      <a href="9208.html#comment:36">comment:36</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-04-08T11%3A26%3A41%2B01%3A00&amp;precision=second" title="2014-04-08T11:26:41+01:00 in Timeline">7 years</a> ago by Jay Rainey
                </h3>
                
    <div class="comment searchable">
      
      <p>
Remove unnecessary timer. Refs <a class="closed ticket" href="9208.html" title="enhancement: Have GUI Timeout Instead of Hang When ICAT is Down (closed: fixed)">#9208</a>.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/0528095e0f06179ae3b6e09c1bcf5655b06cc023" title="0528095e0f06179ae3b6e09c1bcf5655b06cc023">0528095e0f06179ae3b6e09c1bcf5655b06cc023</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-37">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:37" class="cnum">
      <a href="9208.html#comment:37">comment:37</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-04-08T11%3A44%3A36%2B01%3A00&amp;precision=second" title="2014-04-08T11:44:36+01:00 in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>closed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Merge remote-tracking branch 'origin/feature/9208_icat_gui_hang_fix'
</p>
<p>
Full changeset: <a class="ext-link" href="https://github.com/mantidproject/mantid/commit/602d6bc241792007abba9c34e0490959c5b58bfd"><span class="icon">â€‹</span>602d6bc241792007abba9c34e0490959c5b58bfd</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-38">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:38" class="cnum">
      <a href="9208.html#comment:38">comment:38</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T03%3A08%3A41%2B01%3A00&amp;precision=second" title="2015-06-04T03:08:41+01:00 in Timeline">5 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
This ticket has been transferred to github issue <a class="ext-link" href="http://github.com/mantidproject/mantid/issues/10051"><span class="icon">â€‹</span>10051</a>
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <script type="text/javascript">
        jQuery.loadStyleSheet("/mantid/pygments/trac.css", "text/css");
    </script>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/9208?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/9208?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/9208?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.5</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      #7798 (Linux: TCMalloc does not release free memory when requested)
     – Mantid Project
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="7797.html" title="Ticket #7797" />
        <link rel="last" href="11888.html" title="Ticket #11888" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/7798?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/7798?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/7798?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="7799.html" title="Ticket #7799" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mantid Project" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="a82fe30e7bef2e30fd2838e9";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/mantid/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 7798, escape_newlines: 0}
        $("#comment").autoPreview("/mantid/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/mantid/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.mantidproject.org/"><img src="../chrome/site/mantid_logo_with_name.png" alt="Mantid Logo" width="250" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://trac.mantidproject.org/mantid/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="7797.html" title="Ticket #7797">Previous Ticket</a></span></li><li class="last"><span><a class="next" href="7799.html" title="Ticket #7799">Next Ticket</a> &rarr;</span></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="7798.html">Ticket #7798</a>
          <span class="status">(closed: wontfix)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-08-21T22%3A03%3A02%2B01%3A00&amp;precision=second" title="2013-08-21T22:03:02+01:00 in Timeline">7 years</a> ago</p>
    <p>Last modified <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T02%3A10%3A12%2B01%3A00&amp;precision=second" title="2015-06-04T02:10:12+01:00 in Timeline">5 years</a> ago</p>
  </div>
  <h2 class="summary searchable">Linux: TCMalloc does not release free memory when requested</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;reporter=Martyn+Gigg">Martyn Gigg</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;owner=Martyn+Gigg">Martyn Gigg</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;priority=critical">critical</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="../milestone/Release&#32;3.3.html">Release 3.3</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;component=Framework">Framework</a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby"><span></span></td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking"><span></span></td>
        <th id="h_tester">
          Tester:
        </th>
        <td headers="h_tester">
              Anders Markvardsen
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
    </h3>
    <div class="searchable">
      <p>
There are calls to TCMalloc's ReleaseFreeMemory both before and after algorithm execution and also when calling FrameworkManager::clear.
</p>
<p>
It would appear that these calls do not always do what is expected. For example, the system test performance reports seem to suggest alot of memory loss in many tests:
</p>
<p>
<a class="ext-link" href="https://builds.sns.gov/view/All/job/ornl_test_rhel6_develop/System_tests_performance/"><span class="icon">​</span>https://builds.sns.gov/view/All/job/ornl_test_rhel6_develop/System_tests_performance/</a>?
</p>
<p>
whereas the Windows servers do not show this:
</p>
<p>
<a class="ext-link" href="https://builds.sns.gov/view/All/job/ornl_test_windows7_develop/System_tests_performance/"><span class="icon">​</span>https://builds.sns.gov/view/All/job/ornl_test_windows7_develop/System_tests_performance/</a>?
</p>
<p>
Investigate what is happening here. The script below (data in systemtests/Data) should leave memory around when the clear should have freed it up:
</p>
<div class="code"><pre><span class="kn">import</span> <span class="nn">mantid</span>
<span class="kn">from</span> <span class="nn">mantid.kernel</span> <span class="kn">import</span> MemoryStats
<span class="kn">from</span> <span class="nn">mantid.simpleapi</span> <span class="kn">import</span> <span class="o">*</span>
mantid<span class="o">.</span>api<span class="o">.</span>FrameworkManager<span class="o">.</span>clear<span class="p">()</span>

<span class="c">## TEST ##</span>
memory_before <span class="o">=</span> MemoryStats<span class="p">()</span><span class="o">.</span>residentMem<span class="p">()</span><span class="o">/</span><span class="mi">1024</span>
wish_ws <span class="o">=</span> Load<span class="p">(</span>Filename<span class="o">=</span><span class="s">'WISH00016748.raw'</span><span class="p">,</span>OutputWorkspace<span class="o">=</span><span class="s">'wish_ws'</span><span class="p">)</span>
mantid<span class="o">.</span>api<span class="o">.</span>FrameworkManager<span class="o">.</span>clear<span class="p">()</span>

heldMemory <span class="o">=</span> MemoryStats<span class="p">()</span><span class="o">.</span>residentMem<span class="p">()</span><span class="o">/</span><span class="mi">1024</span> <span class="o">-</span> memory_before

<span class="k">print</span> <span class="s">"Memory held:"</span><span class="p">,</span>heldMemory
</pre></div>
    </div>
  </div>
</div>
          

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="7798.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-08-22T08%3A46%3A28%2B01%3A00&amp;precision=second" title="2013-08-22T08:46:28+01:00 in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>inprogress</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="7798.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-25T16%3A24%3A49%2B01%3A00&amp;precision=second" title="2013-10-25T16:24:49+01:00 in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>Release 3.0</em> to <em>Release 3.1</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="7798.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-01-31T13%3A35%3A05Z&amp;precision=second" title="2014-01-31T13:35:05Z in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>Release 3.1</em> to <em>Release 3.2</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="7798.html#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-03-13T14%3A21%3A15Z&amp;precision=second" title="2014-03-13T14:21:15Z in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>inprogress</em> to <em>assigned</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="7798.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-06-23T17%3A35%3A39%2B01%3A00&amp;precision=second" title="2014-06-23T17:35:39+01:00 in Timeline">6 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>Release 3.2</em> to <em>Release 3.3</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="7798.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-08-07T10%3A43%3A02%2B01%3A00&amp;precision=second" title="2014-08-07T10:43:02+01:00 in Timeline">6 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>assigned</em> to <em>inprogress</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Fix link order of libaries so that tcmalloc is first.
</p>
<p>
This allows tcmalloc to replace malloc and report the correct memory
usage when running through Python, with the exception of systems running
gcc 4.4. On these systems, if stdc++ is not linked/loaded first then
a segfault occurs when throwing an exception across a dll boundary.
Refs <a class="closed ticket" href="7798.html" title="defect: Linux: TCMalloc does not release free memory when requested (closed: wontfix)">#7798</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/3746a914ff5ab333718ada501c5c0b7fb740b05e" title="3746a914ff5ab333718ada501c5c0b7fb740b05e">3746a914ff5ab333718ada501c5c0b7fb740b05e</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="7798.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-08-07T10%3A43%3A02%2B01%3A00&amp;precision=second" title="2014-08-07T10:43:02+01:00 in Timeline">6 years</a> ago by Martyn Gigg
                </h3>
                
    <div class="comment searchable">
      
      <p>
Simplify to process of loading the Python plugins on Linux.
</p>
<p>
Rearranging the library link order seems to have made obselete the process of
of having to force certain libraries to load first.
Refs <a class="closed ticket" href="7798.html" title="defect: Linux: TCMalloc does not release free memory when requested (closed: wontfix)">#7798</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/3b72565c6b22dd965f9e68466efe88cef8573321" title="3b72565c6b22dd965f9e68466efe88cef8573321">3b72565c6b22dd965f9e68466efe88cef8573321</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="7798.html#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-08-07T12%3A09%3A47%2B01%3A00&amp;precision=second" title="2014-08-07T12:09:47+01:00 in Timeline">6 years</a> ago by Martyn Gigg
                </h3>
                
    <div class="comment searchable">
      
      <p>
Fix segfault on RHEL6.
</p>
<p>
Each Python module was separately linked to each core library, which is
unnecessary. They only each need to link to the boost python libraries.
Most systems handled this multiple linking without a problem but RHEL6
would segfault when accessing the NeXus C api.
Refs <a class="closed ticket" href="7798.html" title="defect: Linux: TCMalloc does not release free memory when requested (closed: wontfix)">#7798</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/362641f19a26aa2082c69df6a6caf67d8d1ebb77" title="362641f19a26aa2082c69df6a6caf67d8d1ebb77">362641f19a26aa2082c69df6a6caf67d8d1ebb77</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="7798.html#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-08-07T12%3A11%3A39%2B01%3A00&amp;precision=second" title="2014-08-07T12:11:39+01:00 in Timeline">6 years</a> ago by Martyn Gigg
                </h3>
                
    <div class="comment searchable">
      
      <p>
Don't be as aggressive trying to force memory release.
</p>
<p>
It can be a time consuming operation and now that managed workspaces
have gone we're not so reliant on being able to programatically judge
the amount of memory available.
Refs <a class="closed ticket" href="7798.html" title="defect: Linux: TCMalloc does not release free memory when requested (closed: wontfix)">#7798</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/97802eedeb8836ad3c71a42d72c2a8a1127164e3" title="97802eedeb8836ad3c71a42d72c2a8a1127164e3">97802eedeb8836ad3c71a42d72c2a8a1127164e3</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="7798.html#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-08-07T13%3A12%3A36%2B01%3A00&amp;precision=second" title="2014-08-07T13:12:36+01:00 in Timeline">6 years</a> ago by Martyn Gigg
                </h3>
                
    <div class="comment searchable">
      
      <p>
Put back MPI libraries in the Python layers.
</p>
<p>
Refs <a class="closed ticket" href="7798.html" title="defect: Linux: TCMalloc does not release free memory when requested (closed: wontfix)">#7798</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/8b5796b916554920d88e6aed1f5680d8a6412f0c" title="8b5796b916554920d88e6aed1f5680d8a6412f0c">8b5796b916554920d88e6aed1f5680d8a6412f0c</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="7798.html#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-08-07T13%3A15%3A31%2B01%3A00&amp;precision=second" title="2014-08-07T13:15:31+01:00 in Timeline">6 years</a> ago by Martyn Gigg
                </h3>
                
    <div class="comment searchable">
      
      <p>
Link Python libraries for C++ tests.
</p>
<p>
Refs <a class="closed ticket" href="7798.html" title="defect: Linux: TCMalloc does not release free memory when requested (closed: wontfix)">#7798</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/a68ab6c8306d845935ccdd4aa23d15bb44fc097a" title="a68ab6c8306d845935ccdd4aa23d15bb44fc097a">a68ab6c8306d845935ccdd4aa23d15bb44fc097a</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="7798.html#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-08-07T13%3A28%3A20%2B01%3A00&amp;precision=second" title="2014-08-07T13:28:20+01:00 in Timeline">6 years</a> ago by Martyn Gigg
                </h3>
                
    <div class="comment searchable">
      
      <p>
Link Python libraries to the _kernel module and nothing else.
</p>
<p>
Refs <a class="closed ticket" href="7798.html" title="defect: Linux: TCMalloc does not release free memory when requested (closed: wontfix)">#7798</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/f45fd5995802b83b150eb8efb0b0d5e24cdb8ad8" title="f45fd5995802b83b150eb8efb0b0d5e24cdb8ad8">f45fd5995802b83b150eb8efb0b0d5e24cdb8ad8</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="7798.html#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-08-08T16%3A17%3A02%2B01%3A00&amp;precision=second" title="2014-08-08T16:17:02+01:00 in Timeline">6 years</a> ago by Martyn Gigg
                </h3>
                
    <div class="comment searchable">
      
      <p>
Fix gcc test in Kernel link line.
</p>
<p>
It needs to catch all of 4.4 so restricts to &gt; 4.5
Refs <a class="closed ticket" href="7798.html" title="defect: Linux: TCMalloc does not release free memory when requested (closed: wontfix)">#7798</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/691e8a938f1cd973c55c803ba03b2217646a53ac" title="691e8a938f1cd973c55c803ba03b2217646a53ac">691e8a938f1cd973c55c803ba03b2217646a53ac</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-14">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:14" class="cnum">
      <a href="7798.html#comment:14">comment:14</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-08-08T16%3A38%3A08%2B01%3A00&amp;precision=second" title="2014-08-08T16:38:08+01:00 in Timeline">6 years</a> ago by Martyn Gigg
                </h3>
                
    <div class="comment searchable">
      
      <p>
Also place NeXus first in linker list in Kernel for gcc 4.4
</p>
<p>
If it is not after stdc++ then we get a crash in Python when accessing
the C api.
Refs <a class="closed ticket" href="7798.html" title="defect: Linux: TCMalloc does not release free memory when requested (closed: wontfix)">#7798</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/20230faf14bfc3c4cdabe2c16ad733492caa20f4" title="20230faf14bfc3c4cdabe2c16ad733492caa20f4">20230faf14bfc3c4cdabe2c16ad733492caa20f4</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-15">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:15" class="cnum">
      <a href="7798.html#comment:15">comment:15</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-09-05T11%3A00%3A07%2B01%3A00&amp;precision=second" title="2014-09-05T11:00:07+01:00 in Timeline">6 years</a> ago by Martyn Gigg
                </h3>
                
    <div class="comment searchable">
      
      <p>
Also place NeXus first in linker list in Kernel for gcc 4.4
</p>
<p>
If it is not after stdc++ then we get a crash in Python when accessing
the C api.
Refs <a class="closed ticket" href="7798.html" title="defect: Linux: TCMalloc does not release free memory when requested (closed: wontfix)">#7798</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/20230faf14bfc3c4cdabe2c16ad733492caa20f4" title="20230faf14bfc3c4cdabe2c16ad733492caa20f4">20230faf14bfc3c4cdabe2c16ad733492caa20f4</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-16">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:16" class="cnum">
      <a href="7798.html#comment:16">comment:16</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-09-23T15%3A22%3A05%2B01%3A00&amp;precision=second" title="2014-09-23T15:22:05+01:00 in Timeline">6 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>inprogress</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>wontfix</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
After discussions with the TSC it has been decided to go down a different path with tcmalloc, as described in <a class="closed ticket" href="10271.html" title="Move tcmalloc to a runtime-only library (closed: fixed)">#10271</a>. As a result I am abandoning the changes here to avoid confusion with what will become the actual work.
</p>
<p>
The branch has been deleted so there is nothing to merge.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-17">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:17" class="cnum">
      <a href="7798.html#comment:17">comment:17</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-09-26T13%3A05%3A07%2B01%3A00&amp;precision=second" title="2014-09-26T13:05:07+01:00 in Timeline">6 years</a> ago by Anders Markvardsen
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li><li>
      <strong>Tester</strong>
        set to <em>Anders Markvardsen</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-18">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:18" class="cnum">
      <a href="7798.html#comment:18">comment:18</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-09-26T13%3A06%3A58%2B01%3A00&amp;precision=second" title="2014-09-26T13:06:58+01:00 in Timeline">6 years</a> ago by Anders Markvardsen
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>closed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Superceeded by <a class="closed ticket" href="10271.html" title="Move tcmalloc to a runtime-only library (closed: fixed)">#10271</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-19">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:19" class="cnum">
      <a href="7798.html#comment:19">comment:19</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T02%3A10%3A12%2B01%3A00&amp;precision=second" title="2015-06-04T02:10:12+01:00 in Timeline">5 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
This ticket has been transferred to github issue <a class="ext-link" href="http://github.com/mantidproject/mantid/issues/8643"><span class="icon">​</span>8643</a>
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <script type="text/javascript">
        jQuery.loadStyleSheet("/mantid/pygments/trac.css", "text/css");
    </script>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/7798?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/7798?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/7798?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.5</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      #8432 (Make SCDCalibratePanels work for TOPAZ)
     – Mantid Project
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="8431.html" title="Ticket #8431" />
        <link rel="last" href="11888.html" title="Ticket #11888" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/8432?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/8432?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/8432?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="8433.html" title="Ticket #8433" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mantid Project" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="a82fe30e7bef2e30fd2838e9";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/mantid/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 8432, escape_newlines: 0}
        $("#comment").autoPreview("/mantid/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/mantid/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.mantidproject.org/"><img src="../chrome/site/mantid_logo_with_name.png" alt="Mantid Logo" width="250" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://trac.mantidproject.org/mantid/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="8431.html" title="Ticket #8431">Previous Ticket</a></span></li><li><span><a class="next" href="8433.html" title="Ticket #8433">Next Ticket</a> &rarr;</span></li><li class="last"><a href="../depgraph/8432.html">Depgraph</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="8432.html">Ticket #8432</a>
          <span class="status">(closed: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-12T14%3A53%3A08Z&amp;precision=second" title="2013-11-12T14:53:08Z in Timeline">7 years</a> ago</p>
    <p>Last modified <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T02%3A36%3A29%2B01%3A00&amp;precision=second" title="2015-06-04T02:36:29+01:00 in Timeline">5 years</a> ago</p>
  </div>
  <h2 class="summary searchable">Make SCDCalibratePanels work for TOPAZ</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;reporter=Peter+Peterson">Peter Peterson</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;owner=Peter+Peterson">Peter Peterson</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;priority=critical">critical</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="../milestone/Release&#32;3.1.html">Release 3.1</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;component=Diffraction">Diffraction</a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby"><span></span></td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking"><span><a class="closed ticket" href="8208.html" title="SCCalibratePanels use OrientedLattice from workspace">#8208</a>, <a class="closed ticket" href="8507.html" title="SCDCalibratePanels get lattice constants from PeaksWorkspace">#8507</a></span></td>
        <th id="h_tester">
          Tester:
        </th>
        <td headers="h_tester">
              Vickie Lynch
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
    </h3>
    <div class="searchable">
      <div class="code"><pre>LoadIsawPeaks<span class="p">(</span>Filename<span class="o">=</span><span class="s">'/SNS/TOPAZ/IPTS-9918/shared/KHT/INT100K_10e_use_KHT_1st/KHT100K_Niggli.integrate'</span><span class="p">,</span>
              OutputWorkspace<span class="o">=</span><span class="s">'peaks'</span><span class="p">)</span>
SCDCalibratePanels<span class="p">(</span>PeakWorkspace<span class="o">=</span><span class="s">'peaks'</span><span class="p">,</span>
                   a<span class="o">=</span><span class="mf">7.6035</span><span class="p">,</span>
                   b<span class="o">=</span><span class="mf">7.7545</span><span class="p">,</span>
                   c<span class="o">=</span><span class="mf">10.5724</span><span class="p">,</span>
                   alpha<span class="o">=</span><span class="mi">90</span><span class="p">,</span>
                   beta<span class="o">=</span><span class="mi">90</span><span class="p">,</span>
                   gamma<span class="o">=</span><span class="mi">90</span><span class="p">,</span>
                   useL0<span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                   usetimeOffset<span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                   usePanelWidth<span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                   usePanelHeight<span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                   usePanelPosition<span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                   usePanelOrientation<span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                   tolerance<span class="o">=</span><span class="mf">0.05</span><span class="p">,</span>
                   DetCalFilename<span class="o">=</span><span class="s">'/tmp/topaz.detcal'</span><span class="p">,</span>
                   XmlFilename<span class="o">=</span><span class="s">'/tmp/topaz.xml'</span><span class="p">,</span>
                   PreProcFilename<span class="o">=</span><span class="s">'/tmp/topaz.detcal'</span><span class="p">,</span> 
                   ResultWorkspace<span class="o">=</span><span class="s">'results'</span><span class="p">,</span> 
                   QErrorWorkspace<span class="o">=</span><span class="s">'qerror'</span><span class="p">,</span>
                   NumIterations<span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
</pre></div><p>
generates the error
</p>
<pre class="wiki">Error in execution of algorithm Fit:
Size_t val very large f(x) main loop
Error in execution of algorithm SCDCalibratePanels:
Size_t val very large f(x) main loop
</pre><p>
Make it work
</p>

    </div>
  </div>
</div>
          

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="8432.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-22T20%3A14%3A49Z&amp;precision=second" title="2013-11-22T20:14:49Z in Timeline">7 years</a> ago by Peter Peterson
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>inprogress</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="8432.html" title="defect: Make SCDCalibratePanels work for TOPAZ (closed: fixed)">#8432</a>. Removed using namespace from the header file.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/f204df0c8c8568ab7afc5eff7a4251cbdc5d3ca5" title="f204df0c8c8568ab7afc5eff7a4251cbdc5d3ca5">f204df0c8c8568ab7afc5eff7a4251cbdc5d3ca5</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="8432.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-22T20%3A14%3A49Z&amp;precision=second" title="2013-11-22T20:14:49Z in Timeline">7 years</a> ago by Peter Peterson
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="8432.html" title="defect: Make SCDCalibratePanels work for TOPAZ (closed: fixed)">#8432</a>. Moved implementation from header to source.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/ce3b2a865a6e5e4c53e4a50a0955017dd1186f1c" title="ce3b2a865a6e5e4c53e4a50a0955017dd1186f1c">ce3b2a865a6e5e4c53e4a50a0955017dd1186f1c</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="8432.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-22T20%3A14%3A49Z&amp;precision=second" title="2013-11-22T20:14:49Z in Timeline">7 years</a> ago by Peter Peterson
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="8432.html" title="defect: Make SCDCalibratePanels work for TOPAZ (closed: fixed)">#8432</a>. Reworked the unit test to use standard techniques.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/265bdb1289b3e24276bd77e9fdf22df9df947caa" title="265bdb1289b3e24276bd77e9fdf22df9df947caa">265bdb1289b3e24276bd77e9fdf22df9df947caa</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="8432.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-22T20%3A14%3A49Z&amp;precision=second" title="2013-11-22T20:14:49Z in Timeline">7 years</a> ago by Peter Peterson
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8432.html" title="defect: Make SCDCalibratePanels work for TOPAZ (closed: fixed)">#8432</a>. Using SaveIsawDetCal from SCDCalibratePanel.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/d18faaa998dea154ac2be7546bcec722529ee029" title="d18faaa998dea154ac2be7546bcec722529ee029">d18faaa998dea154ac2be7546bcec722529ee029</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="8432.html#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-22T20%3A14%3A50Z&amp;precision=second" title="2013-11-22T20:14:50Z in Timeline">7 years</a> ago by Peter Peterson
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="8432.html" title="defect: Make SCDCalibratePanels work for TOPAZ (closed: fixed)">#8432</a>. Fixed up whitespace.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/b83da3ba48b9ce1420b85e782ae030871acc4465" title="b83da3ba48b9ce1420b85e782ae030871acc4465">b83da3ba48b9ce1420b85e782ae030871acc4465</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="8432.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-22T20%3A14%3A50Z&amp;precision=second" title="2013-11-22T20:14:50Z in Timeline">7 years</a> ago by Peter Peterson
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="8432.html" title="defect: Make SCDCalibratePanels work for TOPAZ (closed: fixed)">#8432</a>. Fairly heavy-handed code cleanup of SCDPanelErrors.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/dc4c50c0d7cf1754fef84f29f5dd1b79f5dde847" title="dc4c50c0d7cf1754fef84f29f5dd1b79f5dde847">dc4c50c0d7cf1754fef84f29f5dd1b79f5dde847</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="8432.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-22T20%3A14%3A50Z&amp;precision=second" title="2013-11-22T20:14:50Z in Timeline">7 years</a> ago by Peter Peterson
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="8432.html" title="defect: Make SCDCalibratePanels work for TOPAZ (closed: fixed)">#8432</a>. Cleanup writing out parameter file.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/735ab4d77d7c9b9405f7397c6fbdffbfc3963670" title="735ab4d77d7c9b9405f7397c6fbdffbfc3963670">735ab4d77d7c9b9405f7397c6fbdffbfc3963670</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="8432.html#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-22T20%3A14%3A50Z&amp;precision=second" title="2013-11-22T20:14:50Z in Timeline">7 years</a> ago by Peter Peterson
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="8432.html" title="defect: Make SCDCalibratePanels work for TOPAZ (closed: fixed)">#8432</a>. Moved some param checking to the init stage of things.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/918cca01821d4ae492b26542421413e94945cab6" title="918cca01821d4ae492b26542421413e94945cab6">918cca01821d4ae492b26542421413e94945cab6</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="8432.html#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-22T20%3A14%3A50Z&amp;precision=second" title="2013-11-22T20:14:50Z in Timeline">7 years</a> ago by Peter Peterson
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="8432.html" title="defect: Make SCDCalibratePanels work for TOPAZ (closed: fixed)">#8432</a>. Changed function for comparing hkl to integer values.
</p>
<p>
Also got rid of local definition of pi and added cached version of
DEG_TO_RAD and RAD_TO_DEG.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/61cceec7b3279e73079d5d2956c1f75665e7e8ea" title="61cceec7b3279e73079d5d2956c1f75665e7e8ea">61cceec7b3279e73079d5d2956c1f75665e7e8ea</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="8432.html#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-22T20%3A14%3A50Z&amp;precision=second" title="2013-11-22T20:14:50Z in Timeline">7 years</a> ago by Peter Peterson
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="8432.html" title="defect: Make SCDCalibratePanels work for TOPAZ (closed: fixed)">#8432</a>. Refactored code to clarify what is going on a bit better.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/0f901c01575deaba8a47c55cfcf2d0c8fd3d650e" title="0f901c01575deaba8a47c55cfcf2d0c8fd3d650e">0f901c01575deaba8a47c55cfcf2d0c8fd3d650e</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="8432.html#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-22T20%3A14%3A50Z&amp;precision=second" title="2013-11-22T20:14:50Z in Timeline">7 years</a> ago by Peter Peterson
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="8432.html" title="defect: Make SCDCalibratePanels work for TOPAZ (closed: fixed)">#8432</a>. Exchanged function string into a function pointer.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/8727936349d94bd8fa61f8b0116d9178dce95310" title="8727936349d94bd8fa61f8b0116d9178dce95310">8727936349d94bd8fa61f8b0116d9178dce95310</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="8432.html#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-22T20%3A14%3A51Z&amp;precision=second" title="2013-11-22T20:14:51Z in Timeline">7 years</a> ago by Peter Peterson
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="8432.html" title="defect: Make SCDCalibratePanels work for TOPAZ (closed: fixed)">#8432</a>. Converted ties to the function pointer.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/3e655a2a2b6b40956139dc835ac2c3f720c8b74e" title="3e655a2a2b6b40956139dc835ac2c3f720c8b74e">3e655a2a2b6b40956139dc835ac2c3f720c8b74e</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="8432.html#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-22T20%3A14%3A51Z&amp;precision=second" title="2013-11-22T20:14:51Z in Timeline">7 years</a> ago by Peter Peterson
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="8432.html" title="defect: Make SCDCalibratePanels work for TOPAZ (closed: fixed)">#8432</a>. Moved constraints to use a factory.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/b86d6cb404a9627374f78a0a27c8794fac356a18" title="b86d6cb404a9627374f78a0a27c8794fac356a18">b86d6cb404a9627374f78a0a27c8794fac356a18</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-14">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:14" class="cnum">
      <a href="8432.html#comment:14">comment:14</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-22T20%3A14%3A51Z&amp;precision=second" title="2013-11-22T20:14:51Z in Timeline">7 years</a> ago by Peter Peterson
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="8432.html" title="defect: Make SCDCalibratePanels work for TOPAZ (closed: fixed)">#8432</a>. Grouping parameters together to guide the user.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/c6c8c98dd2fa3c20d9e18601b8b18f8df8d2a0e6" title="c6c8c98dd2fa3c20d9e18601b8b18f8df8d2a0e6">c6c8c98dd2fa3c20d9e18601b8b18f8df8d2a0e6</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-15">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:15" class="cnum">
      <a href="8432.html#comment:15">comment:15</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-22T20%3A14%3A51Z&amp;precision=second" title="2013-11-22T20:14:51Z in Timeline">7 years</a> ago by Peter Peterson
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="8432.html" title="defect: Make SCDCalibratePanels work for TOPAZ (closed: fixed)">#8432</a>. Changed function attribute names to be string constants.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/180e2f86b03aa468889139baf5b1ff7abe130abc" title="180e2f86b03aa468889139baf5b1ff7abe130abc">180e2f86b03aa468889139baf5b1ff7abe130abc</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-16">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:16" class="cnum">
      <a href="8432.html#comment:16">comment:16</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-22T20%3A14%3A51Z&amp;precision=second" title="2013-11-22T20:14:51Z in Timeline">7 years</a> ago by Peter Peterson
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="8432.html" title="defect: Make SCDCalibratePanels work for TOPAZ (closed: fixed)">#8432</a>. Renamed member variable to follow coding conventions.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/c8a92e09909ce78b665a10cc1b7c32b5b9d5bfe4" title="c8a92e09909ce78b665a10cc1b7c32b5b9d5bfe4">c8a92e09909ce78b665a10cc1b7c32b5b9d5bfe4</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-17">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:17" class="cnum">
      <a href="8432.html#comment:17">comment:17</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-22T20%3A14%3A52Z&amp;precision=second" title="2013-11-22T20:14:52Z in Timeline">7 years</a> ago by Peter Peterson
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="8432.html" title="defect: Make SCDCalibratePanels work for TOPAZ (closed: fixed)">#8432</a>. Changed from push_back to assign.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/2388938809a9985cf74df99d48854d4b52ac425d" title="2388938809a9985cf74df99d48854d4b52ac425d">2388938809a9985cf74df99d48854d4b52ac425d</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-18">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:18" class="cnum">
      <a href="8432.html#comment:18">comment:18</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-22T20%3A14%3A52Z&amp;precision=second" title="2013-11-22T20:14:52Z in Timeline">7 years</a> ago by Peter Peterson
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="8432.html" title="defect: Make SCDCalibratePanels work for TOPAZ (closed: fixed)">#8432</a>. Change how the peaks workspace is generated and stored.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/ef263a648a7bb7e36a49165746615e0a472954be" title="ef263a648a7bb7e36a49165746615e0a472954be">ef263a648a7bb7e36a49165746615e0a472954be</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-19">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:19" class="cnum">
      <a href="8432.html#comment:19">comment:19</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-22T20%3A14%3A52Z&amp;precision=second" title="2013-11-22T20:14:52Z in Timeline">7 years</a> ago by Peter Peterson
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="8432.html" title="defect: Make SCDCalibratePanels work for TOPAZ (closed: fixed)">#8432</a>. Renaming instance variables.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/0d9d8232eb1b1cf45c690056a2b1f52f127d08f3" title="0d9d8232eb1b1cf45c690056a2b1f52f127d08f3">0d9d8232eb1b1cf45c690056a2b1f52f127d08f3</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-20">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:20" class="cnum">
      <a href="8432.html#comment:20">comment:20</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-22T20%3A14%3A52Z&amp;precision=second" title="2013-11-22T20:14:52Z in Timeline">7 years</a> ago by Peter Peterson
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="8432.html" title="defect: Make SCDCalibratePanels work for TOPAZ (closed: fixed)">#8432</a>. Added copy constructor for UnitCell pointers.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/dc5e61ecb9571bd54634080492047ee64497dd6d" title="dc5e61ecb9571bd54634080492047ee64497dd6d">dc5e61ecb9571bd54634080492047ee64497dd6d</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-21">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:21" class="cnum">
      <a href="8432.html#comment:21">comment:21</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-22T20%3A14%3A52Z&amp;precision=second" title="2013-11-22T20:14:52Z in Timeline">7 years</a> ago by Peter Peterson
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="8432.html" title="defect: Make SCDCalibratePanels work for TOPAZ (closed: fixed)">#8432</a>. Added additional constructor and qFromHKL method.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/45616fd12053e93d9f3eb5ad77402a5a4c899d22" title="45616fd12053e93d9f3eb5ad77402a5a4c899d22">45616fd12053e93d9f3eb5ad77402a5a4c899d22</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-22">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:22" class="cnum">
      <a href="8432.html#comment:22">comment:22</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-22T20%3A14%3A52Z&amp;precision=second" title="2013-11-22T20:14:52Z in Timeline">7 years</a> ago by Peter Peterson
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="8432.html" title="defect: Make SCDCalibratePanels work for TOPAZ (closed: fixed)">#8432</a>. Reworked finction1D to use other functions.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/325790cc179a8c8de0bd76a1577594d688600b03" title="325790cc179a8c8de0bd76a1577594d688600b03">325790cc179a8c8de0bd76a1577594d688600b03</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-23">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:23" class="cnum">
      <a href="8432.html#comment:23">comment:23</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-22T20%3A14%3A52Z&amp;precision=second" title="2013-11-22T20:14:52Z in Timeline">7 years</a> ago by Peter Peterson
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="8432.html" title="defect: Make SCDCalibratePanels work for TOPAZ (closed: fixed)">#8432</a>. Used the wrong numerical constant.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/193193bddc0157e9ad4ec29e58b1a88a90db4799" title="193193bddc0157e9ad4ec29e58b1a88a90db4799">193193bddc0157e9ad4ec29e58b1a88a90db4799</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-24">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:24" class="cnum">
      <a href="8432.html#comment:24">comment:24</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-22T20%3A14%3A53Z&amp;precision=second" title="2013-11-22T20:14:53Z in Timeline">7 years</a> ago by Peter Peterson
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="8432.html" title="defect: Make SCDCalibratePanels work for TOPAZ (closed: fixed)">#8432</a>. Added weighting to getting the peaks right.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/61f88e4bdb8fa7df6c80e52f8b3e56da465c1671" title="61f88e4bdb8fa7df6c80e52f8b3e56da465c1671">61f88e4bdb8fa7df6c80e52f8b3e56da465c1671</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-25">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:25" class="cnum">
      <a href="8432.html#comment:25">comment:25</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-22T20%3A14%3A53Z&amp;precision=second" title="2013-11-22T20:14:53Z in Timeline">7 years</a> ago by Peter Peterson
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="8432.html" title="defect: Make SCDCalibratePanels work for TOPAZ (closed: fixed)">#8432</a>. Local constant for 2pi.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/e32067aa70e6fad043d0b9f1e6fca8abf5c2d5ab" title="e32067aa70e6fad043d0b9f1e6fca8abf5c2d5ab">e32067aa70e6fad043d0b9f1e6fca8abf5c2d5ab</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-26">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:26" class="cnum">
      <a href="8432.html#comment:26">comment:26</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-22T20%3A14%3A53Z&amp;precision=second" title="2013-11-22T20:14:53Z in Timeline">7 years</a> ago by Peter Peterson
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="8432.html" title="defect: Make SCDCalibratePanels work for TOPAZ (closed: fixed)">#8432</a>. Removing debug print statement.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/a4736e489d740f242da521ac935bc876eb887bed" title="a4736e489d740f242da521ac935bc876eb887bed">a4736e489d740f242da521ac935bc876eb887bed</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-27">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:27" class="cnum">
      <a href="8432.html#comment:27">comment:27</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-22T20%3A14%3A53Z&amp;precision=second" title="2013-11-22T20:14:53Z in Timeline">7 years</a> ago by Peter Peterson
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="8432.html" title="defect: Make SCDCalibratePanels work for TOPAZ (closed: fixed)">#8432</a>. Minor cleanup like adding const
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/0834ff8fdd47aa30a9b9f11e657cfafbef0e942a" title="0834ff8fdd47aa30a9b9f11e657cfafbef0e942a">0834ff8fdd47aa30a9b9f11e657cfafbef0e942a</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-28">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:28" class="cnum">
      <a href="8432.html#comment:28">comment:28</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-02T15%3A11%3A47Z&amp;precision=second" title="2013-12-02T15:11:47Z in Timeline">7 years</a> ago by Peter Peterson
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocking</strong>
        <em>8208</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-29">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:29" class="cnum">
      <a href="8432.html#comment:29">comment:29</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-05T18%3A52%3A51Z&amp;precision=second" title="2013-12-05T18:52:51Z in Timeline">7 years</a> ago by Peter Peterson
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocking</strong>
        <em>8507</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-30">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:30" class="cnum">
      <a href="8432.html#comment:30">comment:30</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-09T20%3A07%3A16Z&amp;precision=second" title="2013-12-09T20:07:16Z in Timeline">7 years</a> ago by Peter Peterson
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>inprogress</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
This is on <a class="ext-link" href="http://github.com/mantidproject/mantid/compare/bugfix;8432_scdcalibratepanels"><span class="icon">​</span>bugfix/8432_scdcalibratepanels</a>.
</p>
<p>
<strong>To test:</strong> I've had Xiaoping (TOPAZ) and Leighton (MANDI) both report that it gives meaningful results. They are both reluctant to say that it 'works' until they are convinced it is perfect. I'm closing this ticket so it can get into mantidplotnightly and we have a starting point for future improvements.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-31">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:31" class="cnum">
      <a href="8432.html#comment:31">comment:31</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-09T20%3A48%3A44Z&amp;precision=second" title="2013-12-09T20:48:44Z in Timeline">7 years</a> ago by Vickie Lynch
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li><li>
      <strong>Tester</strong>
        set to <em>Vickie Lynch</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-32">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:32" class="cnum">
      <a href="8432.html#comment:32">comment:32</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-12-09T21%3A31%3A50Z&amp;precision=second" title="2013-12-09T21:31:50Z in Timeline">7 years</a> ago by Vickie Lynch
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>closed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Merge remote branch 'origin/bugfix/8432_scdcalibratepanels'
</p>
<p>
Full changeset: <a class="ext-link" href="https://github.com/mantidproject/mantid/commit/5fb852c27ebb21885c354c1b3be3938b371c22d7"><span class="icon">​</span>5fb852c27ebb21885c354c1b3be3938b371c22d7</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-33">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:33" class="cnum">
      <a href="8432.html#comment:33">comment:33</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T02%3A36%3A29%2B01%3A00&amp;precision=second" title="2015-06-04T02:36:29+01:00 in Timeline">5 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
This ticket has been transferred to github issue <a class="ext-link" href="http://github.com/mantidproject/mantid/issues/9276"><span class="icon">​</span>9276</a>
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <script type="text/javascript">
        jQuery.loadStyleSheet("/mantid/pygments/trac.css", "text/css");
    </script>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/8432?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/8432?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/8432?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.5</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
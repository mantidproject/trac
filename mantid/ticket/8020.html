<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      #8020 (The original data is corrupted when we get a loading error)
     – Mantid Project
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="8019.html" title="Ticket #8019" />
        <link rel="last" href="11888.html" title="Ticket #11888" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/8020?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/8020?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/8020?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="8021.html" title="Ticket #8021" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mantid Project" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="a82fe30e7bef2e30fd2838e9";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/mantid/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 8020, escape_newlines: 0}
        $("#comment").autoPreview("/mantid/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/mantid/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.mantidproject.org/"><img src="../chrome/site/mantid_logo_with_name.png" alt="Mantid Logo" width="250" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://trac.mantidproject.org/mantid/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="8019.html" title="Ticket #8019">Previous Ticket</a></span></li><li><span><a class="next" href="8021.html" title="Ticket #8021">Next Ticket</a> &rarr;</span></li><li class="last"><a href="../depgraph/8020.html">Depgraph</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="8020.html">Ticket #8020</a>
          <span class="status">(closed: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-09-25T10%3A43%3A25%2B01%3A00&amp;precision=second" title="2013-09-25T10:43:25+01:00 in Timeline">7 years</a> ago</p>
    <p>Last modified <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T02%3A19%3A26%2B01%3A00&amp;precision=second" title="2015-06-04T02:19:26+01:00 in Timeline">5 years</a> ago</p>
  </div>
  <h2 class="summary searchable">The original data is corrupted when we get a loading error</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;reporter=Arturs+Bekasovs">Arturs Bekasovs</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;owner=Arturs+Bekasovs">Arturs Bekasovs</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;priority=major">major</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="../milestone/Release&#32;3.2.html">Release 3.2</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;component=Muon">Muon</a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
              anders.markvardsen@…
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby"><span></span></td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking"><span><a class="closed ticket" href="8547.html" title="Make the MuonAnalysis less sensitive to filenames">#8547</a>, <a class="closed ticket" href="8860.html" title="Handle the case where loading same inst. data with diff number hist">#8860</a></span></td>
        <th id="h_tester">
          Tester:
        </th>
        <td headers="h_tester">
              Anders Markvardsen
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
      <span class="lastmod" title="2014-01-27 15:27:59.726840+00:00">
        (last modified by Arturs Bekasovs)
        (<a href="https://trac.mantidproject.org/mantid/ticket/8020?action=diff&amp;version=6">diff</a>)
      </span>
    </h3>
    <div class="searchable">
      <p>
To reproduce:
</p>
<ol><li>Open MuonAnalysis.
</li><li>Go to GroupingOptions tab and add a group with any name and detector IDs 1-50.
</li><li>Go back to Home, and load an attached EMU data file. It contains data for 96 detectors, so it should be loaded without any problems.
</li><li>Check that MuonAnalysis workspace contains data for 96 detectors.
</li><li>Now try to load <em>AutoTestData/emu00006473.nxs</em> file. It has data for 32 detectors only hence specified grouping could not be applied, which should be indicated by the error thrown.
</li></ol><p>
Now, you should notice that none of the widgets (e.g the Description) has updated to reflect the information for the new file, which is expected as file loading failed. However, if you check the MuonAnalysis workspace, it contains data for 32 detector only, which means that it was overwritten and the new data will be used if you continue using the interface. This shouldn't happen.
</p>
<p>
The general problem is that we load the new file straight to the ws used by the interface. If the file was loaded but an error occurs on a later stage we don't go further to update the interface, but we have already overwritten the original data.
</p>

    </div>
  </div>
</div>
          
    <div id="attachments">
        <h2 class="foldable">Attachments</h2>
        <div>
          <dl class="attachments">
              <dt>
    <a href="../attachment/ticket/8020/EMU00036854.nxs.html" title="View attachment">EMU00036854.nxs</a><a href="../raw-attachment/ticket/8020/EMU00036854.nxs" class="trac-rawlink" title="Download">​</a>
       (<span title="987157 bytes">964.0 KB</span>) -
      added by <em>Arturs Bekasovs</em> <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-09-25T10%3A43%3A43%2B01%3A00&amp;precision=second" title="2013-09-25T10:43:43+01:00 in Timeline">7 years</a> ago.
  </dt>
              <dd>
                Data file for 96 detector EMU
              </dd>
          </dl>
          
        </div>
    </div>

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change">
                <h3 class="change">
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-09-25T10%3A43%3A43%2B01%3A00&amp;precision=second" title="2013-09-25T10:43:43+01:00 in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Attachment</strong>
        <a href="../attachment/ticket/8020/EMU00036854.nxs.html"><em>EMU00036854.nxs</em></a><a href="../raw-attachment/ticket/8020/EMU00036854.nxs" title="Download" class="trac-rawlink">​</a>
          added
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Data file for 96 detector EMU
</p>

    </div>

              </div>
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="8020.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-09-25T10%3A47%3A02%2B01%3A00&amp;precision=second" title="2013-09-25T10:47:02+01:00 in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
That should be solvable by creating a tmp workspace and loading to it. If all the stages of the loading are successful we copy it to the ws used. If error occurs - we just discard it.
</p>
<p>
However, that involves moving around some significant amount of code. And, actually, the problem described is quite difficult to reproduce, so leaving it for later. 
</p>

    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="8020.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-09-25T11%3A41%3A42%2B01%3A00&amp;precision=second" title="2013-09-25T11:41:42+01:00 in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Description</strong>
        modified (<a href="https://trac.mantidproject.org/mantid/ticket/8020?action=diff&amp;version=2">diff</a>)
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="8020.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-01-27T10%3A13%3A16Z&amp;precision=second" title="2014-01-27T10:13:16Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocked By</strong>
        <em>8547</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
(In <a class="closed ticket" href="8547.html" title="enhancement: Make the MuonAnalysis less sensitive to filenames (closed: fixed)">#8547</a>) There is a slight difficulty with that one: if we are not using the filename to determine the instrument, we can't actually say that the file user is trying to load is not a Muon file before actually loading it. This makes it <strong>much</strong> easier to reproduce the problem described in <a class="closed ticket" href="8020.html" title="defect: The original data is corrupted when we get a loading error (closed: fixed)">#8020</a>. So it makes sense to do that other ticket first. Afterwards, I will be able to just throw an error if I determine that the instrument of the loaded workspace is not a Muon instrument and nothing will get affected.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="8020.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-01-27T10%3A14%3A37Z&amp;precision=second" title="2014-01-27T10:14:37Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocked By</strong>
        <em>8547</em> removed
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
(In <a class="closed ticket" href="8547.html" title="enhancement: Make the MuonAnalysis less sensitive to filenames (closed: fixed)">#8547</a>) Trac playing tricks.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="8020.html#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-01-27T10%3A14%3A58Z&amp;precision=second" title="2014-01-27T10:14:58Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocking</strong>
        <em>8547</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
(In <a class="closed ticket" href="8547.html" title="enhancement: Make the MuonAnalysis less sensitive to filenames (closed: fixed)">#8547</a>) Trac playing tricks.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="8020.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-01-27T15%3A27%3A59Z&amp;precision=second" title="2014-01-27T15:27:59Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Description</strong>
        modified (<a href="https://trac.mantidproject.org/mantid/ticket/8020?action=diff&amp;version=6">diff</a>)
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="8020.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-01-31T13%3A04%3A47Z&amp;precision=second" title="2014-01-31T13:04:47Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>Backlog</em> to <em>Release 3.2</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="8020.html#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-01-31T13%3A16%3A29Z&amp;precision=second" title="2014-01-31T13:16:29Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Summary</strong>
        changed from <em>Muon: The original data is corrupted when we get a loading error</em> to <em>The original data is corrupted when we get a loading error</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="8020.html#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-14T10%3A59%3A49Z&amp;precision=second" title="2014-02-14T10:59:49Z in Timeline">7 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>assigned</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Bulk move of tickets out of triage (new) to assigned at the introduction of the triage state
</p>

    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="8020.html#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-18T12%3A14%3A29Z&amp;precision=second" title="2014-02-18T12:14:29Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocking</strong>
        <em>8860</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
(In <a class="closed ticket" href="8860.html" title="defect: Handle the case where loading same inst. data with diff number hist (closed: fixed)">#8860</a>) The interface currently loads the new data to the used workspace directly. It should be much easier when I load it to a tmp workspace. I will then just compare the number of detectors of the loaded one and the current one.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="8020.html#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T12%3A22%3A39Z&amp;precision=second" title="2014-02-25T12:22:39Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>assigned</em> to <em>inprogress</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8020.html" title="defect: The original data is corrupted when we get a loading error (closed: fixed)">#8020</a>. Change loading code to use temporary workspace.
</p>
<p>
Temporary workspace is not in the ADS. When loading/correction/grouping
are finished - temporary workspace is added to the ADS replacing
MuonAnalysis and MuonAnalysisGrouped.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/4f4cb0b302634a38e6841ffe3a1b5f828605def7" title="4f4cb0b302634a38e6841ffe3a1b5f828605def7">4f4cb0b302634a38e6841ffe3a1b5f828605def7</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="8020.html#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T12%3A22%3A40Z&amp;precision=second" title="2014-02-25T12:22:40Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8020.html" title="defect: The original data is corrupted when we get a loading error (closed: fixed)">#8020</a>. Remove redundant method.
</p>
<p>
We do not delete ranged workspaces as we are no longer storing them
in the ADS.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/711fdcbe10e3453e113cb36cca0a1be1432cd1cb" title="711fdcbe10e3453e113cb36cca0a1be1432cd1cb">711fdcbe10e3453e113cb36cca0a1be1432cd1cb</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="8020.html#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T12%3A22%3A41Z&amp;precision=second" title="2014-02-25T12:22:41Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8020.html" title="defect: The original data is corrupted when we get a loading error (closed: fixed)">#8020</a>. Re-enable support for a range of workspaces.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/23285db2c26d48e45e9494c9b2d977a564115278" title="23285db2c26d48e45e9494c9b2d977a564115278">23285db2c26d48e45e9494c9b2d977a564115278</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-14">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:14" class="cnum">
      <a href="8020.html#comment:14">comment:14</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T12%3A22%3A42Z&amp;precision=second" title="2014-02-25T12:22:42Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8020.html" title="defect: The original data is corrupted when we get a loading error (closed: fixed)">#8020</a>. Fix DTC of multi-period workspaces.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/1e8b5edd082c6ff111fe051b0fdaaec8a7522fea" title="1e8b5edd082c6ff111fe051b0fdaaec8a7522fea">1e8b5edd082c6ff111fe051b0fdaaec8a7522fea</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-15">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:15" class="cnum">
      <a href="8020.html#comment:15">comment:15</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T12%3A22%3A44Z&amp;precision=second" title="2014-02-25T12:22:44Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8020.html" title="defect: The original data is corrupted when we get a loading error (closed: fixed)">#8020</a>. Fix problem with groups not being replaced correctly.
</p>
<p>
ADS::addOrReplace is not replacing groups properly, which clutters up
ADS quite badly.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/4979db9aa13351dc87ad513174aeb9f5a531d012" title="4979db9aa13351dc87ad513174aeb9f5a531d012">4979db9aa13351dc87ad513174aeb9f5a531d012</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-16">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:16" class="cnum">
      <a href="8020.html#comment:16">comment:16</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T12%3A22%3A44Z&amp;precision=second" title="2014-02-25T12:22:44Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8020.html" title="defect: The original data is corrupted when we get a loading error (closed: fixed)">#8020</a>. Fix groupWorkspace() to handle ws which are already in ADS
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/b73be60b3b2aee49fcb038a08e5bc5ddec60ff87" title="b73be60b3b2aee49fcb038a08e5bc5ddec60ff87">b73be60b3b2aee49fcb038a08e5bc5ddec60ff87</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-17">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:17" class="cnum">
      <a href="8020.html#comment:17">comment:17</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T12%3A22%3A45Z&amp;precision=second" title="2014-02-25T12:22:45Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8020.html" title="defect: The original data is corrupted when we get a loading error (closed: fixed)">#8020</a>. Make it possible to load after loading error.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/1205de240e2115389ebb5a5fa4c136d223d31970" title="1205de240e2115389ebb5a5fa4c136d223d31970">1205de240e2115389ebb5a5fa4c136d223d31970</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-18">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:18" class="cnum">
      <a href="8020.html#comment:18">comment:18</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T12%3A22%3A45Z&amp;precision=second" title="2014-02-25T12:22:45Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8020.html" title="defect: The original data is corrupted when we get a loading error (closed: fixed)">#8020</a>. Add another version of groupWorkspace.
</p>
<p>
Previous version was trying to determine whether workspace is already
in the ADS. It seems more natural to have two version of the function:
one for when we need to group workspace which is already in the ADS
and one to group newly created workspace.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/0a84546ec7559d8858aa30b71a3187303460230b" title="0a84546ec7559d8858aa30b71a3187303460230b">0a84546ec7559d8858aa30b71a3187303460230b</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-19">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:19" class="cnum">
      <a href="8020.html#comment:19">comment:19</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T12%3A22%3A46Z&amp;precision=second" title="2014-02-25T12:22:46Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8020.html" title="defect: The original data is corrupted when we get a loading error (closed: fixed)">#8020</a>. Remove old and redundant code.
</p>
<p>
Current run loading is supported for ISIS only anyway, and current run
of all the ISIS instruments is loaded from the file, not using LoadDAE.
LoadDAE doesn't exist since 3.0 anyway, so if anybody would use the
functionality - it would've been noticed.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/39b475325e1ea122acb863113a461be4fb97ed00" title="39b475325e1ea122acb863113a461be4fb97ed00">39b475325e1ea122acb863113a461be4fb97ed00</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-20">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:20" class="cnum">
      <a href="8020.html#comment:20">comment:20</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T12%3A22%3A46Z&amp;precision=second" title="2014-02-25T12:22:46Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8020.html" title="defect: The original data is corrupted when we get a loading error (closed: fixed)">#8020</a>. Merge remote-tracking branch 'origin/master' into 8020
</p>
<p>
Conflicts:
</p>
<blockquote>
<p>
Code/Mantid/MantidQt/CustomInterfaces/src/MuonAnalysis.cpp
</p>
</blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/65660d3e87c5cc1ace9944932ab9d586d805b8b7" title="65660d3e87c5cc1ace9944932ab9d586d805b8b7">65660d3e87c5cc1ace9944932ab9d586d805b8b7</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-21">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:21" class="cnum">
      <a href="8020.html#comment:21">comment:21</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T12%3A22%3A46Z&amp;precision=second" title="2014-02-25T12:22:46Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8020.html" title="defect: The original data is corrupted when we get a loading error (closed: fixed)">#8020</a>. Do various minor improvements.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/1a58e26df83c94505a35e10578270894b54f0b5c" title="1a58e26df83c94505a35e10578270894b54f0b5c">1a58e26df83c94505a35e10578270894b54f0b5c</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-22">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:22" class="cnum">
      <a href="8020.html#comment:22">comment:22</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T12%3A22%3A47Z&amp;precision=second" title="2014-02-25T12:22:47Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8020.html" title="defect: The original data is corrupted when we get a loading error (closed: fixed)">#8020</a>. Add methods for loading files and applying DTC.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/619d1d25d5f53933bfad40f8e3593ee9f7d106ae" title="619d1d25d5f53933bfad40f8e3593ee9f7d106ae">619d1d25d5f53933bfad40f8e3593ee9f7d106ae</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-23">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:23" class="cnum">
      <a href="8020.html#comment:23">comment:23</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T12%3A22%3A48Z&amp;precision=second" title="2014-02-25T12:22:48Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8020.html" title="defect: The original data is corrupted when we get a loading error (closed: fixed)">#8020</a>. Use new methods.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/f78bdda4d7268c3cb755c26a081627e287d2d4c4" title="f78bdda4d7268c3cb755c26a081627e287d2d4c4">f78bdda4d7268c3cb755c26a081627e287d2d4c4</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-24">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:24" class="cnum">
      <a href="8020.html#comment:24">comment:24</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T12%3A22%3A49Z&amp;precision=second" title="2014-02-25T12:22:49Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8020.html" title="defect: The original data is corrupted when we get a loading error (closed: fixed)">#8020</a>. Fix warning output.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/cd4998dbae8474a02e56bb7312c8e40355f7f504" title="cd4998dbae8474a02e56bb7312c8e40355f7f504">cd4998dbae8474a02e56bb7312c8e40355f7f504</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-25">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:25" class="cnum">
      <a href="8020.html#comment:25">comment:25</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T12%3A22%3A49Z&amp;precision=second" title="2014-02-25T12:22:49Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8020.html" title="defect: The original data is corrupted when we get a loading error (closed: fixed)">#8020</a>. Add instrument validation.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/ecfc685d70f311536d6b6cb11f122876f9b782c5" title="ecfc685d70f311536d6b6cb11f122876f9b782c5">ecfc685d70f311536d6b6cb11f122876f9b782c5</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-26">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:26" class="cnum">
      <a href="8020.html#comment:26">comment:26</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T12%3A22%3A51Z&amp;precision=second" title="2014-02-25T12:22:51Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8020.html" title="defect: The original data is corrupted when we get a loading error (closed: fixed)">#8020</a>. Refactor period retrieval code.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/5ebcbf99452eaaf32622774566468729dc29248f" title="5ebcbf99452eaaf32622774566468729dc29248f">5ebcbf99452eaaf32622774566468729dc29248f</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-27">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:27" class="cnum">
      <a href="8020.html#comment:27">comment:27</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T12%3A22%3A51Z&amp;precision=second" title="2014-02-25T12:22:51Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8020.html" title="defect: The original data is corrupted when we get a loading error (closed: fixed)">#8020</a>. Move grouping code to separate method.
</p>
<p>
Lots of refactoring changes to make it possible.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/3f6e3f27287005a745929ce64d2b18e361a8f67c" title="3f6e3f27287005a745929ce64d2b18e361a8f67c">3f6e3f27287005a745929ce64d2b18e361a8f67c</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-28">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:28" class="cnum">
      <a href="8020.html#comment:28">comment:28</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T12%3A22%3A51Z&amp;precision=second" title="2014-02-25T12:22:51Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8020.html" title="defect: The original data is corrupted when we get a loading error (closed: fixed)">#8020</a>. Refactor the method to use new functionality.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/8b30c0fc677cddd19f3e17b1d1633e1b20869f57" title="8b30c0fc677cddd19f3e17b1d1633e1b20869f57">8b30c0fc677cddd19f3e17b1d1633e1b20869f57</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-29">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:29" class="cnum">
      <a href="8020.html#comment:29">comment:29</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T12%3A22%3A52Z&amp;precision=second" title="2014-02-25T12:22:52Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8020.html" title="defect: The original data is corrupted when we get a loading error (closed: fixed)">#8020</a>. Move run printing to other method.
</p>
<p>
Plus some other minor code movements.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/e16a5a91441cb0269cca971509cc9779a2a88a22" title="e16a5a91441cb0269cca971509cc9779a2a88a22">e16a5a91441cb0269cca971509cc9779a2a88a22</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-30">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:30" class="cnum">
      <a href="8020.html#comment:30">comment:30</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T12%3A22%3A52Z&amp;precision=second" title="2014-02-25T12:22:52Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8020.html" title="defect: The original data is corrupted when we get a loading error (closed: fixed)">#8020</a>. Better logging and error reporting.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/d3c234b052d57de508e74a369ef495e7c5c87eee" title="d3c234b052d57de508e74a369ef495e7c5c87eee">d3c234b052d57de508e74a369ef495e7c5c87eee</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-31">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:31" class="cnum">
      <a href="8020.html#comment:31">comment:31</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T12%3A22%3A53Z&amp;precision=second" title="2014-02-25T12:22:53Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8020.html" title="defect: The original data is corrupted when we get a loading error (closed: fixed)">#8020</a>. Better log messages and slight refactoring.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/8bc8a08f294b466ebfcf56081c51bbeeaaa1196a" title="8bc8a08f294b466ebfcf56081c51bbeeaaa1196a">8bc8a08f294b466ebfcf56081c51bbeeaaa1196a</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-32">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:32" class="cnum">
      <a href="8020.html#comment:32">comment:32</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T12%3A22%3A53Z&amp;precision=second" title="2014-02-25T12:22:53Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8020.html" title="defect: The original data is corrupted when we get a loading error (closed: fixed)">#8020</a>. Fix the problem with grouping cleared when instr. changed
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/71bc0fe34ea0f61f0b059dbad1f372324c57f1cb" title="71bc0fe34ea0f61f0b059dbad1f372324c57f1cb">71bc0fe34ea0f61f0b059dbad1f372324c57f1cb</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-33">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:33" class="cnum">
      <a href="8020.html#comment:33">comment:33</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T12%3A22%3A54Z&amp;precision=second" title="2014-02-25T12:22:54Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8020.html" title="defect: The original data is corrupted when we get a loading error (closed: fixed)">#8020</a>. Catch logic_errors from LoadMuonNexus as well.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/d3a997f7b6270ffc349647488a5edfb181d6f2fe" title="d3a997f7b6270ffc349647488a5edfb181d6f2fe">d3a997f7b6270ffc349647488a5edfb181d6f2fe</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-34">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:34" class="cnum">
      <a href="8020.html#comment:34">comment:34</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T12%3A22%3A54Z&amp;precision=second" title="2014-02-25T12:22:54Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8020.html" title="defect: The original data is corrupted when we get a loading error (closed: fixed)">#8020</a>. Better error handling for DTC.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/d36a52d75901fdd15cb00ce6f1f784a7804160f6" title="d36a52d75901fdd15cb00ce6f1f784a7804160f6">d36a52d75901fdd15cb00ce6f1f784a7804160f6</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-35">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:35" class="cnum">
      <a href="8020.html#comment:35">comment:35</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T12%3A22%3A54Z&amp;precision=second" title="2014-02-25T12:22:54Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8020.html" title="defect: The original data is corrupted when we get a loading error (closed: fixed)">#8020</a>. Fix the MU character display.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/eeed785376c93010cdd4fd34217eca95583b979e" title="eeed785376c93010cdd4fd34217eca95583b979e">eeed785376c93010cdd4fd34217eca95583b979e</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-36">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:36" class="cnum">
      <a href="8020.html#comment:36">comment:36</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T12%3A22%3A55Z&amp;precision=second" title="2014-02-25T12:22:55Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8020.html" title="defect: The original data is corrupted when we get a loading error (closed: fixed)">#8020</a>. Merge remote-tracking branch 'origin/master' into 8020
</p>
<p>
Conflicts:
</p>
<blockquote>
<p>
Code/Mantid/MantidQt/CustomInterfaces/inc/MantidQtCustomInterfaces/MuonAnalysis.h
Code/Mantid/MantidQt/CustomInterfaces/src/MuonAnalysis.cpp
</p>
</blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/7e4722f6f876a45cc04975906c2a6b1f9bd15332" title="7e4722f6f876a45cc04975906c2a6b1f9bd15332">7e4722f6f876a45cc04975906c2a6b1f9bd15332</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-37">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:37" class="cnum">
      <a href="8020.html#comment:37">comment:37</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T12%3A22%3A55Z&amp;precision=second" title="2014-02-25T12:22:55Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8020.html" title="defect: The original data is corrupted when we get a loading error (closed: fixed)">#8020</a>. Move utility functions to MuonAnalysisHelper.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/35d3b1d15014b686c9a894e3993783206a237e74" title="35d3b1d15014b686c9a894e3993783206a237e74">35d3b1d15014b686c9a894e3993783206a237e74</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-38">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:38" class="cnum">
      <a href="8020.html#comment:38">comment:38</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T12%3A59%3A35Z&amp;precision=second" title="2014-02-25T12:59:35Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
<strong>Tester:</strong>
</p>
<p>
That was a rather huge re-factoring excercise. Before the changes, the loading code was mixed up with interface state updating code. This meant that whenever an error occurs during the loading, the interface is left partly-updated.
</p>
<p>
What I've done here, is moved loading-correction-grouping code to separate functions. It allows me to run them, and if they are finished correctly I can feel safe about rewriting the current data. If they fail, I show an error and just discard the loading results.
</p>
<p>
The amount of changes means, however, that quite a few things should be tested here.
</p>
<h2 id="Basicloading">Basic loading</h2>
<p>
Load a few Muon files of various instruments, and verify that the interface gets updated correctly and you are able to plot/fit the data. 
</p>
<p>
In particular, check that the following things are updated correctly:
</p>
<ol><li>Time Zero and First Good Data (visible when From datafile is checked)
</li><li>Instrument and it's description. Use MUSR00015189 and MUSR00022725 from <em>AutoTestData</em> to check that MUSR orientation is loaded correctly - the first one should be longitudinal and the second one - tranverse.
</li><li>Number of periods in the file. Period widgets should be populated correctly.
</li><li>Run information.
</li><li>Grouping (see next section).
</li><li>Bin size on the Settings tab.
</li></ol><h2 id="Grouping">Grouping</h2>
<p>
There are three possible sources of loaded grouping:
</p>
<ol><li>The one from IDF. Just load a few MUSR files to check that. 
</li><li>If IDF grouping not available, grouping stored in the file. Remove <em>Code/Mantid/instrument/Grouping/MUSR_Detector_Grouping_LF_64.xml</em> and load e.g. MUSR00015189 to check that.
</li><li>If neither IDF grouping nor internal grouping is set, dummy grouping is used. Delete <em>Code/Mantid/instrument/Grouping/ARGUS_Detector_Grouping_LF_192.xml</em> and load any ARGUS files from <em>AutoTestData</em> (none of the have grouping set in the data file) to check that.
</li></ol><h2 id="Deadtimecorrection">Dead time correction</h2>
<p>
Dead time correction should be applied. Change all the types of dead time correction and verify that the curve does get changed (by a tiny bit usually). Argus files do not have dead times in the data files, verify that it is handled correctly. Specify invalid custom dead time files to make sure it is handled correctly as well.
</p>
<h2 id="Errors">Errors</h2>
<p>
Check that the problem in the description is solved. Make sure that when error occurs, the interface is left unchanged, i.e. you can still work with the old data.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-39">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:39" class="cnum">
      <a href="8020.html#comment:39">comment:39</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T13%3A29%3A20Z&amp;precision=second" title="2014-02-25T13:29:20Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8020.html" title="defect: The original data is corrupted when we get a loading error (closed: fixed)">#8020</a>. Fix doxygen warnings.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/61c0888d7f3c9fbbc6e864b94086eaabce0ab485" title="61c0888d7f3c9fbbc6e864b94086eaabce0ab485">61c0888d7f3c9fbbc6e864b94086eaabce0ab485</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-40">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:40" class="cnum">
      <a href="8020.html#comment:40">comment:40</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-25T15%3A14%3A12Z&amp;precision=second" title="2014-02-25T15:14:12Z in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>inprogress</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-41">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:41" class="cnum">
      <a href="8020.html#comment:41">comment:41</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-26T10%3A08%3A49Z&amp;precision=second" title="2014-02-26T10:08:49Z in Timeline">7 years</a> ago by Anders Markvardsen
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li><li>
      <strong>Tester</strong>
        set to <em>Anders Markvardsen</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-42">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:42" class="cnum">
      <a href="8020.html#comment:42">comment:42</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-26T13%3A13%3A18Z&amp;precision=second" title="2014-02-26T13:13:18Z in Timeline">7 years</a> ago by Anders Markvardsen
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>closed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Merge remote-tracking branch 'origin/bugfix/8020_muon_data_damaged_on_load_error'
</p>
<p>
Full changeset: <a class="ext-link" href="https://github.com/mantidproject/mantid/commit/6960cdde2ff763a93b6700ff8bb0f1dd90fbe7e5"><span class="icon">​</span>6960cdde2ff763a93b6700ff8bb0f1dd90fbe7e5</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-43">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:43" class="cnum">
      <a href="8020.html#comment:43">comment:43</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-26T13%3A16%3A18Z&amp;precision=second" title="2014-02-26T13:16:18Z in Timeline">7 years</a> ago by Anders Markvardsen
                </h3>
                
    <div class="comment searchable">
      
      <p>
improved cleanup from user experience when error is thrown and improve code re-factoring
</p>

    </div>

              </div>
              <div class="change" id="trac-change-44">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:44" class="cnum">
      <a href="8020.html#comment:44">comment:44</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T02%3A19%3A26%2B01%3A00&amp;precision=second" title="2015-06-04T02:19:26+01:00 in Timeline">5 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
This ticket has been transferred to github issue <a class="ext-link" href="http://github.com/mantidproject/mantid/issues/8865"><span class="icon">​</span>8865</a>
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/8020?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/8020?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/8020?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.5</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
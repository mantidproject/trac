<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      #3557 (MergeMDEW: Algorithm to merge many MDEventWorkspaces)
     – Mantid Project
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="3556.html" title="Ticket #3556" />
        <link rel="last" href="11888.html" title="Ticket #11888" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/3557?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/3557?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/3557?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="3558.html" title="Ticket #3558" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mantid Project" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="a82fe30e7bef2e30fd2838e9";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/mantid/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 3557, escape_newlines: 0}
        $("#comment").autoPreview("/mantid/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/mantid/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.mantidproject.org/"><img src="../chrome/site/mantid_logo_with_name.png" alt="Mantid Logo" width="250" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://trac.mantidproject.org/mantid/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="3556.html" title="Ticket #3556">Previous Ticket</a></span></li><li><span><a class="next" href="3558.html" title="Ticket #3558">Next Ticket</a> &rarr;</span></li><li class="last"><a href="../depgraph/3557.html">Depgraph</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="3557.html">Ticket #3557</a>
          <span class="status">(closed: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-08-12T21%3A49%3A06%2B01%3A00&amp;precision=second" title="2011-08-12T21:49:06+01:00 in Timeline">9 years</a> ago</p>
    <p>Last modified <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-03T22%3A59%3A53%2B01%3A00&amp;precision=second" title="2015-06-03T22:59:53+01:00 in Timeline">5 years</a> ago</p>
  </div>
  <h2 class="summary searchable">MergeMDEW: Algorithm to merge many MDEventWorkspaces</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;reporter=Janik+Zikovsky">Janik Zikovsky</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;owner=Janik+Zikovsky">Janik Zikovsky</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;priority=major">major</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="../milestone/Iteration&#32;30.html">Iteration 30</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;component=Mantid">Mantid</a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby"><span><a class="closed ticket" href="3571.html" title="MultipleFileProperty for algorithms">#3571</a>, <a class="closed ticket" href="3605.html" title="CreateMDEventWorkspace: minimum recursion depth">#3605</a>, <a class="closed ticket" href="3661.html" title="LoadMDEW: Load the box structure but no events">#3661</a></span></td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking"><span></span></td>
        <th id="h_tester">
          Tester:
        </th>
        <td headers="h_tester">
              Owen Arnold
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
    </h3>
    <div class="searchable">
      <p>
Need a method for merging a large number of MDEventWorkspaces together WITHOUT EXPLODING MEMORY! This mostly for inelastic people wanting to add together N runs at N small rotations.
</p>
<p>
I think the way to go is:
</p>
<ul><li>Generate a MDEventWorkspaces NXS file for each run with a fixed box structure.
<ul><li>This would be a MaxDepth=1 structure but with finer boxes, maybe 50x50x50.
</li><li>This can be done immediately after acquiring each run so that less processing has to be done at once
</li></ul></li><li>Supply a list of all the filenames to merge 
<ul><li>What's the GUI possibilities for this? Would be nice to select a bunch of files.
</li></ul></li><li>Go through each BOX to sum up a small part of the events from EACH file, and dump these into a large (file-backed) MDEventWorkspace that CAN split however is best.
</li></ul>
    </div>
  </div>
</div>
          
    <div id="attachments">
        <h2 class="foldable">Attachments</h2>
        <div>
          <dl class="attachments">
              <dt>
    <a href="../attachment/ticket/3557/MergeMD.py.html" title="View attachment">MergeMD.py</a><a href="../raw-attachment/ticket/3557/MergeMD.py" class="trac-rawlink" title="Download">​</a>
       (<span title="1075 bytes">1.0 KB</span>) -
      added by <em>Owen Arnold</em> <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-09-21T16%3A26%3A38%2B01%3A00&amp;precision=second" title="2011-09-21T16:26:38+01:00 in Timeline">9 years</a> ago.
  </dt>
          </dl>
          
        </div>
    </div>

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="3557.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-08-16T22%3A30%3A52%2B01%3A00&amp;precision=second" title="2011-08-16T22:30:52+01:00 in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>accepted</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="3557.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-08-17T13%3A49%3A48%2B01%3A00&amp;precision=second" title="2011-08-17T13:49:48+01:00 in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocked By</strong>
        <em>3571</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="3557.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-08-17T14%3A26%3A11%2B01%3A00&amp;precision=second" title="2011-08-17T14:26:11+01:00 in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[14010]</a>:
</p>
<div class="message"><p>
Refs <a class="closed ticket" href="3571.html" title="enhancement: MultipleFileProperty for algorithms (closed: fixed)">#3571</a>: MultipleFileProperty for selecting multiple files. Refs <a class="closed ticket" href="3557.html" title="enhancement: MergeMDEW: Algorithm to merge many MDEventWorkspaces (closed: fixed)">#3557</a>: MergeMDEW stub.<br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="3557.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-08-17T14%3A30%3A49%2B01%3A00&amp;precision=second" title="2011-08-17T14:30:49+01:00 in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[14012]</a>:
</p>
<div class="message"><p>
Refs <a class="closed ticket" href="3557.html" title="enhancement: MergeMDEW: Algorithm to merge many MDEventWorkspaces (closed: fixed)">#3557</a>: Fix test build.<br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="3557.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-08-17T15%3A43%3A06%2B01%3A00&amp;precision=second" title="2011-08-17T15:43:06+01:00 in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[14015]</a>:
</p>
<div class="message"><p>
Refs <a class="closed ticket" href="3557.html" title="enhancement: MergeMDEW: Algorithm to merge many MDEventWorkspaces (closed: fixed)">#3557</a>: MergeMDEW works in memory (for now)<br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="3557.html#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-08-17T16%3A49%3A36%2B01%3A00&amp;precision=second" title="2011-08-17T16:49:36+01:00 in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[14018]</a>:
</p>
<div class="message"><p>
Refs <a class="closed ticket" href="3557.html" title="enhancement: MergeMDEW: Algorithm to merge many MDEventWorkspaces (closed: fixed)">#3557</a>: MergeMDEW to a file-backed MDEW.<br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="3557.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-08-18T19%3A31%3A58%2B01%3A00&amp;precision=second" title="2011-08-18T19:31:58+01:00 in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[14071]</a>:
</p>
<div class="message"><p>
Refs <a class="closed ticket" href="3557.html" title="enhancement: MergeMDEW: Algorithm to merge many MDEventWorkspaces (closed: fixed)">#3557</a>: splitAllIfNeeded() method for MDBoxes will save data to disk as it goes along. Seems too slow in practice. Used in MergeMDEW.<br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="3557.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-08-18T20%3A43%3A09%2B01%3A00&amp;precision=second" title="2011-08-18T20:43:09+01:00 in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[14076]</a>:
</p>
<div class="message"><p>
Refs <a class="closed ticket" href="3557.html" title="enhancement: MergeMDEW: Algorithm to merge many MDEventWorkspaces (closed: fixed)">#3557</a>: MergeMDEW refactored to use tasks and separated into methods for clarity. MacOS build fix.<br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="3557.html#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-08-19T15%3A25%3A36%2B01%3A00&amp;precision=second" title="2011-08-19T15:25:36+01:00 in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[14102]</a>:
</p>
<div class="message"><p>
Refs <a class="closed ticket" href="3557.html" title="enhancement: MergeMDEW: Algorithm to merge many MDEventWorkspaces (closed: fixed)">#3557</a>: MergeMDEW update.<br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="3557.html#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-08-22T19%3A38%3A54%2B01%3A00&amp;precision=second" title="2011-08-22T19:38:54+01:00 in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[14147]</a>:
</p>
<div class="message"><p>
Refs <a class="closed ticket" href="3557.html" title="enhancement: MergeMDEW: Algorithm to merge many MDEventWorkspaces (closed: fixed)">#3557</a>: MergeMDEW benchmarked at 12 minutes for 500 million events.<br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="3557.html#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-08-23T14%3A54%3A26%2B01%3A00&amp;precision=second" title="2011-08-23T14:54:26+01:00 in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocked By</strong>
        <em>3605</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="3557.html#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-08-24T19%3A57%3A49%2B01%3A00&amp;precision=second" title="2011-08-24T19:57:49+01:00 in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[14207]</a>:
</p>
<div class="message"><p>
Refs <a class="closed ticket" href="3557.html" title="enhancement: MergeMDEW: Algorithm to merge many MDEventWorkspaces (closed: fixed)">#3557</a>: CloneMDEW has parameter to specify the file.<br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="3557.html#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-08-25T16%3A05%3A21%2B01%3A00&amp;precision=second" title="2011-08-25T16:05:21+01:00 in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[14219]</a>:
</p>
<div class="message"><p>
Refs <a class="closed ticket" href="3557.html" title="enhancement: MergeMDEW: Algorithm to merge many MDEventWorkspaces (closed: fixed)">#3557</a>: This version of the algorithm ran through a billion events in 25 minutes but was heavy in memory for a few boxes with too many events.<br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="3557.html#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-08-25T16%3A22%3A00%2B01%3A00&amp;precision=second" title="2011-08-25T16:22:00+01:00 in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[14220]</a>:
</p>
<div class="message"><p>
Refs <a class="closed ticket" href="3557.html" title="enhancement: MergeMDEW: Algorithm to merge many MDEventWorkspaces (closed: fixed)">#3557</a>: win build fix.<br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-14">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:14" class="cnum">
      <a href="3557.html#comment:14">comment:14</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-08-25T17%3A14%3A36%2B01%3A00&amp;precision=second" title="2011-08-25T17:14:36+01:00 in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[14226]</a>:
</p>
<div class="message"><p>
Refs <a class="closed ticket" href="3557.html" title="enhancement: MergeMDEW: Algorithm to merge many MDEventWorkspaces (closed: fixed)">#3557</a>: With a more finely split input, MergeMDEW takes 25 minutes for 1 billion events but does not go blow up memory, remaining &lt; 4 GB. This is in debug mode.<br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-15">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:15" class="cnum">
      <a href="3557.html#comment:15">comment:15</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-08-25T20%3A20%3A09%2B01%3A00&amp;precision=second" title="2011-08-25T20:20:09+01:00 in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[14227]</a>:
</p>
<div class="message"><p>
Refs <a class="closed ticket" href="3620.html" title="enhancement: Progress: report fractions of 1% (closed: fixed)">#3620</a>: Progress reporting can give fractions of a percent; also can show estimated time to algorithm completion. Refs <a class="closed ticket" href="3557.html" title="enhancement: MergeMDEW: Algorithm to merge many MDEventWorkspaces (closed: fixed)">#3557</a>: Better progress reporting in MergeMDEW.<br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-16">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:16" class="cnum">
      <a href="3557.html#comment:16">comment:16</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-08-29T19%3A22%3A03%2B01%3A00&amp;precision=second" title="2011-08-29T19:22:03+01:00 in Timeline">9 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[14273]</a>:
</p>
<div class="message"><p>
Cleanup temp files after test has run. refs <a class="closed ticket" href="3557.html" title="enhancement: MergeMDEW: Algorithm to merge many MDEventWorkspaces (closed: fixed)">#3557</a><br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-17">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:17" class="cnum">
      <a href="3557.html#comment:17">comment:17</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-08-29T20%3A08%3A49%2B01%3A00&amp;precision=second" title="2011-08-29T20:08:49+01:00 in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[14276]</a>:
</p>
<div class="message"><p>
Refs <a class="closed ticket" href="3557.html" title="enhancement: MergeMDEW: Algorithm to merge many MDEventWorkspaces (closed: fixed)">#3557</a>: Close file handles to hopefully fix windows test<br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-18">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:18" class="cnum">
      <a href="3557.html#comment:18">comment:18</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-08-29T20%3A26%3A57%2B01%3A00&amp;precision=second" title="2011-08-29T20:26:57+01:00 in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[14277]</a>:
</p>
<div class="message"><p>
Refs <a class="closed ticket" href="3557.html" title="enhancement: MergeMDEW: Algorithm to merge many MDEventWorkspaces (closed: fixed)">#3557</a>: Comment out file removal since it still fails<br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-19">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:19" class="cnum">
      <a href="3557.html#comment:19">comment:19</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-08-29T20%3A44%3A48%2B01%3A00&amp;precision=second" title="2011-08-29T20:44:48+01:00 in Timeline">9 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      
    </div>

                <div class="trac-lastedit ">
                  Last edited <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-08-29T21%3A11%3A59%2B01%3A00&amp;precision=second" title="2011-08-29T21:11:59+01:00 in Timeline">9 years</a> ago
                      by Stuart Campbell
                    (<a href="https://trac.mantidproject.org/mantid/ticket/3557?cversion=0&amp;cnum_hist=19#comment:19">previous</a>)
                    (<a href="https://trac.mantidproject.org/mantid/ticket/3557?action=comment-diff&amp;cnum=19&amp;version=1">diff</a>)
                </div>
              </div>
              <div class="change" id="trac-change-20">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:20" class="cnum">
      <a href="3557.html#comment:20">comment:20</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-09-02T14%3A56%3A42%2B01%3A00&amp;precision=second" title="2011-09-02T14:56:42+01:00 in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocked By</strong>
        <em>3661</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-21">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:21" class="cnum">
      <a href="3557.html#comment:21">comment:21</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-09-02T15%3A51%3A33%2B01%3A00&amp;precision=second" title="2011-09-02T15:51:33+01:00 in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[14384]</a>:
</p>
<div class="message"><p>
Refs <a class="closed ticket" href="3557.html" title="enhancement: MergeMDEW: Algorithm to merge many MDEventWorkspaces (closed: fixed)">#3557</a>: MergeMDEW slight rework<br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-22">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:22" class="cnum">
      <a href="3557.html#comment:22">comment:22</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-09-02T18%3A51%3A13%2B01%3A00&amp;precision=second" title="2011-09-02T18:51:13+01:00 in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[14386]</a>:
</p>
<div class="message"><p>
Refs <a class="closed ticket" href="3557.html" title="enhancement: MergeMDEW: Algorithm to merge many MDEventWorkspaces (closed: fixed)">#3557</a>, Refs <a class="closed ticket" href="3652.html" title="defect: MergeMDEWTest is sometimes hanging on Mac builds (closed: fixed)">#3652</a>: This should fix the Mac hanging bug.<br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-23">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:23" class="cnum">
      <a href="3557.html#comment:23">comment:23</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-09-03T16%3A51%3A37%2B01%3A00&amp;precision=second" title="2011-09-03T16:51:37+01:00 in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[14401]</a>:
</p>
<div class="message"><p>
Refs <a class="closed ticket" href="3557.html" title="enhancement: MergeMDEW: Algorithm to merge many MDEventWorkspaces (closed: fixed)">#3557</a>: Clean up files after test<br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-24">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:24" class="cnum">
      <a href="3557.html#comment:24">comment:24</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-09-03T17%3A04%3A55%2B01%3A00&amp;precision=second" title="2011-09-03T17:04:55+01:00 in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[14402]</a>:
</p>
<div class="message"><p>
Refs <a class="closed ticket" href="3557.html" title="enhancement: MergeMDEW: Algorithm to merge many MDEventWorkspaces (closed: fixed)">#3557</a>: Clean up files after test<br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-25">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:25" class="cnum">
      <a href="3557.html#comment:25">comment:25</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-09-03T17%3A11%3A35%2B01%3A00&amp;precision=second" title="2011-09-03T17:11:35+01:00 in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[14403]</a>:
</p>
<div class="message"><p>
Refs <a class="closed ticket" href="3557.html" title="enhancement: MergeMDEW: Algorithm to merge many MDEventWorkspaces (closed: fixed)">#3557</a>: reverting<br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-26">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:26" class="cnum">
      <a href="3557.html#comment:26">comment:26</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-09-14T16%3A27%3A39%2B01%3A00&amp;precision=second" title="2011-09-14T16:27:39+01:00 in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>accepted</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-27">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:27" class="cnum">
      <a href="3557.html#comment:27">comment:27</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-09-21T14%3A57%3A35%2B01%3A00&amp;precision=second" title="2011-09-21T14:57:35+01:00 in Timeline">9 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li><li>
      <strong>Tester</strong>
        set to <em>Owen Arnold</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-28">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:28" class="cnum">
      <a href="3557.html#comment:28">comment:28</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-09-21T16%3A24%3A25%2B01%3A00&amp;precision=second" title="2011-09-21T16:24:25+01:00 in Timeline">9 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>closed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Fully working as far as I can tell. Generated 20 rotated workspaces (in one axis). All have common box structure. After merging, number of events in merged workspace is exactly the same as the sum across all input workspaces. Visualisation of output workspace shows Bragg peaks tracing arc in one dimension, consistent with rotation.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-29">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:29" class="cnum">
      <a href="3557.html#comment:29">comment:29</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-09-21T16%3A25%3A55%2B01%3A00&amp;precision=second" title="2011-09-21T16:25:55+01:00 in Timeline">9 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
Test generator ...
import time
LoadEventNexus(Filename='C:/mantid/Test/AutoTestData/CNCS_7860_event.nxs',
OutputWorkspace='CNCS_7860_event_NXS',CompressTolerance='0.10000000000000001')
</p>
<p>
start = time.time();
for omega in xrange(0, 20):
</p>
<blockquote>
<p>
print "Starting omega %03d degrees" % omega
CreateMDWorkspace(Dimensions='3',Extents='-5,5,-5,5,-5,5',Names='Q_sample_x,Q_sample_y,Q<span class="underline">sample_z',Units='A,A,A'
</span></p>
</blockquote>
<p>
,SplitInto='5',SplitThreshold='2000',MaxRecursionDepth='3',
</p>
<blockquote>
<p>
MinRecursionDepth='3', OutputWorkspace='CNCS_7860_event_MD')
</p>
</blockquote>
<blockquote>
<p>
# Convert events to MD events
AddSampleLog("CNCS_7860_event_NXS", "omega", "%s" % omega, "Number Series")
AddSampleLog("CNCS_7860_event_NXS", "chi", "%s" % 0, "Number Series")
AddSampleLog("CNCS_7860_event_NXS", "phi", "%s" % 0, "Number Series")
ConvertToDiffractionMDWorkspace(InputWorkspace='CNCS_7860_event_NXS'
</p>
</blockquote>
<p>
,OutputWorkspace='CNCS_7860_event_MD',OutputDimensions='Q(sampleframe)'
,LorentzCorrection='1')
 
</p>
<blockquote>
<p>
SaveMD("CNCS_7860_event_MD", "C:/Users/spu92482/Desktop/CNCS/CNCS_7860_event_rotated_%03d.nxs" % omega)
print time.time() - start, " seconds since start."
</p>
</blockquote>

    </div>

              </div>
              <div class="change">
                <h3 class="change">
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-09-21T16%3A26%3A38%2B01%3A00&amp;precision=second" title="2011-09-21T16:26:38+01:00 in Timeline">9 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Attachment</strong>
        <a href="../attachment/ticket/3557/MergeMD.py.html"><em>MergeMD.py</em></a><a href="../raw-attachment/ticket/3557/MergeMD.py" title="Download" class="trac-rawlink">​</a>
          added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-30">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:30" class="cnum">
      <a href="3557.html#comment:30">comment:30</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-09-21T16%3A27%3A21%2B01%3A00&amp;precision=second" title="2011-09-21T16:27:21+01:00 in Timeline">9 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
Better way of distributing script than previous.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-31">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:31" class="cnum">
      <a href="3557.html#comment:31">comment:31</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-03T22%3A59%3A53%2B01%3A00&amp;precision=second" title="2015-06-03T22:59:53+01:00 in Timeline">5 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
This ticket has been transferred to github issue <a class="ext-link" href="http://github.com/mantidproject/mantid/issues/4404"><span class="icon">​</span>4404</a>
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/3557?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/3557?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/3557?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.5</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
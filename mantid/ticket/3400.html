<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      #3400 (ManagedWorkspace forget the spectra/detector lookups)
     – Mantid Project
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="3399.html" title="Ticket #3399" />
        <link rel="last" href="11888.html" title="Ticket #11888" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/3400?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/3400?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/3400?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="3401.html" title="Ticket #3401" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mantid Project" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="a82fe30e7bef2e30fd2838e9";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/mantid/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 3400, escape_newlines: 0}
        $("#comment").autoPreview("/mantid/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/mantid/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.mantidproject.org/"><img src="../chrome/site/mantid_logo_with_name.png" alt="Mantid Logo" width="250" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://trac.mantidproject.org/mantid/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="3399.html" title="Ticket #3399">Previous Ticket</a></span></li><li class="last"><span><a class="next" href="3401.html" title="Ticket #3401">Next Ticket</a> &rarr;</span></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="3400.html">Ticket #3400</a>
          <span class="status">(closed: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-07-20T18%3A08%3A12%2B01%3A00&amp;precision=second" title="2011-07-20T18:08:12+01:00 in Timeline">9 years</a> ago</p>
    <p>Last modified <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-03T22%3A58%3A37%2B01%3A00&amp;precision=second" title="2015-06-03T22:58:37+01:00 in Timeline">5 years</a> ago</p>
  </div>
  <h2 class="summary searchable">ManagedWorkspace forget the spectra/detector lookups</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;reporter=Martyn+Gigg">Martyn Gigg</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;owner=Russell+Taylor">Russell Taylor</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;priority=blocker">blocker</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="../milestone/Iteration&#32;30.html">Iteration 30</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;component=Mantid">Mantid</a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
              zikovskyjl@…
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby"><span></span></td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking"><span></span></td>
        <th id="h_tester">
          Tester:
        </th>
        <td headers="h_tester">
              Martyn Gigg
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
    </h3>
    <div class="searchable">
      <p>
When moving to the ISpectrum implementation, the detector IDs moved to be contained within the ISpectrum objects. A managed workspace saves and reads ManagedDataBlocks to a file and this means that when it saves the data block it only knows about the data.
</p>
<p>
The SpectraDetectorMap was always held in memory and so this was not lost when saving the blocks to disk.
</p>
<p>
This needs to be fixed urgently as it renders ManagedWorkspaces effectively useless. 
</p>

    </div>
  </div>
</div>
          
    <div id="attachments">
        <h2 class="foldable">Attachments</h2>
        <div>
          <dl class="attachments">
              <dt>
    <a href="../attachment/ticket/3400/SystemTests.r13570.log.html" title="View attachment">SystemTests.r13570.log</a><a href="../raw-attachment/ticket/3400/SystemTests.r13570.log" class="trac-rawlink" title="Download">​</a>
       (<span title="788396 bytes">769.9 KB</span>) -
      added by <em>Martyn Gigg</em> <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-07-29T09%3A53%3A11%2B01%3A00&amp;precision=second" title="2011-07-29T09:53:11+01:00 in Timeline">9 years</a> ago.
  </dt>
          </dl>
          
        </div>
    </div>

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="3400.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-07-20T18%3A08%3A50%2B01%3A00&amp;precision=second" title="2011-07-20T18:08:50+01:00 in Timeline">9 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Priority</strong>
        changed from <em>major</em> to <em>blocker</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="3400.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-07-20T18%3A23%3A46%2B01%3A00&amp;precision=second" title="2011-07-20T18:23:46+01:00 in Timeline">9 years</a> ago by Martyn Gigg
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[13325]</a>:
</p>
<div class="message"><p>
Refs <a class="closed ticket" href="3400.html" title="enhancement: ManagedWorkspace forget the spectra/detector lookups (closed: fixed)">#3400</a>. Very temporary fix so that ManagedWorkspaces function correctly and at least the system tests should pass. Needs a better solution, details in ticket.<br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="3400.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-07-20T22%3A31%3A19%2B01%3A00&amp;precision=second" title="2011-07-20T22:31:19+01:00 in Timeline">9 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[13332]</a>:
</p>
<div class="message"><p>
Add test of spectrum and detector numbers. Re <a class="closed ticket" href="3400.html" title="enhancement: ManagedWorkspace forget the spectra/detector lookups (closed: fixed)">#3400</a>.<br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="3400.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-07-21T19%3A59%3A55%2B01%3A00&amp;precision=second" title="2011-07-21T19:59:55+01:00 in Timeline">9 years</a> ago by Russell Taylor
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>accepted</em>
    </li><li>
      <strong>Owner</strong>
        set to <em>Russell Taylor</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="3400.html#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-07-21T21%3A38%3A26%2B01%3A00&amp;precision=second" title="2011-07-21T21:38:26+01:00 in Timeline">9 years</a> ago by Russell Taylor
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Cc</strong>
        <em>taylorrj@…</em> removed
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
My first thought was to write out the spectrum number and detector IDs to the file. However, that won't work because we rely on the data relating to a spectrum being of fixed length (to seek to the right point in the file) and the number of detector IDs is not fixed.
</p>
<p>
The two options I see are:
</p>
<ul><li>Make sure that a managed workspace always keeps a full set (i.e. one per spectrum) of ISpectrum/Histogram1D instances in existance, and just fills and collapses the data vectors as things go back and forth to file. Currently, Histogram1D instances (actually ManagedDataBlock instances, which hold 1 or more Histogram1Ds) are created and destroyed as they enter and leave the mru list.
</li><li>Have a ManagedWorkspace hold a separate copy of all the spectrum/detector information and just push it into the ISpectrum/Histogram1D object on its creation.
</li></ul><p>
The second option seems like a bit of a hack (with maintenance issues) but the first seems like a lot more work.
</p>
<p>
A further issue is that we need to make sure that any calls that in principle go through all the spectra looking for certain detector IDs, for example, don't lead to all the data being churned on and off the disk.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="3400.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-07-26T20%3A21%3A37%2B01%3A00&amp;precision=second" title="2011-07-26T20:21:37+01:00 in Timeline">9 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[13500]</a>:
</p>
<div class="message"><p>
Performance tests for managed workspaces. Re <a class="closed ticket" href="3400.html" title="enhancement: ManagedWorkspace forget the spectra/detector lookups (closed: fixed)">#3400</a>.<br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="3400.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-07-26T20%3A49%3A45%2B01%3A00&amp;precision=second" title="2011-07-26T20:49:45+01:00 in Timeline">9 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[13501]</a>:
</p>
<div class="message"><p>
Try and get performance test to find data on build server. Re <a class="closed ticket" href="3400.html" title="enhancement: ManagedWorkspace forget the spectra/detector lookups (closed: fixed)">#3400</a>.<br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="3400.html#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-07-26T21%3A03%3A41%2B01%3A00&amp;precision=second" title="2011-07-26T21:03:41+01:00 in Timeline">9 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[13502]</a>:
</p>
<div class="message"><p>
Try again. Re <a class="closed ticket" href="3400.html" title="enhancement: ManagedWorkspace forget the spectra/detector lookups (closed: fixed)">#3400</a>.<br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="3400.html#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-07-27T15%3A53%3A40%2B01%3A00&amp;precision=second" title="2011-07-27T15:53:40+01:00 in Timeline">9 years</a> ago by Mathieu Doucet
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[13523]</a>:
</p>
<div class="message"><p>
Fix warnings. Re <a class="closed ticket" href="3400.html" title="enhancement: ManagedWorkspace forget the spectra/detector lookups (closed: fixed)">#3400</a><br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="3400.html#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-07-27T18%3A13%3A03%2B01%3A00&amp;precision=second" title="2011-07-27T18:13:03+01:00 in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
    <div class="comment searchable">
      
      <p>
Also: Make Workspace2D's data[] vector shared with the data in ManagedWorkspace2D for more robustness.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="3400.html#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-07-27T21%3A19%3A02%2B01%3A00&amp;precision=second" title="2011-07-27T21:19:02+01:00 in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[13534]</a>:
</p>
<div class="message"><p>
Refs <a class="closed ticket" href="3400.html" title="enhancement: ManagedWorkspace forget the spectra/detector lookups (closed: fixed)">#3400</a>, Refs <a class="closed ticket" href="3203.html" title="enhancement: Implement a Spectra class with an ISpectra interface (closed: fixed)">#3203</a>. Fix for ManagedWorkspace2D and its variants. Workspace2D now holds a vector of pointers that should keep things consistent between it and its managed variants. ManagedHistogram1D is now the replacement in the managed cases.<br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="3400.html#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-07-27T21%3A22%3A54%2B01%3A00&amp;precision=second" title="2011-07-27T21:22:54+01:00 in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[13535]</a>:
</p>
<div class="message"><p>
Refs <a class="closed ticket" href="3400.html" title="enhancement: ManagedWorkspace forget the spectra/detector lookups (closed: fixed)">#3400</a>: Forgot to add the files (as usual :P )<br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="3400.html#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-07-28T15%3A33%3A02%2B01%3A00&amp;precision=second" title="2011-07-28T15:33:02+01:00 in Timeline">9 years</a> ago by Mathieu Doucet
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[13556]</a>:
</p>
<div class="message"><p>
Fix warning Re <a class="closed ticket" href="3400.html" title="enhancement: ManagedWorkspace forget the spectra/detector lookups (closed: fixed)">#3400</a><br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-14">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:14" class="cnum">
      <a href="3400.html#comment:14">comment:14</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-07-28T23%3A33%3A55%2B01%3A00&amp;precision=second" title="2011-07-28T23:33:55+01:00 in Timeline">9 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Some tests on a lousy win32 box:
</p>
<p>
Run ConvertUnits on a ManagedRawFileWorkspace in place:
Last release ~43s, now perhaps ~47s
</p>
<p>
Clone a GEM ManagedRawFileWorkspace into a new ManagedWorkspace:
Last release ~45s, now ~<strong>95s</strong>
</p>
<p>
Tests on a Mac showed similar behaviour.
</p>

    </div>

              </div>
              <div class="change">
                <h3 class="change">
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-07-29T09%3A53%3A11%2B01%3A00&amp;precision=second" title="2011-07-29T09:53:11+01:00 in Timeline">9 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Attachment</strong>
        <a href="../attachment/ticket/3400/SystemTests.r13570.log.html"><em>SystemTests.r13570.log</em></a><a href="../raw-attachment/ticket/3400/SystemTests.r13570.log" title="Download" class="trac-rawlink">​</a>
          added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-15">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:15" class="cnum">
      <a href="3400.html#comment:15">comment:15</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-07-29T09%3A53%3A28%2B01%3A00&amp;precision=second" title="2011-07-29T09:53:28+01:00 in Timeline">9 years</a> ago by Martyn Gigg
                </h3>
                
    <div class="comment searchable">
      
      <p>
Last night the system tests took ~5 hours rather than the usual 1.5 hours. I've attached the log. A cursory glance seems to suggest that the loading parts are the worst.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-16">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:16" class="cnum">
      <a href="3400.html#comment:16">comment:16</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-07-29T14%3A50%3A22%2B01%3A00&amp;precision=second" title="2011-07-29T14:50:22+01:00 in Timeline">9 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Actually, it's MaskDetectorsInShape that accounted for 3.75 hours of the 4.5 total time spent running algorithms.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-17">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:17" class="cnum">
      <a href="3400.html#comment:17">comment:17</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-09-19T14%3A59%3A05%2B01%3A00&amp;precision=second" title="2011-09-19T14:59:05+01:00 in Timeline">9 years</a> ago by Russell Taylor
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>accepted</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
ManagedWorkspaces should now work. A ticket (<a class="missing changeset" title="No default repository defined">[3740]</a>) has been created for the next iteration to look into the suggestion that performance has been degraded.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-18">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:18" class="cnum">
      <a href="3400.html#comment:18">comment:18</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-09-19T15%3A17%3A44%2B01%3A00&amp;precision=second" title="2011-09-19T15:17:44+01:00 in Timeline">9 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li><li>
      <strong>Tester</strong>
        set to <em>Martyn Gigg</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-19">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:19" class="cnum">
      <a href="3400.html#comment:19">comment:19</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-09-19T15%3A29%3A33%2B01%3A00&amp;precision=second" title="2011-09-19T15:29:33+01:00 in Timeline">9 years</a> ago by Martyn Gigg
                </h3>
                
    <div class="comment searchable">
      
      <p>
Tested with ManagedRawFileWorkspace and standard ManagedWorkspace from raw and NeXus files. The detector/spectrum tables look okay. As mentioned above <a class="closed ticket" href="3740.html" title="task: Check ManagedWorkspace performance (closed: wontfix)">#3740</a> has been created to examine the performance implact.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-20">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:20" class="cnum">
      <a href="3400.html#comment:20">comment:20</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-09-19T15%3A29%3A37%2B01%3A00&amp;precision=second" title="2011-09-19T15:29:37+01:00 in Timeline">9 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>closed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-21">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:21" class="cnum">
      <a href="3400.html#comment:21">comment:21</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-03T22%3A58%3A37%2B01%3A00&amp;precision=second" title="2015-06-03T22:58:37+01:00 in Timeline">5 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
This ticket has been transferred to github issue <a class="ext-link" href="http://github.com/mantidproject/mantid/issues/4247"><span class="icon">​</span>4247</a>
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/3400?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/3400?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/3400?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.5</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
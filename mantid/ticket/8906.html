<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      #8906 (Improve handling monitors in SANS)
     – Mantid Project
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="8905.html" title="Ticket #8905" />
        <link rel="last" href="11888.html" title="Ticket #11888" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/8906?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/8906?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/8906?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="8907.html" title="Ticket #8907" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mantid Project" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="a82fe30e7bef2e30fd2838e9";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/mantid/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 8906, escape_newlines: 0}
        $("#comment").autoPreview("/mantid/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/mantid/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.mantidproject.org/"><img src="../chrome/site/mantid_logo_with_name.png" alt="Mantid Logo" width="250" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://trac.mantidproject.org/mantid/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="8905.html" title="Ticket #8905">Previous Ticket</a></span></li><li><span><a class="next" href="8907.html" title="Ticket #8907">Next Ticket</a> &rarr;</span></li><li class="last"><a href="../depgraph/8906.html">Depgraph</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="8906.html">Ticket #8906</a>
          <span class="status">(closed: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-07T08%3A49%3A07Z&amp;precision=second" title="2014-02-07T08:49:07Z in Timeline">7 years</a> ago</p>
    <p>Last modified <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T02%3A56%3A05%2B01%3A00&amp;precision=second" title="2015-06-04T02:56:05+01:00 in Timeline">5 years</a> ago</p>
  </div>
  <h2 class="summary searchable">Improve handling monitors in SANS</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;reporter=Gesner+Passos">Gesner Passos</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;owner=Peter+Parker">Peter Parker</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;priority=critical">critical</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="../milestone/Release&#32;3.1.1.html">Release 3.1.1</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;component=SANS">SANS</a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;keywords=~PatchCandidate">PatchCandidate</a>
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
              anders.markvardsen@…
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby"><span></span></td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking"><span><a class="assigned ticket" href="8921.html" title="SANS2D Tube Detectors - Umbrella Ticket">#8921</a>, <a class="closed ticket" href="8953.html" title="Geometry tab not populated correctly in v3.1">#8953</a></span></td>
        <th id="h_tester">
          Tester:
        </th>
        <td headers="h_tester">
              Gesner Passos
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
    </h3>
    <div class="searchable">
      <p>
The user complained that the loading more recent files does not show the monitors. In their operation, they use the monitors to check if the data was 'nice'. 
</p>
<p>
Besides, internally, we are handling monitors poorly, loading it more than once, and not keeping track of them. 
</p>
<p>
I suggest the following: 
</p>
<p>
1 - Add the flag LoadMonitors=True to the loader (LoadRun class).
1b - Ideally, all the monitors will have a descriptive name and should be grouped together inside a group name Monitors. (I think we are creating a 'Monitors' workspace in the process, it must be checked).
2 - Add to the class Sample a method like this: 
</p>
<ul><li>def get_monitors(self): return monitors (workspace)    
</li></ul><blockquote>
<p>
This method will be responsible for handling the monitors when they were loaded separately (event workspaces) and when they were loaded together (histogram workspace). 
This will be also a 'const' method in the sense, that it will assume clients of this method will not change the monitors workspaces, if they need so, they will clone it beforehand. 
</p>
</blockquote>
<p>
3 - Remove the method get_monitor from the reducer, and substitute it where it is called for the method in the sample through get_sample().get_monitors()
</p>
<ul><li>The signature is slightly different, but it is just one algorithm that is executed that the clients could execute: ExtractSingleSpectrum. Or, if you want, you can add the extra option to the Sample class. 
</li></ul><p>
4 - Update SliceEvent to get the monitor from the Sample class and not 'guessing' it from the workspace.
</p>
<p>
This last point will solve an issue also. If you try to load and reduce the simulated data created by Richard (babylon Freddies folder) SANS2d90024183.nxs, it will break on SliceEvent due to an error about the assumption to guess the file path.
</p>

    </div>
  </div>
</div>
          

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="8906.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-07T10%3A11%3A01Z&amp;precision=second" title="2014-02-07T10:11:01Z in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocking</strong>
        <em>8921</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="8906.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-07T16%3A08%3A00Z&amp;precision=second" title="2014-02-07T16:08:00Z in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocking</strong>
        <em>8953</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
(In <a class="closed ticket" href="8953.html" title="defect: Geometry tab not populated correctly in v3.1 (closed: fixed)">#8953</a>) This ticket depends on the solution proposed in <a class="closed ticket" href="8906.html" title="enhancement: Improve handling monitors in SANS (closed: fixed)">#8906</a>. The problem is that in SANSRunWindow:setGeometryDetails there is a point it tries to get the monitor, if it fails it silently give up doing the job. Hence, it will depend on the solution proposed there to be able to handle this issue.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="8906.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-10T08%3A30%3A14Z&amp;precision=second" title="2014-02-10T08:30:14Z in Timeline">7 years</a> ago by Peter Parker
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>inprogress</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="8906.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-10T08%3A38%3A35Z&amp;precision=second" title="2014-02-10T08:38:35Z in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
    <div class="comment searchable">
      
      <p>
Comment from Richard related to this ticket: 
</p>
<pre class="wiki">Note that loaded nxs workspaces only have event mode data 
(thus may only appear to have one time channel), not monitor histograms. 
Several “monitor” workspaces that appear do have the monitors but only for 
the last nxs file loaded, but we cannot tell for which run. 
Can we leave the monitor histogram workspaces grouped under the nxs workspaces??? 
When  things go wrong one of the things we first look at are the monitor spectra.
</pre>
    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="8906.html#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-12T16%3A31%3A16Z&amp;precision=second" title="2014-02-12T16:31:16Z in Timeline">7 years</a> ago by Peter Parker
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8906.html" title="enhancement: Improve handling monitors in SANS (closed: fixed)">#8906</a> - More descriptive names for monitor workspaces.
</p>
<p>
Essentially, the name of the original workspace name with a "_monitors"
suffix.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/6df657415245e73c504d8cf4249c9e5434284e47" title="6df657415245e73c504d8cf4249c9e5434284e47">6df657415245e73c504d8cf4249c9e5434284e47</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="8906.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-12T16%3A31%3A16Z&amp;precision=second" title="2014-02-12T16:31:16Z in Timeline">7 years</a> ago by Peter Parker
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8906.html" title="enhancement: Improve handling monitors in SANS (closed: fixed)">#8906</a> - Move get_monitor method to Sample class.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/96f039dace80e93a601d32cfe4ff6fe862a01045" title="96f039dace80e93a601d32cfe4ff6fe862a01045">96f039dace80e93a601d32cfe4ff6fe862a01045</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="8906.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-12T16%3A31%3A16Z&amp;precision=second" title="2014-02-12T16:31:16Z in Timeline">7 years</a> ago by Peter Parker
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8906.html" title="enhancement: Improve handling monitors in SANS (closed: fixed)">#8906</a> - SliceEvent now gets monitor from Sample class.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/a987a75b4953193c081a05e5d1e2a6995f6aa21d" title="a987a75b4953193c081a05e5d1e2a6995f6aa21d">a987a75b4953193c081a05e5d1e2a6995f6aa21d</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="8906.html#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-12T16%3A31%3A16Z&amp;precision=second" title="2014-02-12T16:31:16Z in Timeline">7 years</a> ago by Peter Parker
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8906.html" title="enhancement: Improve handling monitors in SANS (closed: fixed)">#8906</a> - Cleaner way to load monitors for event files.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/aa2c83f6f8a00025a39df32e9e162c1b682a99c6" title="aa2c83f6f8a00025a39df32e9e162c1b682a99c6">aa2c83f6f8a00025a39df32e9e162c1b682a99c6</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="8906.html#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-12T16%3A31%3A28Z&amp;precision=second" title="2014-02-12T16:31:28Z in Timeline">7 years</a> ago by Peter Parker
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8906.html" title="enhancement: Improve handling monitors in SANS (closed: fixed)">#8906</a> - Change tolerance account for different loading.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/48f6e07702b59bf4562f795d732afb965fa50833" title="48f6e07702b59bf4562f795d732afb965fa50833">48f6e07702b59bf4562f795d732afb965fa50833</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="8906.html#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-12T16%3A40%3A41Z&amp;precision=second" title="2014-02-12T16:40:41Z in Timeline">7 years</a> ago by Peter Parker
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>inprogress</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Testing:
</p>
<p>
This one is best looked at by Gesner.
</p>
<p>
Gesner, the changes are as we discussed.  Remember to merge in the system tests branch as well.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="8906.html#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-13T09%3A45%3A17Z&amp;precision=second" title="2014-02-13T09:45:17Z in Timeline">7 years</a> ago by Peter Parker
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>reopened</em>
    </li><li>
      <strong>Resolution</strong>
        <em>fixed</em> deleted
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Reopening after a discussion with Gesner.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="8906.html#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-13T11%3A51%3A25Z&amp;precision=second" title="2014-02-13T11:51:25Z in Timeline">7 years</a> ago by Peter Parker
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>reopened</em> to <em>inprogress</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8906.html" title="enhancement: Improve handling monitors in SANS (closed: fixed)">#8906</a> - Use a scaled version of the same monitor.
</p>
<p>
Instead of passing the resulting monitor from SliceEvent to
NormalizeToMonitor, just use a scaled version of the same monitor that was
passed to SliceEvent.
</p>
<p>
These changes should also make the process of having monitors in a
different time regime easier, which is an issue we will be facing in the
future.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/bc772830e7f2c8f90f176a6fc16f6db755a3bfd6" title="bc772830e7f2c8f90f176a6fc16f6db755a3bfd6">bc772830e7f2c8f90f176a6fc16f6db755a3bfd6</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="8906.html#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-13T11%3A52%3A15Z&amp;precision=second" title="2014-02-13T11:52:15Z in Timeline">7 years</a> ago by Peter Parker
                </h3>
                
    <div class="comment searchable">
      
      <p>
Revert "Refs <a class="closed ticket" href="8906.html" title="enhancement: Improve handling monitors in SANS (closed: fixed)">#8906</a> - Change tolerance account for different loading."
</p>
<p>
This reverts commit <a class="changeset" href="https://github.com/mantidproject/mantid/commit/48f6e07702b59bf4562f795d732afb965fa50833" title="48f6e07702b59bf4562f795d732afb965fa50833">48f6e07702b59bf4562f795d732afb965fa50833</a>.
</p>
<p>
Since we now handle monitors correctly when normalising, the relaxed
tolerance is no longer necessary.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/c168ba914290250d64fd2bd5935ac265b4b7442a" title="c168ba914290250d64fd2bd5935ac265b4b7442a">c168ba914290250d64fd2bd5935ac265b4b7442a</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-14">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:14" class="cnum">
      <a href="8906.html#comment:14">comment:14</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-13T12%3A32%3A20Z&amp;precision=second" title="2014-02-13T12:32:20Z in Timeline">7 years</a> ago by Peter Parker
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8906.html" title="enhancement: Improve handling monitors in SANS (closed: fixed)">#8906</a> - Only run scale when necessary.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/fffaee634aefa01580bc893f51207a3d391c4179" title="fffaee634aefa01580bc893f51207a3d391c4179">fffaee634aefa01580bc893f51207a3d391c4179</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-15">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:15" class="cnum">
      <a href="8906.html#comment:15">comment:15</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-13T12%3A37%3A23Z&amp;precision=second" title="2014-02-13T12:37:23Z in Timeline">7 years</a> ago by Peter Parker
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>inprogress</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-16">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:16" class="cnum">
      <a href="8906.html#comment:16">comment:16</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-14T06%3A49%3A20Z&amp;precision=second" title="2014-02-14T06:49:20Z in Timeline">7 years</a> ago by Peter Parker
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>reopened</em>
    </li><li>
      <strong>Resolution</strong>
        <em>fixed</em> deleted
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-17">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:17" class="cnum">
      <a href="8906.html#comment:17">comment:17</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-14T07%3A05%3A19Z&amp;precision=second" title="2014-02-14T07:05:19Z in Timeline">7 years</a> ago by Peter Parker
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>reopened</em> to <em>inprogress</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8906.html" title="enhancement: Improve handling monitors in SANS (closed: fixed)">#8906</a> - Temp change to tol to fix system tests.
</p>
<p>
Until I can find out what's going on differently that's affecting LOQ.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/2cc39538792789480eba3229fdfff27616e65b27" title="2cc39538792789480eba3229fdfff27616e65b27">2cc39538792789480eba3229fdfff27616e65b27</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-18">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:18" class="cnum">
      <a href="8906.html#comment:18">comment:18</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-14T09%3A28%3A37Z&amp;precision=second" title="2014-02-14T09:28:37Z in Timeline">7 years</a> ago by Peter Parker
                </h3>
                
    <div class="comment searchable">
      
      <p>
Revert "Refs <a class="closed ticket" href="8906.html" title="enhancement: Improve handling monitors in SANS (closed: fixed)">#8906</a> - Temp change to tol to fix system tests."
</p>
<p>
This reverts commit <a class="changeset" href="https://github.com/mantidproject/mantid/commit/2cc39538792789480eba3229fdfff27616e65b27" title="2cc39538792789480eba3229fdfff27616e65b27">2cc39538792789480eba3229fdfff27616e65b27</a>.
</p>
<p>
The problem actually originated in <a class="inprogress ticket" href="8977.html" title="enhancement: Calculate Transmission Polynomial (inprogress)">#8977</a>.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/373db072781861e1406c8b5c5d61c2e93bd1a57e" title="373db072781861e1406c8b5c5d61c2e93bd1a57e">373db072781861e1406c8b5c5d61c2e93bd1a57e</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-19">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:19" class="cnum">
      <a href="8906.html#comment:19">comment:19</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-17T09%3A23%3A29Z&amp;precision=second" title="2014-02-17T09:23:29Z in Timeline">7 years</a> ago by Peter Parker
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>inprogress</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-20">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:20" class="cnum">
      <a href="8906.html#comment:20">comment:20</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-17T09%3A24%3A55Z&amp;precision=second" title="2014-02-17T09:24:55Z in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li><li>
      <strong>Tester</strong>
        set to <em>Gesner Passos</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-21">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:21" class="cnum">
      <a href="8906.html#comment:21">comment:21</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-17T12%3A54%3A19Z&amp;precision=second" title="2014-02-17T12:54:19Z in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>closed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Merge remote-tracking branch 'origin/feature/8906_improve_monitor_handling_in_isis_sans'
</p>
<p>
Full changeset: <a class="ext-link" href="https://github.com/mantidproject/mantid/commit/2d7f5a626e29ca692cd4e18191de5c30ad834ea8"><span class="icon">​</span>2d7f5a626e29ca692cd4e18191de5c30ad834ea8</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-22">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:22" class="cnum">
      <a href="8906.html#comment:22">comment:22</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-20T16%3A15%3A17Z&amp;precision=second" title="2014-02-20T16:15:17Z in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Keywords</strong>
        <em>PatchCandidate</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
The user requested to see the monitors of loaded data, and it was a 'non-wanted' feature introduced in 3.1. Hence, this should go 'published' ASAP.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-23">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:23" class="cnum">
      <a href="8906.html#comment:23">comment:23</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-24T16%3A09%3A47Z&amp;precision=second" title="2014-02-24T16:09:47Z in Timeline">7 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>Release 3.2</em> to <em>Release 3.1.1</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Moved to patch release 3.1.1
</p>

    </div>

              </div>
              <div class="change" id="trac-change-24">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:24" class="cnum">
      <a href="8906.html#comment:24">comment:24</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-26T17%3A20%3A59Z&amp;precision=second" title="2014-02-26T17:20:59Z in Timeline">7 years</a> ago by Peter Parker
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8906.html" title="enhancement: Improve handling monitors in SANS (closed: fixed)">#8906</a> - More descriptive names for monitor workspaces.
</p>
<p>
Essentially, the name of the original workspace name with a "_monitors"
suffix.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/35c50a7b79d3c0009bf369580800e3ac98726c43" title="35c50a7b79d3c0009bf369580800e3ac98726c43">35c50a7b79d3c0009bf369580800e3ac98726c43</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-25">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:25" class="cnum">
      <a href="8906.html#comment:25">comment:25</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-26T17%3A20%3A59Z&amp;precision=second" title="2014-02-26T17:20:59Z in Timeline">7 years</a> ago by Peter Parker
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8906.html" title="enhancement: Improve handling monitors in SANS (closed: fixed)">#8906</a> - Move get_monitor method to Sample class.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/3dd15baf510bc09fd8a1dcb48b53440a367613b5" title="3dd15baf510bc09fd8a1dcb48b53440a367613b5">3dd15baf510bc09fd8a1dcb48b53440a367613b5</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-26">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:26" class="cnum">
      <a href="8906.html#comment:26">comment:26</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-26T17%3A21%3A00Z&amp;precision=second" title="2014-02-26T17:21:00Z in Timeline">7 years</a> ago by Peter Parker
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8906.html" title="enhancement: Improve handling monitors in SANS (closed: fixed)">#8906</a> - SliceEvent now gets monitor from Sample class.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/f6789b7d7df138aa8f68e25da2ec57d14a493f0e" title="f6789b7d7df138aa8f68e25da2ec57d14a493f0e">f6789b7d7df138aa8f68e25da2ec57d14a493f0e</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-27">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:27" class="cnum">
      <a href="8906.html#comment:27">comment:27</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-26T17%3A21%3A00Z&amp;precision=second" title="2014-02-26T17:21:00Z in Timeline">7 years</a> ago by Peter Parker
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8906.html" title="enhancement: Improve handling monitors in SANS (closed: fixed)">#8906</a> - Cleaner way to load monitors for event files.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/6dce1bfc9d5692a0b93477bf4846b7e6b7dee5ce" title="6dce1bfc9d5692a0b93477bf4846b7e6b7dee5ce">6dce1bfc9d5692a0b93477bf4846b7e6b7dee5ce</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-28">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:28" class="cnum">
      <a href="8906.html#comment:28">comment:28</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-26T17%3A21%3A00Z&amp;precision=second" title="2014-02-26T17:21:00Z in Timeline">7 years</a> ago by Peter Parker
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8906.html" title="enhancement: Improve handling monitors in SANS (closed: fixed)">#8906</a> - Use a scaled version of the same monitor.
</p>
<p>
Instead of passing the resulting monitor from SliceEvent to
NormalizeToMonitor, just use a scaled version of the same monitor that was
passed to SliceEvent.
</p>
<p>
These changes should also make the process of having monitors in a
different time regime easier, which is an issue we will be facing in the
future.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/f122aaf02b514e460e2f090ee2702f8508c84d55" title="f122aaf02b514e460e2f090ee2702f8508c84d55">f122aaf02b514e460e2f090ee2702f8508c84d55</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-29">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:29" class="cnum">
      <a href="8906.html#comment:29">comment:29</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-26T17%3A21%3A00Z&amp;precision=second" title="2014-02-26T17:21:00Z in Timeline">7 years</a> ago by Peter Parker
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="8906.html" title="enhancement: Improve handling monitors in SANS (closed: fixed)">#8906</a> - Only run scale when necessary.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/b4a09e4811598cc457e0f2cd387cd8f6b301917a" title="b4a09e4811598cc457e0f2cd387cd8f6b301917a">b4a09e4811598cc457e0f2cd387cd8f6b301917a</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-30">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:30" class="cnum">
      <a href="8906.html#comment:30">comment:30</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-26T17%3A21%3A38Z&amp;precision=second" title="2014-02-26T17:21:38Z in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
The above 6 commits are from the rebase of this work onto the patch release branch.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-31">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:31" class="cnum">
      <a href="8906.html#comment:31">comment:31</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-28T14%3A19%3A11Z&amp;precision=second" title="2014-02-28T14:19:11Z in Timeline">7 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>type</strong>
        changed from <em>task</em> to <em>enhancement</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-32">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:32" class="cnum">
      <a href="8906.html#comment:32">comment:32</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T02%3A56%3A05%2B01%3A00&amp;precision=second" title="2015-06-04T02:56:05+01:00 in Timeline">5 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
This ticket has been transferred to github issue <a class="ext-link" href="http://github.com/mantidproject/mantid/issues/9749"><span class="icon">​</span>9749</a>
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/8906?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/8906?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/8906?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.5</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
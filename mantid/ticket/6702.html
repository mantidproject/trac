<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      #6702 (Instrument Specific Splitting)
     â€“ Mantid Project
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="6701.html" title="Ticket #6701" />
        <link rel="last" href="11888.html" title="Ticket #11888" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/6702?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/6702?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/6702?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="6703.html" title="Ticket #6703" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mantid Project" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="a82fe30e7bef2e30fd2838e9";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/mantid/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 6702, escape_newlines: 0}
        $("#comment").autoPreview("/mantid/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/mantid/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.mantidproject.org/"><img src="../chrome/site/mantid_logo_with_name.png" alt="Mantid Logo" width="250" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://trac.mantidproject.org/mantid/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="6701.html" title="Ticket #6701">Previous Ticket</a></span></li><li><span><a class="next" href="6703.html" title="Ticket #6703">Next Ticket</a> &rarr;</span></li><li class="last"><a href="../depgraph/6702.html">Depgraph</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="6702.html">Ticket #6702</a>
          <span class="status">(closed: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-03-12T10%3A08%3A27Z&amp;precision=second" title="2013-03-12T10:08:27Z in Timeline">8 years</a> ago</p>
    <p>Last modified <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T01%3A24%3A47%2B01%3A00&amp;precision=second" title="2015-06-04T01:24:47+01:00 in Timeline">5 years</a> ago</p>
  </div>
  <h2 class="summary searchable">Instrument Specific Splitting</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;reporter=Owen+Arnold">Owen Arnold</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;owner=Owen+Arnold">Owen Arnold</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;priority=critical">critical</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="../milestone/Release&#32;2.5.html">Release 2.5</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;component=Mantid">Mantid</a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby"><span></span></td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking"><span><a class="closed ticket" href="6703.html" title="Splitting Implementation for WISH">#6703</a></span></td>
        <th id="h_tester">
          Tester:
        </th>
        <td headers="h_tester">
              Nick Draper
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
    </h3>
    <div class="searchable">
      <p>
Suggestion by Martyn Gigg at Single Crystal Diffraction Meeting 06/March/2013 to overcome the issue of different techniques favouring differing split parameters.
</p>
<p>
This is strongly backed by Pascal, who does not want have to tweak split parameters for peak finding. The split parameters make a huge difference in the remaining workflow.  
</p>
<p>
It seems that the dynamic structure of the mdworkspace is a good design for peak finding, because the additional resolution is only of interest in the neighbourhood of the peak. We therefore want to keep using ConvertToMD/ConvertToDiffractionMD, but we want to be able to pick-up defaults from the instrument parameters.
</p>
<p>
This ticket is to make these algorithms compliant with new instrument parameters. Modification of individual IDFs and Parameter files will happen under a separate ticket. 
</p>

    </div>
  </div>
</div>
          
    <div id="attachments">
        <h2 class="foldable">Attachments</h2>
        <div>
          <dl class="attachments">
              <dt>
    <a href="../attachment/ticket/6702/SplittingParams.xml.html" title="View attachment">SplittingParams.xml</a><a href="../raw-attachment/ticket/6702/SplittingParams.xml" class="trac-rawlink" title="Download">â€‹</a>
       (<span title="382 bytes">382 bytes</span>) -
      added by <em>Owen Arnold</em> <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-03-13T12%3A02%3A22Z&amp;precision=second" title="2013-03-13T12:02:22Z in Timeline">8 years</a> ago.
  </dt>
          </dl>
          
        </div>
    </div>

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="6702.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-03-12T10%3A08%3A40Z&amp;precision=second" title="2013-03-12T10:08:40Z in Timeline">8 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Priority</strong>
        changed from <em>major</em> to <em>critical</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="6702.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-03-12T10%3A09%3A16Z&amp;precision=second" title="2013-03-12T10:09:16Z in Timeline">8 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>accepted</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="6702.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-03-12T10%3A15%3A45Z&amp;precision=second" title="2013-03-12T10:15:45Z in Timeline">8 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocking</strong>
        <em>6703</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="6702.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-03-12T10%3A23%3A27Z&amp;precision=second" title="2013-03-12T10:23:27Z in Timeline">8 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
Better yet. It looks like I can make these changes in the BoxControllerSettingsAlgorithm base. That way they'll be applied to all algorithms that need it.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="6702.html#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-03-13T10%3A30%3A49Z&amp;precision=second" title="2013-03-13T10:30:49Z in Timeline">8 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="6702.html" title="enhancement: Instrument Specific Splitting (closed: fixed)">#6702</a>. Read from instrument parameters. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/26d10f06cb7807dcacd63baed6aa47ad1cd4db08" title="26d10f06cb7807dcacd63baed6aa47ad1cd4db08">26d10f06cb7807dcacd63baed6aa47ad1cd4db08</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="6702.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-03-13T10%3A32%3A39Z&amp;precision=second" title="2013-03-13T10:32:39Z in Timeline">8 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="6702.html" title="enhancement: Instrument Specific Splitting (closed: fixed)">#6702</a>. Read from instrument parameters. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/26d10f06cb7807dcacd63baed6aa47ad1cd4db08" title="26d10f06cb7807dcacd63baed6aa47ad1cd4db08">26d10f06cb7807dcacd63baed6aa47ad1cd4db08</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="6702.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-03-13T10%3A47%3A51Z&amp;precision=second" title="2013-03-13T10:47:51Z in Timeline">8 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="6702.html" title="enhancement: Instrument Specific Splitting (closed: fixed)">#6702</a>. Fix error in test code. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/c85c007c69291342054c22242c0fcf504fb98cfb" title="c85c007c69291342054c22242c0fcf504fb98cfb">c85c007c69291342054c22242c0fcf504fb98cfb</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="6702.html#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-03-13T10%3A59%3A21Z&amp;precision=second" title="2013-03-13T10:59:21Z in Timeline">8 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="6702.html" title="enhancement: Instrument Specific Splitting (closed: fixed)">#6702</a>. Fix error in test code. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/c85c007c69291342054c22242c0fcf504fb98cfb" title="c85c007c69291342054c22242c0fcf504fb98cfb">c85c007c69291342054c22242c0fcf504fb98cfb</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change">
                <h3 class="change">
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-03-13T12%3A02%3A22Z&amp;precision=second" title="2013-03-13T12:02:22Z in Timeline">8 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Attachment</strong>
        <a href="../attachment/ticket/6702/SplittingParams.xml.html"><em>SplittingParams.xml</em></a><a href="../raw-attachment/ticket/6702/SplittingParams.xml" title="Download" class="trac-rawlink">â€‹</a>
          added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="6702.html#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-03-13T12%3A09%3A29Z&amp;precision=second" title="2013-03-13T12:09:29Z in Timeline">8 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
Tester: First off, you might want to satisfy yourself that there are unit tests covering the enhanced features provided by this ticket. You can then perform some manual testing. One such test is provided below.
</p>
<p>
Run the following, which uses the attached parameters file (although application of parameters commented out to begin with).
</p>
<div class="code"><pre>Load<span class="p">(</span>Filename<span class="o">=</span><span class="s">'CNCS_7860_event.nxs'</span><span class="p">,</span> OutputWorkspace<span class="o">=</span><span class="s">'ws'</span><span class="p">,</span> OutputWLoadMonitors<span class="o">=</span><span class="s">'1'</span><span class="p">)</span>
<span class="c">#LoadParameterFile(Workspace=ws, Filename=r'SplittingParams.xml')</span>

AddSampleLog<span class="p">(</span>Workspace<span class="o">=</span><span class="s">'ws'</span><span class="p">,</span>LogName<span class="o">=</span><span class="s">'Ei'</span><span class="p">,</span>LogText<span class="o">=</span><span class="s">'3'</span><span class="p">,</span>LogType<span class="o">=</span><span class="s">'Number'</span><span class="p">)</span>
TestMD <span class="o">=</span> ConvertToMD<span class="p">(</span>InputWorkspace<span class="o">=</span><span class="s">'ws'</span><span class="p">,</span>QDimensions<span class="o">=</span><span class="s">'Q3D'</span><span class="p">,</span>MinValues<span class="o">=</span><span class="s">'-3,-3,-3,-1'</span><span class="p">,</span>MaxValues<span class="o">=</span><span class="s">'3,3,3,3'</span><span class="p">)</span>
bc <span class="o">=</span> TestMD<span class="o">.</span>getBoxController<span class="p">()</span>
<span class="k">print</span> <span class="s">"SplitInto used:"</span><span class="p">,</span>
<span class="k">for</span> i <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> bc<span class="o">.</span>getNDims<span class="p">()):</span>
        <span class="k">print</span> bc<span class="o">.</span>getSplitInto<span class="p">(</span>i<span class="p">),</span>
<span class="k">print</span>
<span class="k">print</span> <span class="s">"SplitThreshold used:"</span><span class="p">,</span>
<span class="k">print</span> bc<span class="o">.</span>getSplitThreshold<span class="p">()</span>
<span class="k">print</span> <span class="s">"MaxRecursionDepth used:"</span><span class="p">,</span>
<span class="k">print</span> bc<span class="o">.</span>getMaxDepth<span class="p">()</span>
</pre></div><p>
This will print out the defaults for the splitting parameters. Make a note of these. 
</p>
<ul><li>Now open the attached file <em>SplittingParams.xml</em> and look at what the CNCS instrument specifies the defaults should be. 
</li><li>Uncomment line 2 in the script above
</li><li>Re-run the script
</li><li>The printed split parameters should now match those in the SplittiingParams.xml file. 
</li></ul>
    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="6702.html#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-03-13T12%3A09%3A42Z&amp;precision=second" title="2013-03-13T12:09:42Z in Timeline">8 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>accepted</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="6702.html#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-03-13T14%3A37%3A13Z&amp;precision=second" title="2013-03-13T14:37:13Z in Timeline">8 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
Branch is <a class="ext-link" href="https://github.com/mantidproject/mantid/tree/feature/6702_splitting_settings"><span class="icon">â€‹</span>https://github.com/mantidproject/mantid/tree/feature/6702_splitting_settings</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="6702.html#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-03-15T13%3A21%3A14Z&amp;precision=second" title="2013-03-15T13:21:14Z in Timeline">8 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li><li>
      <strong>Tester</strong>
        set to <em>Nick Draper</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="6702.html#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-03-15T13%3A49%3A24Z&amp;precision=second" title="2013-03-15T13:49:24Z in Timeline">8 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>closed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Tested,
</p>
<p>
There was a small error in the script.
</p>
<p>
correction is
</p>
<pre class="wiki">ws=Load(Filename='CNCS_7860_event.nxs', OutputWLoadMonitors='1')
#LoadParameterFile(Workspace=ws, Filename=r'C:\Users\rrc79113\Downloads\SplittingParams.xml')

AddSampleLog(Workspace='ws',LogName='Ei',LogText='3',LogType='Number')
TestMD = ConvertToMD(InputWorkspace='ws',QDimensions='Q3D',MinValues='-3,-3,-3,-1',MaxValues='3,3,3,3')
bc = TestMD.getBoxController()
print "SplitInto used:",
for i in range(0, bc.getNDims()):
        print bc.getSplitInto(i),
print
print "SplitThreshold used:",
print bc.getSplitThreshold()
print "MaxRecursionDepth used:",
print bc.getMaxDepth()

</pre><p>
Passed
</p>

    </div>

              </div>
              <div class="change" id="trac-change-14">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:14" class="cnum">
      <a href="6702.html#comment:14">comment:14</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-03-15T13%3A52%3A45Z&amp;precision=second" title="2013-03-15T13:52:45Z in Timeline">8 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="6702.html" title="enhancement: Instrument Specific Splitting (closed: fixed)">#6702</a>. Read from instrument parameters. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/26d10f06cb7807dcacd63baed6aa47ad1cd4db08" title="26d10f06cb7807dcacd63baed6aa47ad1cd4db08">26d10f06cb7807dcacd63baed6aa47ad1cd4db08</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-15">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:15" class="cnum">
      <a href="6702.html#comment:15">comment:15</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-03-15T13%3A52%3A45Z&amp;precision=second" title="2013-03-15T13:52:45Z in Timeline">8 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="6702.html" title="enhancement: Instrument Specific Splitting (closed: fixed)">#6702</a>. Fix error in test code. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/c85c007c69291342054c22242c0fcf504fb98cfb" title="c85c007c69291342054c22242c0fcf504fb98cfb">c85c007c69291342054c22242c0fcf504fb98cfb</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-16">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:16" class="cnum">
      <a href="6702.html#comment:16">comment:16</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-03-15T15%3A09%3A11Z&amp;precision=second" title="2013-03-15T15:09:11Z in Timeline">8 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="6702.html" title="enhancement: Instrument Specific Splitting (closed: fixed)">#6702</a>. Read from instrument parameters. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/26d10f06cb7807dcacd63baed6aa47ad1cd4db08" title="26d10f06cb7807dcacd63baed6aa47ad1cd4db08">26d10f06cb7807dcacd63baed6aa47ad1cd4db08</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-17">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:17" class="cnum">
      <a href="6702.html#comment:17">comment:17</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-03-15T15%3A09%3A11Z&amp;precision=second" title="2013-03-15T15:09:11Z in Timeline">8 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="6702.html" title="enhancement: Instrument Specific Splitting (closed: fixed)">#6702</a>. Fix error in test code. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/c85c007c69291342054c22242c0fcf504fb98cfb" title="c85c007c69291342054c22242c0fcf504fb98cfb">c85c007c69291342054c22242c0fcf504fb98cfb</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-18">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:18" class="cnum">
      <a href="6702.html#comment:18">comment:18</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-03-15T15%3A41%3A37Z&amp;precision=second" title="2013-03-15T15:41:37Z in Timeline">8 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="6702.html" title="enhancement: Instrument Specific Splitting (closed: fixed)">#6702</a>. Read from instrument parameters. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/26d10f06cb7807dcacd63baed6aa47ad1cd4db08" title="26d10f06cb7807dcacd63baed6aa47ad1cd4db08">26d10f06cb7807dcacd63baed6aa47ad1cd4db08</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-19">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:19" class="cnum">
      <a href="6702.html#comment:19">comment:19</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-03-15T15%3A41%3A37Z&amp;precision=second" title="2013-03-15T15:41:37Z in Timeline">8 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="6702.html" title="enhancement: Instrument Specific Splitting (closed: fixed)">#6702</a>. Fix error in test code. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/c85c007c69291342054c22242c0fcf504fb98cfb" title="c85c007c69291342054c22242c0fcf504fb98cfb">c85c007c69291342054c22242c0fcf504fb98cfb</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-20">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:20" class="cnum">
      <a href="6702.html#comment:20">comment:20</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-03-18T11%3A00%3A41Z&amp;precision=second" title="2013-03-18T11:00:41Z in Timeline">8 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="6702.html" title="enhancement: Instrument Specific Splitting (closed: fixed)">#6702</a>. Read from instrument parameters. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/26d10f06cb7807dcacd63baed6aa47ad1cd4db08" title="26d10f06cb7807dcacd63baed6aa47ad1cd4db08">26d10f06cb7807dcacd63baed6aa47ad1cd4db08</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-21">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:21" class="cnum">
      <a href="6702.html#comment:21">comment:21</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-03-18T11%3A00%3A41Z&amp;precision=second" title="2013-03-18T11:00:41Z in Timeline">8 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="6702.html" title="enhancement: Instrument Specific Splitting (closed: fixed)">#6702</a>. Fix error in test code. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/c85c007c69291342054c22242c0fcf504fb98cfb" title="c85c007c69291342054c22242c0fcf504fb98cfb">c85c007c69291342054c22242c0fcf504fb98cfb</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-22">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:22" class="cnum">
      <a href="6702.html#comment:22">comment:22</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-03-28T13%3A07%3A35Z&amp;precision=second" title="2013-03-28T13:07:35Z in Timeline">8 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="6702.html" title="enhancement: Instrument Specific Splitting (closed: fixed)">#6702</a>. Read from instrument parameters. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/26d10f06cb7807dcacd63baed6aa47ad1cd4db08" title="26d10f06cb7807dcacd63baed6aa47ad1cd4db08">26d10f06cb7807dcacd63baed6aa47ad1cd4db08</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-23">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:23" class="cnum">
      <a href="6702.html#comment:23">comment:23</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-03-28T13%3A07%3A35Z&amp;precision=second" title="2013-03-28T13:07:35Z in Timeline">8 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="6702.html" title="enhancement: Instrument Specific Splitting (closed: fixed)">#6702</a>. Fix error in test code. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/c85c007c69291342054c22242c0fcf504fb98cfb" title="c85c007c69291342054c22242c0fcf504fb98cfb">c85c007c69291342054c22242c0fcf504fb98cfb</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-24">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:24" class="cnum">
      <a href="6702.html#comment:24">comment:24</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-04-05T12%3A47%3A59%2B01%3A00&amp;precision=second" title="2013-04-05T12:47:59+01:00 in Timeline">8 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="6702.html" title="enhancement: Instrument Specific Splitting (closed: fixed)">#6702</a>. Read from instrument parameters. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/26d10f06cb7807dcacd63baed6aa47ad1cd4db08" title="26d10f06cb7807dcacd63baed6aa47ad1cd4db08">26d10f06cb7807dcacd63baed6aa47ad1cd4db08</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-25">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:25" class="cnum">
      <a href="6702.html#comment:25">comment:25</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-04-05T12%3A47%3A59%2B01%3A00&amp;precision=second" title="2013-04-05T12:47:59+01:00 in Timeline">8 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="6702.html" title="enhancement: Instrument Specific Splitting (closed: fixed)">#6702</a>. Fix error in test code. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/c85c007c69291342054c22242c0fcf504fb98cfb" title="c85c007c69291342054c22242c0fcf504fb98cfb">c85c007c69291342054c22242c0fcf504fb98cfb</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-26">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:26" class="cnum">
      <a href="6702.html#comment:26">comment:26</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T01%3A24%3A47%2B01%3A00&amp;precision=second" title="2015-06-04T01:24:47+01:00 in Timeline">5 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
This ticket has been transferred to github issue <a class="ext-link" href="http://github.com/mantidproject/mantid/issues/7548"><span class="icon">â€‹</span>7548</a>
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <script type="text/javascript">
        jQuery.loadStyleSheet("/mantid/pygments/trac.css", "text/css");
    </script>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/6702?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/6702?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/6702?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.5</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      #9117 (Calibration: Ignore spectra which are not assigned to a detector)
     – Mantid Project
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="9116.html" title="Ticket #9116" />
        <link rel="last" href="11888.html" title="Ticket #11888" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/9117?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/9117?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/9117?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="9118.html" title="Ticket #9118" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mantid Project" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="a82fe30e7bef2e30fd2838e9";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/mantid/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 9117, escape_newlines: 0}
        $("#comment").autoPreview("/mantid/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/mantid/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.mantidproject.org/"><img src="../chrome/site/mantid_logo_with_name.png" alt="Mantid Logo" width="250" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://trac.mantidproject.org/mantid/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="9116.html" title="Ticket #9116">Previous Ticket</a></span></li><li class="last"><span><a class="next" href="9118.html" title="Ticket #9118">Next Ticket</a> &rarr;</span></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="9117.html">Ticket #9117</a>
          <span class="status">(closed: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-03-04T15%3A41%3A58Z&amp;precision=second" title="2014-03-04T15:41:58Z in Timeline">7 years</a> ago</p>
    <p>Last modified <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T03%3A04%3A52%2B01%3A00&amp;precision=second" title="2015-06-04T03:04:52+01:00 in Timeline">5 years</a> ago</p>
  </div>
  <h2 class="summary searchable">Calibration: Ignore spectra which are not assigned to a detector</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;reporter=Gesner+Passos">Gesner Passos</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;owner=Peter+Parker">Peter Parker</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;priority=major">major</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="../milestone/Release&#32;3.2.html">Release 3.2</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;component=Tools">Tools</a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
              peter.parker@…
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby"><span></span></td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking"><span></span></td>
        <th id="h_tester">
          Tester:
        </th>
        <td headers="h_tester">
              Karl Palmen
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
    </h3>
    <div class="searchable">
      <p>
If the workspace has a spectrum with no detector assigned, the calibration will break.
</p>
<p>
Try to run the script in <a class="closed ticket" href="8845.html" title="enhancement: Check calibration of SANS2D new high angle detector (closed: duplicate)">#8845</a> and you will get an exception and it will stop running. 
</p>

    </div>
  </div>
</div>
          
    <div id="attachments">
        <h2 class="foldable">Attachments</h2>
        <div>
          <dl class="attachments">
              <dt>
    <a href="../attachment/ticket/9117/ignore_not_defined_detector.patch.html" title="View attachment">ignore_not_defined_detector.patch</a><a href="../raw-attachment/ticket/9117/ignore_not_defined_detector.patch" class="trac-rawlink" title="Download">​</a>
       (<span title="1342 bytes">1.3 KB</span>) -
      added by <em>Gesner Passos</em> <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-03-04T15%3A42%3A22Z&amp;precision=second" title="2014-03-04T15:42:22Z in Timeline">7 years</a> ago.
  </dt>
          </dl>
          
        </div>
    </div>

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change">
                <h3 class="change">
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-03-04T15%3A42%3A22Z&amp;precision=second" title="2014-03-04T15:42:22Z in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Attachment</strong>
        <a href="../attachment/ticket/9117/ignore_not_defined_detector.patch.html"><em>ignore_not_defined_detector.patch</em></a><a href="../raw-attachment/ticket/9117/ignore_not_defined_detector.patch" title="Download" class="trac-rawlink">​</a>
          added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="9117.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-03-04T15%3A43%3A08Z&amp;precision=second" title="2014-03-04T15:43:08Z in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Cc</strong>
        <em>peter.parker@…</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
I do not know which Component to assign for calibration related tickets.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="9117.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-03-04T16%3A20%3A12Z&amp;precision=second" title="2014-03-04T16:20:12Z in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
    <div class="comment searchable">
      
      <p>
The error is: 
</p>
<pre class="wiki">RuntimeError: Instrument: Detector with ID 3100000 not found. search object 
at line 21 in 'Z:/Mantidscripts/SANS2d_tubes_calib1.py'
caused by line 396 in 'C:/MantidInstall/scripts/Calibration\tube.py'
caused by line 362 in 'C:/MantidInstall/scripts/Calibration\tube_spec.py'
caused by line 336 in 'C:/MantidInstall/scripts/Calibration\tube_spec.py'

</pre>
    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="9117.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-03-04T16%3A54%3A22Z&amp;precision=second" title="2014-03-04T16:54:22Z in Timeline">7 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>assigned</em>
    </li><li>
      <strong>Summary</strong>
        changed from <em>Calibration Ignore not assigned detector</em> to <em>Calibration: Ignore spectra which are not assigned to a detector</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="9117.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-03-06T16%3A18%3A12Z&amp;precision=second" title="2014-03-06T16:18:12Z in Timeline">7 years</a> ago by Gesner Passos
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Owner</strong>
        changed from <em>Gesner Passos</em> to <em>Peter Parker</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
You might be interesting in publishing this before next week, or Richard will have problems with any new version of mantid. Bear in mind also that he must check that new versions of Mantid override this file that he changed in his machine. 
</p>

    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="9117.html#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-03-07T11%3A44%3A29Z&amp;precision=second" title="2014-03-07T11:44:29Z in Timeline">7 years</a> ago by Peter Parker
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>assigned</em> to <em>inprogress</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="9117.html" title="enhancement: Calibration: Ignore spectra which are not assigned to a detector (closed: fixed)">#9117</a> - Ignore unnasigned spectra suring tube calibration.
</p>
<p>
But also print a warning of which ones were skipped.
</p>
<p>
Also had to fix some problematic indentation surrounding my changes.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/2db8f32480072d58a8e9c55446f7af430cd8ee72" title="2db8f32480072d58a8e9c55446f7af430cd8ee72">2db8f32480072d58a8e9c55446f7af430cd8ee72</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="9117.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-03-07T11%3A46%3A38Z&amp;precision=second" title="2014-03-07T11:46:38Z in Timeline">7 years</a> ago by Peter Parker
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>inprogress</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="9117.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-03-07T11%3A58%3A45Z&amp;precision=second" title="2014-03-07T11:58:45Z in Timeline">7 years</a> ago by Peter Parker
                </h3>
                
    <div class="comment searchable">
      
      <p>
Tester (if not Gesner):
</p>
<p>
Copy <tt>work_with_this_data.nxs</tt> from <br />olympic\babylon5\Public\PGP\Test Data\9117 into one of your managed data directories.
</p>
<p>
The following script should complete, and also print out warning messages for each skipped histogram:
</p>
<div style="font-size: 90%" class="wikipage"><div class="code"><pre><span class="kn">import</span> <span class="nn">tube</span>
<span class="kn">from</span> <span class="nn">tube_calib_fit_params</span> <span class="kn">import</span> TubeCalibFitParams
<span class="kn">import</span> <span class="nn">numpy</span>

ws <span class="o">=</span> Load<span class="p">(</span><span class="s">'work_with_this_data.nxs'</span><span class="p">)</span>
known_pos1 <span class="o">=</span> numpy<span class="o">.</span>array<span class="p">([</span><span class="o">-</span><span class="mf">0.475</span><span class="p">,</span>       <span class="o">-</span><span class="mf">0.437</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.353</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.315</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.231</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.193</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.109</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.071</span><span class="p">,</span> <span class="mf">0.013</span><span class="p">,</span>  <span class="mf">0.051</span><span class="p">,</span>  <span class="mf">0.135</span><span class="p">,</span>  <span class="mf">0.173</span><span class="p">,</span>  <span class="mf">0.257</span><span class="p">,</span>  <span class="mf">0.295</span><span class="p">,</span>  <span class="mf">0.379</span><span class="p">,</span>  <span class="mf">0.417</span><span class="p">])</span>
known_pos2 <span class="o">=</span> numpy<span class="o">.</span>array<span class="p">([</span><span class="o">-</span><span class="mf">0.445</span><span class="p">,</span>       <span class="o">-</span><span class="mf">0.407</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.323</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.285</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.201</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.163</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.079</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.041</span><span class="p">,</span> <span class="mf">0.043</span><span class="p">,</span>  <span class="mf">0.081</span><span class="p">,</span>  <span class="mf">0.165</span><span class="p">,</span>  <span class="mf">0.203</span><span class="p">,</span>  <span class="mf">0.287</span><span class="p">,</span>  <span class="mf">0.325</span><span class="p">,</span>  <span class="mf">0.409</span><span class="p">,</span>  <span class="mf">0.447</span><span class="p">])</span>

<span class="c"># left tubes</span>
knownPositions <span class="o">=</span> known_pos1
funcForm <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span>knownPositions<span class="p">)</span>
pixel_positions <span class="o">=</span> numpy<span class="o">.</span>array<span class="p">([</span><span class="mi">20</span><span class="p">,</span> <span class="mi">39</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">140</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">220</span><span class="p">,</span> <span class="mi">262</span><span class="p">,</span> <span class="mi">282</span><span class="p">,</span> <span class="mi">323</span><span class="p">,</span> <span class="mi">342</span><span class="p">,</span> <span class="mi">383</span><span class="p">,</span> <span class="mi">401</span><span class="p">,</span> <span class="mi">444</span><span class="p">,</span> <span class="mi">462</span><span class="p">])</span>
margin<span class="o">=</span><span class="mi">10</span>
fitPar <span class="o">=</span> TubeCalibFitParams<span class="p">(</span>pixel_positions<span class="p">,</span> outEdge<span class="o">=</span><span class="mf">10.0</span><span class="p">,</span> inEdge<span class="o">=</span><span class="mf">10.0</span><span class="p">)</span>
tubes <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span>
caltable <span class="o">=</span> tube<span class="o">.</span>calibrate<span class="p">(</span>ws<span class="p">,</span> <span class="s">'rear-detector'</span><span class="p">,</span>knownPositions<span class="p">,</span> funcForm<span class="p">,</span> rangeList<span class="o">=</span>tubes<span class="p">,</span>plotTube<span class="o">=</span><span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">50</span><span class="p">],</span> margin<span class="o">=</span>margin<span class="p">,</span> fitPar<span class="o">=</span>fitPar<span class="p">)</span>

<span class="c"># right tubes</span>
knownRight <span class="o">=</span> known_pos2
pixel_right <span class="o">=</span> <span class="p">[</span><span class="mi">29</span><span class="p">,</span> <span class="mi">47</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">109</span><span class="p">,</span> <span class="mi">152</span><span class="p">,</span> <span class="mi">172</span><span class="p">,</span> <span class="mi">215</span><span class="p">,</span> <span class="mi">234</span><span class="p">,</span> <span class="mi">277</span><span class="p">,</span> <span class="mi">297</span><span class="p">,</span> <span class="mi">340</span><span class="p">,</span> <span class="mi">359</span><span class="p">,</span> <span class="mi">402</span><span class="p">,</span> <span class="mi">422</span><span class="p">,</span> <span class="mi">465</span><span class="p">,</span> <span class="mi">484</span><span class="p">]</span>

fitPar <span class="o">=</span> TubeCalibFitParams<span class="p">(</span>pixel_right<span class="p">,</span> outEdge<span class="o">=</span><span class="mf">10.0</span><span class="p">,</span> inEdge<span class="o">=</span><span class="mf">10.0</span><span class="p">)</span>
tubes <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span><span class="mi">120</span><span class="p">)</span>
caltable <span class="o">=</span> tube<span class="o">.</span>calibrate<span class="p">(</span>ws<span class="p">,</span> <span class="s">'rear-detector'</span><span class="p">,</span>knownRight<span class="p">,</span> funcForm<span class="p">,</span> rangeList<span class="o">=</span>tubes<span class="p">,</span> plotTube<span class="o">=</span> <span class="p">[</span><span class="mi">60</span><span class="p">,</span><span class="mi">80</span><span class="p">,</span><span class="mi">90</span><span class="p">,</span><span class="mi">100</span><span class="p">],</span> margin<span class="o">=</span>margin<span class="p">,</span> fitPar<span class="o">=</span>fitPar<span class="p">,</span> calibTable<span class="o">=</span>caltable<span class="p">)</span>

ApplyCalibration<span class="p">(</span>ws<span class="p">,</span> caltable<span class="p">)</span>
</pre></div></div>
    </div>

                <div class="trac-lastedit ">
                  Last edited <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-03-07T11%3A59%3A12Z&amp;precision=second" title="2014-03-07T11:59:12Z in Timeline">7 years</a> ago
                      by Peter Parker
                    (<a href="https://trac.mantidproject.org/mantid/ticket/9117?cversion=0&amp;cnum_hist=7#comment:7">previous</a>)
                    (<a href="https://trac.mantidproject.org/mantid/ticket/9117?action=comment-diff&amp;cnum=7&amp;version=1">diff</a>)
                </div>
              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="9117.html#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-03-07T13%3A57%3A24Z&amp;precision=second" title="2014-03-07T13:57:24Z in Timeline">7 years</a> ago by Karl Palmen
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li><li>
      <strong>Tester</strong>
        set to <em>Karl Palmen</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="9117.html#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-03-07T14%3A13%3A52Z&amp;precision=second" title="2014-03-07T14:13:52Z in Timeline">7 years</a> ago by Karl Palmen
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>reopened</em>
    </li><li>
      <strong>Resolution</strong>
        <em>fixed</em> deleted
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
The warning is printed for every tube. This is not acceptable. The array of histograms without detectors needs to be sent to a higher level so that it is only printed once.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="9117.html#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-03-07T15%3A12%3A19Z&amp;precision=second" title="2014-03-07T15:12:19Z in Timeline">7 years</a> ago by Peter Parker
                </h3>
                
    <div class="comment searchable">
      
      <p>
A fair criticism.  I will do as you suggest.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="9117.html#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-03-07T16%3A29%3A40Z&amp;precision=second" title="2014-03-07T16:29:40Z in Timeline">7 years</a> ago by Peter Parker
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="9117.html" title="enhancement: Calibration: Ignore spectra which are not assigned to a detector (closed: fixed)">#9117</a> - Print only one "detectors missing" warning per call.
</p>
<p>
Also, only print the number of detectors that were missing rather than the
indices of each and every histogram.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/66979da7cffb4e23627182581ce91485d150dff1" title="66979da7cffb4e23627182581ce91485d150dff1">66979da7cffb4e23627182581ce91485d150dff1</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="9117.html#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-03-07T16%3A29%3A53Z&amp;precision=second" title="2014-03-07T16:29:53Z in Timeline">7 years</a> ago by Peter Parker
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>reopened</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="9117.html#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-03-10T08%3A57%3A56Z&amp;precision=second" title="2014-03-10T08:57:56Z in Timeline">7 years</a> ago by Karl Palmen
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-14">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:14" class="cnum">
      <a href="9117.html#comment:14">comment:14</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-03-10T10%3A05%3A43Z&amp;precision=second" title="2014-03-10T10:05:43Z in Timeline">7 years</a> ago by Karl Palmen
                </h3>
                
    <div class="comment searchable">
      
      <p>
Yes it works the way would like.
I had thought of a slightly better more objected orientated solution, which would be to make the set spectra without a detector an attribute of the tubeSpec and add a method to the tubeSpec to print the warning if necessary. Other diagnostic methods could be added.
</p>
<p>
However, I won't insist on this and pass the test.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-15">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:15" class="cnum">
      <a href="9117.html#comment:15">comment:15</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-03-10T10%3A07%3A33Z&amp;precision=second" title="2014-03-10T10:07:33Z in Timeline">7 years</a> ago by Karl Palmen
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>closed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Merge remote-tracking branch 'origin/feature/9117_handle_unassigned_spectra_during_calibration'
</p>
<p>
Full changeset: <a class="ext-link" href="https://github.com/mantidproject/mantid/commit/0541871e7f886ecd20b0942976dc6412f5d0e952"><span class="icon">​</span>0541871e7f886ecd20b0942976dc6412f5d0e952</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-16">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:16" class="cnum">
      <a href="9117.html#comment:16">comment:16</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-03-10T10%3A09%3A23Z&amp;precision=second" title="2014-03-10T10:09:23Z in Timeline">7 years</a> ago by Peter Parker
                </h3>
                
    <div class="comment searchable">
      
      <p>
Thanks.
</p>
<p>
Perhaps there could be a separate ticket based on logging, to include your suggestions.  It may also be an opportunity to utilise the various logging levels within Mantid (warning, information, etc.) rather than just <tt>print</tt> statements.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-17">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:17" class="cnum">
      <a href="9117.html#comment:17">comment:17</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T03%3A04%3A52%2B01%3A00&amp;precision=second" title="2015-06-04T03:04:52+01:00 in Timeline">5 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
This ticket has been transferred to github issue <a class="ext-link" href="http://github.com/mantidproject/mantid/issues/9960"><span class="icon">​</span>9960</a>
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <script type="text/javascript">
        jQuery.loadStyleSheet("/mantid/pygments/trac.css", "text/css");
    </script>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/9117?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/9117?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/9117?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.5</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
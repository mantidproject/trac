<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      #9542 (Add reading and return to client of event monitor data in SNSLiveEventDataListener)
     â€“ Mantid Project
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="9541.html" title="Ticket #9541" />
        <link rel="last" href="11888.html" title="Ticket #11888" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/9542?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/9542?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/9542?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="9543.html" title="Ticket #9543" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mantid Project" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="a82fe30e7bef2e30fd2838e9";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/mantid/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 9542, escape_newlines: 0}
        $("#comment").autoPreview("/mantid/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/mantid/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.mantidproject.org/"><img src="../chrome/site/mantid_logo_with_name.png" alt="Mantid Logo" width="250" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://trac.mantidproject.org/mantid/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="9541.html" title="Ticket #9541">Previous Ticket</a></span></li><li><span><a class="next" href="9543.html" title="Ticket #9543">Next Ticket</a> &rarr;</span></li><li class="last"><a href="../depgraph/9542.html">Depgraph</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="9542.html">Ticket #9542</a>
          <span class="status">(closed: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-05-29T18%3A43%3A38%2B01%3A00&amp;precision=second" title="2014-05-29T18:43:38+01:00 in Timeline">6 years</a> ago</p>
    <p>Last modified <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T03%3A22%3A35%2B01%3A00&amp;precision=second" title="2015-06-04T03:22:35+01:00 in Timeline">5 years</a> ago</p>
  </div>
  <h2 class="summary searchable">Add reading and return to client of event monitor data in SNSLiveEventDataListener</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;reporter=Russell+Taylor">Russell Taylor</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;owner=Russell+Taylor">Russell Taylor</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;priority=critical">critical</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="../milestone/Release&#32;3.2.html">Release 3.2</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;component=Framework">Framework</a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;keywords=~LiveData">LiveData</a>
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby"><span><a class="closed ticket" href="9541.html" title="Add the capability of holding a workspace of monitor data within another workspace">#9541</a>, <a class="closed ticket" href="9563.html" title="Add code to parse remainder of Beam Monitor Packets">#9563</a></span></td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking"><span><a class="closed ticket" href="9540.html" title="Add full event monitor data to the live data processing capabilities at the SNS.">#9540</a>, <a class="closed ticket" href="9543.html" title="Add accumulation of monitor workspaces to LoadLiveData">#9543</a></span></td>
        <th id="h_tester">
          Tester:
        </th>
        <td headers="h_tester">
              Ross Miller
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
    </h3>
    <div class="searchable">
      <p>
This will be parsing the packets and adding the events to the monitor workspace held within the main workspace (which will be added in <a class="closed ticket" href="9541.html" title="enhancement: Add the capability of holding a workspace of monitor data within another ... (closed: fixed)">#9541</a>). 
</p>
<p>
It will need to include creation of this workspace with the correct number of spectra, including doing so after extractData has been called and dealing with run transitions (all in the same way as the 'main' workspace handles things).
</p>

    </div>
  </div>
</div>
          

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="9542.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-05-29T19%3A05%3A36%2B01%3A00&amp;precision=second" title="2014-05-29T19:05:36+01:00 in Timeline">6 years</a> ago by Russell Taylor
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocking</strong>
        <em>9540</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="9542.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-05-29T19%3A06%3A33%2B01%3A00&amp;precision=second" title="2014-05-29T19:06:33+01:00 in Timeline">6 years</a> ago by Russell Taylor
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>assigned</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="9542.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-06-02T20%3A16%3A57%2B01%3A00&amp;precision=second" title="2014-06-02T20:16:57+01:00 in Timeline">6 years</a> ago by Ross Miller
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocked By</strong>
        <em>9563</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="9542.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-06-06T18%3A43%3A22%2B01%3A00&amp;precision=second" title="2014-06-06T18:43:22+01:00 in Timeline">6 years</a> ago by Russell Taylor
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocking</strong>
        <em>9543</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="9542.html#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-06-06T19%3A43%3A56%2B01%3A00&amp;precision=second" title="2014-06-06T19:43:56+01:00 in Timeline">6 years</a> ago by Russell Taylor
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>assigned</em> to <em>inprogress</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="9542.html" title="enhancement: Add reading and return to client of event monitor data in ... (closed: fixed)">#9542</a>. Create a monitor workspace.
</p>
<p>
The monitor workspace is created in the initialization step at the same
time as the 'main' workspace. It is embedded inside the data buffer
workspace using the new functionality for that (setMonitorWorkspace).
It shares the instrument etc. with this main workspace and has the
detector IDs wired up properly.
</p>
<p>
On each call to extractData() a fresh, empty copy of this monitor workspace
is created and placed within the similarly fresh data buffer workspace.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/4b5f7a342f1083edbcf455c78ce23b09809c58f7" title="4b5f7a342f1083edbcf455c78ce23b09809c58f7">4b5f7a342f1083edbcf455c78ce23b09809c58f7</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="9542.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-06-06T19%3A43%3A59%2B01%3A00&amp;precision=second" title="2014-06-06T19:43:59+01:00 in Timeline">6 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="9542.html" title="enhancement: Add reading and return to client of event monitor data in ... (closed: fixed)">#9542</a>. Populate the monitor workspace with events.
</p>
<p>
The code to parse the packets was already there, so this step is easy.
For each event we just find the right event list and pop it in.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/3d6e5cc50f1b4ad52268583d53dfe38ac6b8c122" title="3d6e5cc50f1b4ad52268583d53dfe38ac6b8c122">3d6e5cc50f1b4ad52268583d53dfe38ac6b8c122</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="9542.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-06-06T19%3A44%3A00%2B01%3A00&amp;precision=second" title="2014-06-06T19:44:00+01:00 in Timeline">6 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="9542.html" title="enhancement: Add reading and return to client of event monitor data in ... (closed: fixed)">#9542</a>. Indentation fix only.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/d23d20b12ba1404fe6da8667cac97ca60c2a4328" title="d23d20b12ba1404fe6da8667cac97ca60c2a4328">d23d20b12ba1404fe6da8667cac97ca60c2a4328</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="9542.html#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-06-06T19%3A44%3A00%2B01%3A00&amp;precision=second" title="2014-06-06T19:44:00+01:00 in Timeline">6 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="9542.html" title="enhancement: Add reading and return to client of event monitor data in ... (closed: fixed)">#9542</a>. Avoid logger stream methods where possible.
</p>
<p>
They are much less performant. Of course, this only really matters if
the line is called often, but I am trying to be consistent.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/2d82df8236c6cbeae4a7888e1797c4840cfecda2" title="2d82df8236c6cbeae4a7888e1797c4840cfecda2">2d82df8236c6cbeae4a7888e1797c4840cfecda2</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="9542.html#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-06-06T19%3A44%3A00%2B01%3A00&amp;precision=second" title="2014-06-06T19:44:00+01:00 in Timeline">6 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="9542.html" title="enhancement: Add reading and return to client of event monitor data in ... (closed: fixed)">#9542</a>. Log error if an event from an unknown monitor is seen.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/1959e5c6dd9aa1480c96fd784356901de4eb31bf" title="1959e5c6dd9aa1480c96fd784356901de4eb31bf">1959e5c6dd9aa1480c96fd784356901de4eb31bf</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="9542.html#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-06-09T16%3A25%3A52%2B01%3A00&amp;precision=second" title="2014-06-09T16:25:52+01:00 in Timeline">6 years</a> ago by Russell Taylor
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>inprogress</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
To test, you will need access to the live stream of an SNS instrument or to be called Ross and have your own test harness.
</p>
<p>
Start up live data session. Because the adding of monitor data has not been put into the general infrastructure yet (see <a class="closed ticket" href="9543.html" title="enhancement: Add accumulation of monitor workspaces to LoadLiveData (closed: fixed)">#9543</a>), in order to see the monitor workspace in the final output workspace you will need to set "Update Every" to 0 to stop after one call to LoadLiveData. Then you can run ExtractMonitorWorkspace on the output workspace to fetch the monitors. You can then compare the number of events to those in the "monitorN_counts" sample logs - they should be very similar though may not be exactly the same (checks seem to show that it's the logs that are not quite right).
</p>
<p>
You could also try calling ExtractMonitorWorkspace in the processing step to examine things there. Use a script something like this:
</p>
<pre class="wiki">mon = ExtractMonitorWorkspace(ws)
numlists = mon.getNumberHistograms()
for i in range(0,numlists):
    print mon.getEventList(i).getNumberEvents()
</pre>
    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="9542.html#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-06-09T17%3A05%3A37%2B01%3A00&amp;precision=second" title="2014-06-09T17:05:37+01:00 in Timeline">6 years</a> ago by Ross Miller
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li><li>
      <strong>Tester</strong>
        set to <em>Ross Miller</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="9542.html#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-06-09T18%3A18%3A47%2B01%3A00&amp;precision=second" title="2014-06-09T18:18:47+01:00 in Timeline">6 years</a> ago by Ross Miller
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>closed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Merge remote-tracking branch 'origin/feature/9542_monitor_events_in_sns_live_listener'
</p>
<p>
Full changeset: <a class="ext-link" href="https://github.com/mantidproject/mantid/commit/64270d8ba38575f2b48bfe082b45358ea54d421d"><span class="icon">â€‹</span>64270d8ba38575f2b48bfe082b45358ea54d421d</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="9542.html#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-06-09T18%3A22%3A42%2B01%3A00&amp;precision=second" title="2014-06-09T18:22:42+01:00 in Timeline">6 years</a> ago by Ross Miller
                </h3>
                
    <div class="comment searchable">
      
      <p>
Tested using CORELLI and HYSPEC data. Everything looks good and there were no discrepancies in the the monitor event counts. I had to use the 'preserve events' option in StartLiveListener in order for the monitor workspaces to show up at all, but Russell says that should be handled in <a class="closed ticket" href="9543.html" title="enhancement: Add accumulation of monitor workspaces to LoadLiveData (closed: fixed)">#9543</a>. 
</p>

    </div>

              </div>
              <div class="change" id="trac-change-14">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:14" class="cnum">
      <a href="9542.html#comment:14">comment:14</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-06-09T19%3A01%3A23%2B01%3A00&amp;precision=second" title="2014-06-09T19:01:23+01:00 in Timeline">6 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
On reflection, I'm not going to 'fix' the issue described above and it prompts me to comment on the implications of the chosen design....
</p>
<p>
Running any algorithm on a workspace that holds a monitor workspace will discard the monitor workspace (unless input and output are the same workspace). That's what's happening when 'preserve events' is no checked (ConvertToMatrixWorkspace is run). I will be manually circumventing that in LoadLiveData at the point it calls Plus to accumulate chunks. There's no point in doing so for the ConvertToMatrixWorkspace call because in order to get anything useful out of that, you have to do some processing (at minimum a Rebin) in order to get something useful out - and that would drop the monitor workspace.
</p>
<p>
So the situation is this: You only can only successfully call ExtractMonitorWorkspace on the final output workspace if there are <strong>no</strong> processing <em>or</em> post-processing algorithms run. If the processing step is empty, then the monitor events will be accumulated and be available to the post-processing step. It is up to the user who cares about monitor data to get hold of the monitor workspace at the appropriate point to avoid it being lost.
</p>

    </div>

                <div class="trac-lastedit ">
                  Last edited <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-06-09T19%3A10%3A23%2B01%3A00&amp;precision=second" title="2014-06-09T19:10:23+01:00 in Timeline">6 years</a> ago
                      by Russell Taylor
                    (<a href="https://trac.mantidproject.org/mantid/ticket/9542?cversion=0&amp;cnum_hist=14#comment:14">previous</a>)
                    (<a href="https://trac.mantidproject.org/mantid/ticket/9542?action=comment-diff&amp;cnum=14&amp;version=1">diff</a>)
                </div>
              </div>
              <div class="change" id="trac-change-15">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:15" class="cnum">
      <a href="9542.html#comment:15">comment:15</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T03%3A22%3A35%2B01%3A00&amp;precision=second" title="2015-06-04T03:22:35+01:00 in Timeline">5 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
This ticket has been transferred to github issue <a class="ext-link" href="http://github.com/mantidproject/mantid/issues/10385"><span class="icon">â€‹</span>10385</a>
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/9542?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/9542?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/9542?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.5</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
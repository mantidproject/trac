<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      #2954 (Integrate Peaks using Normal Fitting)
     – Mantid Project
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="2953.html" title="Ticket #2953" />
        <link rel="last" href="11888.html" title="Ticket #11888" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/2954?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/2954?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/2954?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="2955.html" title="Ticket #2955" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mantid Project" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="a82fe30e7bef2e30fd2838e9";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/mantid/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 2954, escape_newlines: 0}
        $("#comment").autoPreview("/mantid/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/mantid/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.mantidproject.org/"><img src="../chrome/site/mantid_logo_with_name.png" alt="Mantid Logo" width="250" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://trac.mantidproject.org/mantid/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="2953.html" title="Ticket #2953">Previous Ticket</a></span></li><li class="last"><span><a class="next" href="2955.html" title="Ticket #2955">Next Ticket</a> &rarr;</span></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="2954.html">Ticket #2954</a>
          <span class="status">(closed: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-05-09T22%3A45%3A29%2B01%3A00&amp;precision=second" title="2011-05-09T22:45:29+01:00 in Timeline">9 years</a> ago</p>
    <p>Last modified <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-03T22%3A55%3A01%2B01%3A00&amp;precision=second" title="2015-06-03T22:55:01+01:00 in Timeline">5 years</a> ago</p>
  </div>
  <h2 class="summary searchable">Integrate Peaks using Normal Fitting</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;reporter=Ruth+Mikkelson">Ruth Mikkelson</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;owner=Ruth+Mikkelson">Ruth Mikkelson</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;priority=major">major</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="../milestone/Iteration&#32;30.html">Iteration 30</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;component=Mantid">Mantid</a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby"><span></span></td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking"><span></span></td>
        <th id="h_tester">
          Tester:
        </th>
        <td headers="h_tester">
              Vickie Lynch
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
    </h3>
    <div class="searchable">
      <p>
The peak data for a time slice is fit to a background +Intensity*bivariate normal distribution.  This integration is the FitPeaks method used by ISAW.
</p>

    </div>
  </div>
</div>
          

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="2954.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-05-10T14%3A33%3A18%2B01%3A00&amp;precision=second" title="2011-05-10T14:33:18+01:00 in Timeline">9 years</a> ago by Ruth Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[11323]</a>) The IFitFunction for BivariateNormal fit to a peak in a time slice.  Refs <a class="closed ticket" href="2954.html" title="enhancement: Integrate Peaks using Normal Fitting (closed: fixed)">#2954</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="2954.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-05-10T14%3A44%3A36%2B01%3A00&amp;precision=second" title="2011-05-10T14:44:36+01:00 in Timeline">9 years</a> ago by Ruth Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[11326]</a>) Removed BivariateNormalTest.h dependency until I can check it in.
Refs <a class="closed ticket" href="2954.html" title="enhancement: Integrate Peaks using Normal Fitting (closed: fixed)">#2954</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="2954.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-06-06T16%3A25%3A52%2B01%3A00&amp;precision=second" title="2011-06-06T16:25:52+01:00 in Timeline">9 years</a> ago by Ruth Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[12350]</a>) Inheritance changed to inherit from IFunctionMW. Added parameter support.  Refs <a class="closed ticket" href="2954.html" title="enhancement: Integrate Peaks using Normal Fitting (closed: fixed)">#2954</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="2954.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-06-06T22%3A52%3A44%2B01%3A00&amp;precision=second" title="2011-06-06T22:52:44+01:00 in Timeline">9 years</a> ago by Ruth Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[12369]</a>) Algorithm to integrate one peak by integrating time slices.
Refs <a class="closed ticket" href="2954.html" title="enhancement: Integrate Peaks using Normal Fitting (closed: fixed)">#2954</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="2954.html#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-06-06T23%3A00%3A21%2B01%3A00&amp;precision=second" title="2011-06-06T23:00:21+01:00 in Timeline">9 years</a> ago by Ruth Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[12370]</a>) Test program for BivariateNormal routines.Refs <a class="closed ticket" href="2954.html" title="enhancement: Integrate Peaks using Normal Fitting (closed: fixed)">#2954</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="2954.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-06-07T02%3A04%3A08%2B01%3A00&amp;precision=second" title="2011-06-07T02:04:08+01:00 in Timeline">9 years</a> ago by Ruth Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[12373]</a>) refs <a class="closed ticket" href="2954.html" title="enhancement: Integrate Peaks using Normal Fitting (closed: fixed)">#2954</a>. Removed test from list. Removed unused include from BivariateNormal.h
</p>

    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="2954.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-06-07T02%3A09%3A14%2B01%3A00&amp;precision=second" title="2011-06-07T02:09:14+01:00 in Timeline">9 years</a> ago by Ruth Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[12374]</a>) refs <a class="closed ticket" href="2954.html" title="enhancement: Integrate Peaks using Normal Fitting (closed: fixed)">#2954</a>. Fixed files to use 
</p>

    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="2954.html#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-06-07T21%3A05%3A01%2B01%3A00&amp;precision=second" title="2011-06-07T21:05:01+01:00 in Timeline">9 years</a> ago by Dennis Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[12398]</a>) Index now correctly defaults to 0, if negative.
Fixes problem encountered while working on test
for integrating peaks with normal fitting.
refs <a class="closed ticket" href="2954.html" title="enhancement: Integrate Peaks using Normal Fitting (closed: fixed)">#2954</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="2954.html#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-06-07T21%3A30%3A38%2B01%3A00&amp;precision=second" title="2011-06-07T21:30:38+01:00 in Timeline">9 years</a> ago by Ruth Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[12400]</a>) Eliminated an "array out of bounds" crash  for the test program in linux. Eliminated some variable not used warnings. Refs <a class="closed ticket" href="2954.html" title="enhancement: Integrate Peaks using Normal Fitting (closed: fixed)">#2954</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="2954.html#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-06-21T00%3A51%3A18%2B01%3A00&amp;precision=second" title="2011-06-21T00:51:18+01:00 in Timeline">9 years</a> ago by Ruth Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[12676]</a>) Refs <a class="closed ticket" href="2954.html" title="enhancement: Integrate Peaks using Normal Fitting (closed: fixed)">#2954</a>
</p>
<blockquote>
<p>
Fixed namespaces and added DECLARE_FUNCTION.
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="2954.html#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-06-21T01%3A03%3A15%2B01%3A00&amp;precision=second" title="2011-06-21T01:03:15+01:00 in Timeline">9 years</a> ago by Ruth Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[12678]</a>) #Refs <a class="closed ticket" href="2954.html" title="enhancement: Integrate Peaks using Normal Fitting (closed: fixed)">#2954</a>. Added a sample program in test directory and
</p>
<blockquote>
<p>
updated IntegratePeakTimeSlices.* so test program will work.
</p>
</blockquote>
<p>
             
</p>

    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="2954.html#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-06-21T01%3A12%3A25%2B01%3A00&amp;precision=second" title="2011-06-21T01:12:25+01:00 in Timeline">9 years</a> ago by Ruth Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[12680]</a>) Refs <a class="closed ticket" href="2954.html" title="enhancement: Integrate Peaks using Normal Fitting (closed: fixed)">#2954</a>  Removed Bivariate normal test program from list
</p>

    </div>

              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="2954.html#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-06-22T20%3A36%3A54%2B01%3A00&amp;precision=second" title="2011-06-22T20:36:54+01:00 in Timeline">9 years</a> ago by Ruth Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[12728]</a>) Refs <a class="closed ticket" href="2954.html" title="enhancement: Integrate Peaks using Normal Fitting (closed: fixed)">#2954</a>, Removed setParameter methods.
</p>
<blockquote>
<p>
All common information is now calculated before calculating the values in function.
Caught NaN's and turned them into 10000.
</p>
</blockquote>
<p>
            
</p>

    </div>

              </div>
              <div class="change" id="trac-change-14">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:14" class="cnum">
      <a href="2954.html#comment:14">comment:14</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-06-22T20%3A47%3A59%2B01%3A00&amp;precision=second" title="2011-06-22T20:47:59+01:00 in Timeline">9 years</a> ago by Ruth Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[12729]</a>) Refs <a class="closed ticket" href="2954.html" title="enhancement: Integrate Peaks using Normal Fitting (closed: fixed)">#2954</a>. Made Minor Fixes brought up while testing.
</p>
<blockquote>
<p>
Finished up code from later stages of the optimization.
</p>
</blockquote>
<p>
            
</p>

    </div>

              </div>
              <div class="change" id="trac-change-15">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:15" class="cnum">
      <a href="2954.html#comment:15">comment:15</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-06-24T01%3A09%3A38%2B01%3A00&amp;precision=second" title="2011-06-24T01:09:38+01:00 in Timeline">9 years</a> ago by Ruth Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[12770]</a>) Refs <a class="closed ticket" href="2954.html" title="enhancement: Integrate Peaks using Normal Fitting (closed: fixed)">#2954</a>. Fixed errors, updated some heuristics.  Checks for out of bounds
</p>

    </div>

              </div>
              <div class="change" id="trac-change-16">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:16" class="cnum">
      <a href="2954.html#comment:16">comment:16</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-06-24T01%3A21%3A45%2B01%3A00&amp;precision=second" title="2011-06-24T01:21:45+01:00 in Timeline">9 years</a> ago by Ruth Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[12773]</a>) Refs <a class="closed ticket" href="2954.html" title="enhancement: Integrate Peaks using Normal Fitting (closed: fixed)">#2954</a>. Updated the Good fit method so more slices are good
</p>
<blockquote>
<p>
Fixed namespaces
Filled out the output table
Tweaked methds to determine row span and time channel span to
</p>
<blockquote>
<p>
got larger row spans and time channel spans.
</p>
</blockquote>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-17">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:17" class="cnum">
      <a href="2954.html#comment:17">comment:17</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-06-26T02%3A14%3A56%2B01%3A00&amp;precision=second" title="2011-06-26T02:14:56+01:00 in Timeline">9 years</a> ago by Ruth Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[12837]</a>) Refs <a class="closed ticket" href="2954.html" title="enhancement: Integrate Peaks using Normal Fitting (closed: fixed)">#2954</a>.  Added tests to the test program to ensure that the derivatives gave correct answers/
</p>

    </div>

              </div>
              <div class="change" id="trac-change-18">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:18" class="cnum">
      <a href="2954.html#comment:18">comment:18</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-06-26T02%3A24%3A30%2B01%3A00&amp;precision=second" title="2011-06-26T02:24:30+01:00 in Timeline">9 years</a> ago by Ruth Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[12838]</a>) Refs <a class="closed ticket" href="2954.html" title="enhancement: Integrate Peaks using Normal Fitting (closed: fixed)">#2954</a>   Caught bad data( all zeroes)  at the start
</p>
<blockquote>
<p>
Returned time , start and end rows and colums used in the output
Tweaked some heuristics 
Improved success at returning outputs nicely.
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-19">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:19" class="cnum">
      <a href="2954.html#comment:19">comment:19</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-06-26T23%3A40%3A04%2B01%3A00&amp;precision=second" title="2011-06-26T23:40:04+01:00 in Timeline">9 years</a> ago by Ruth Mikkelson
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>accepted</em>
    </li><li>
      <strong>Milestone</strong>
        changed from <em>Iteration 29</em> to <em>Iteration 30</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-20">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:20" class="cnum">
      <a href="2954.html#comment:20">comment:20</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-07-03T19%3A57%3A37%2B01%3A00&amp;precision=second" title="2011-07-03T19:57:37+01:00 in Timeline">9 years</a> ago by Ruth Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[12955]</a>) Introduced some debug logging in the BivariateNormal class.
Added a test program and sample program for IntegratePeakTimeSlices
Tweaked some heuristics to better match the implementation in ISAW.
Added two output properties and added some input verification with error reporting to the Logger 
Added the time, channel, start/end rows/columns in the table output for IntegratePeakTimeSlices
</p>
<p>
Refs <a class="closed ticket" href="2954.html" title="enhancement: Integrate Peaks using Normal Fitting (closed: fixed)">#2954</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-21">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:21" class="cnum">
      <a href="2954.html#comment:21">comment:21</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-07-03T20%3A51%3A14%2B01%3A00&amp;precision=second" title="2011-07-03T20:51:14+01:00 in Timeline">9 years</a> ago by Ruth Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
(In <a class="missing changeset" title="No default repository defined">[12956]</a>) Refs <a class="closed ticket" href="2954.html" title="enhancement: Integrate Peaks using Normal Fitting (closed: fixed)">#2954</a>.  Removed test program for IntegratePeakTimeSlices because windows system may not have been able to register the Fit algorithm, maybe
</p>

    </div>

              </div>
              <div class="change" id="trac-change-22">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:22" class="cnum">
      <a href="2954.html#comment:22">comment:22</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-07-15T19%3A45%3A37%2B01%3A00&amp;precision=second" title="2011-07-15T19:45:37+01:00 in Timeline">9 years</a> ago by Janik Zikovsky
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[13234]</a>:
</p>
<div class="message"><p>
Refs <a class="closed ticket" href="2954.html" title="enhancement: Integrate Peaks using Normal Fitting (closed: fixed)">#2954</a>: Fixed memory leak in IntegratePeakTimeSlices; sped up by sharing a map.<br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-23">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:23" class="cnum">
      <a href="2954.html#comment:23">comment:23</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-07-21T15%3A49%3A14%2B01%3A00&amp;precision=second" title="2011-07-21T15:49:14+01:00 in Timeline">9 years</a> ago by Ruth Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[13365]</a>:
</p>
<div class="message"><p>
refs <a class="closed ticket" href="2954.html" title="enhancement: Integrate Peaks using Normal Fitting (closed: fixed)">#2954</a>. Fixed an infinite loop case<br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-24">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:24" class="cnum">
      <a href="2954.html#comment:24">comment:24</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-07-21T15%3A59%3A32%2B01%3A00&amp;precision=second" title="2011-07-21T15:59:32+01:00 in Timeline">9 years</a> ago by Ruth Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[13368]</a>:
</p>
<div class="message"><p>
Refs <a class="closed ticket" href="2954.html" title="enhancement: Integrate Peaks using Normal Fitting (closed: fixed)">#2954</a>.  Removed a check for data on a line in EnoughData method, for now<br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-25">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:25" class="cnum">
      <a href="2954.html#comment:25">comment:25</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-07-26T15%3A00%3A30%2B01%3A00&amp;precision=second" title="2011-07-26T15:00:30+01:00 in Timeline">9 years</a> ago by Ruth Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[13489]</a>:
</p>
<div class="message"><p>
Refs <a class="closed ticket" href="2954.html" title="enhancement: Integrate Peaks using Normal Fitting (closed: fixed)">#2954</a>. Eliminated the PeaksWorkspace output property. Added the double <br />
properties, Intensity and SigmaIntensity.<br />
Incorporated const's and static's where needed.<br />
Added class variables RectWidth and RectHeight, for later tweaking for weak peaks and/or weak time slices.<br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-26">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:26" class="cnum">
      <a href="2954.html#comment:26">comment:26</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-07-26T15%3A02%3A40%2B01%3A00&amp;precision=second" title="2011-07-26T15:02:40+01:00 in Timeline">9 years</a> ago by Ruth Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[13490]</a>:
</p>
<div class="message"><p>
Refs <a class="closed ticket" href="2954.html" title="enhancement: Integrate Peaks using Normal Fitting (closed: fixed)">#2954</a>. Eliminated the PeaksWorkspace output property. Added the double <br />
properties, Intensity and SigmaIntensity.<br />
Incorporated const's and static's where needed.<br />
Added class variables RectWidth and RectHeight, for later tweaking for weak peaks and/or weak time slices.<br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-27">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:27" class="cnum">
      <a href="2954.html#comment:27">comment:27</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-07-26T15%3A06%3A12%2B01%3A00&amp;precision=second" title="2011-07-26T15:06:12+01:00 in Timeline">9 years</a> ago by Ruth Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[13491]</a>:
</p>
<div class="message"><p>
Refs <a class="closed ticket" href="2954.html" title="enhancement: Integrate Peaks using Normal Fitting (closed: fixed)">#2954</a>. Eliminated the PeaksWorkspace output property. Added the double <br />
properties, Intensity and SigmaIntensity.<br />
Incorporated const's and static's where needed.<br />
Added class variables RectWidth and RectHeight, for later tweaking for weak peaks and/or weak time slices.<br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-28">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:28" class="cnum">
      <a href="2954.html#comment:28">comment:28</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-07-26T16%3A32%3A29%2B01%3A00&amp;precision=second" title="2011-07-26T16:32:29+01:00 in Timeline">9 years</a> ago by Mathieu Doucet
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[13496]</a>:
</p>
<div class="message"><p>
Removing warning. This class needs a cleanup. Re <a class="closed ticket" href="2954.html" title="enhancement: Integrate Peaks using Normal Fitting (closed: fixed)">#2954</a><br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-29">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:29" class="cnum">
      <a href="2954.html#comment:29">comment:29</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-07-27T15%3A06%3A21%2B01%3A00&amp;precision=second" title="2011-07-27T15:06:21+01:00 in Timeline">9 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
There are a number of changes that would make this class tidier and more C++-like:
</p>
<ul><li>The static functions and variables should become private members of the IntegratePeakTimeSlices class.
</li><li>The <tt>#define</tt> should be replaced with enums.
</li><li>As AttrNames &amp; ParamNames appear to be fixed size - consider using C arrays which can be initialized at construction. It's possible these could also become enums as well (depends how they're used).
</li><li>Avoid std::vector::push_back where possible. At a minimum try to pre-size the vector. Not so important for small arrays, but good practice.
</li></ul>
    </div>

              </div>
              <div class="change" id="trac-change-30">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:30" class="cnum">
      <a href="2954.html#comment:30">comment:30</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-08-03T16%3A04%3A33%2B01%3A00&amp;precision=second" title="2011-08-03T16:04:33+01:00 in Timeline">9 years</a> ago by Ruth Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[13680]</a>:
</p>
<div class="message"><p>
Refs <a class="closed ticket" href="2954.html" title="enhancement: Integrate Peaks using Normal Fitting (closed: fixed)">#2954</a>. Moved file scope methods to class level methods. <br />
</p>
<blockquote>
<p>
Moved variables storing attribute and parameter information to class level variables.<br />
Added the test program to CMakeLists.txt<br />
</p>
</blockquote>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-31">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:31" class="cnum">
      <a href="2954.html#comment:31">comment:31</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-08-03T16%3A28%3A55%2B01%3A00&amp;precision=second" title="2011-08-03T16:28:55+01:00 in Timeline">9 years</a> ago by Ruth Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[13681]</a>:
</p>
<div class="message"><p>
Refs <a class="closed ticket" href="2954.html" title="enhancement: Integrate Peaks using Normal Fitting (closed: fixed)">#2954</a>. Removed test programs until fix problem<br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-32">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:32" class="cnum">
      <a href="2954.html#comment:32">comment:32</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-08-03T16%3A57%3A08%2B01%3A00&amp;precision=second" title="2011-08-03T16:57:08+01:00 in Timeline">9 years</a> ago by Ruth Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[13684]</a>:
</p>
<div class="message"><p>
Refs <a class="closed ticket" href="2954.html" title="enhancement: Integrate Peaks using Normal Fitting (closed: fixed)">#2954</a>. Added a header file so windows 7 can find the Fit routine<br />
</p>
<blockquote>
<p>
Added the test programs to CMakeLists.txt<br />
Fixed the line of code that caused the failure on some systems.<br />
</p>
</blockquote>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-33">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:33" class="cnum">
      <a href="2954.html#comment:33">comment:33</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-08-03T19%3A03%3A46%2B01%3A00&amp;precision=second" title="2011-08-03T19:03:46+01:00 in Timeline">9 years</a> ago by Ruth Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[13690]</a>:
</p>
<div class="message"><p>
Refs <a class="closed ticket" href="2954.html" title="enhancement: Integrate Peaks using Normal Fitting (closed: fixed)">#2954</a>. Reformatted and fixed up Code.<br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-34">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:34" class="cnum">
      <a href="2954.html#comment:34">comment:34</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-08-10T18%3A09%3A50%2B01%3A00&amp;precision=second" title="2011-08-10T18:09:50+01:00 in Timeline">9 years</a> ago by Ruth Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[13851]</a>:
</p>
<div class="message"><p>
Refs <a class="closed ticket" href="2954.html" title="enhancement: Integrate Peaks using Normal Fitting (closed: fixed)">#2954</a>. Recalculated rectangle areas to agree with ISAW rectangular areas.<br />
Updated the values for the test programs.<br />
Moved one file level method to a class method.<br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-35">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:35" class="cnum">
      <a href="2954.html#comment:35">comment:35</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-08-10T18%3A48%3A35%2B01%3A00&amp;precision=second" title="2011-08-10T18:48:35+01:00 in Timeline">9 years</a> ago by Ruth Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[13854]</a>:
</p>
<div class="message"><p>
Refs <a class="closed ticket" href="2954.html" title="enhancement: Integrate Peaks using Normal Fitting (closed: fixed)">#2954</a>.  Eliminated file level constant variables. <br />
Checked if the variances and covariance were already tied.<br />
</p>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-36">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:36" class="cnum">
      <a href="2954.html#comment:36">comment:36</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-08-16T19%3A14%3A32%2B01%3A00&amp;precision=second" title="2011-08-16T19:14:32+01:00 in Timeline">9 years</a> ago by Ruth Mikkelson
                </h3>
                
    <div class="comment searchable">
      
      <p>
In <a class="missing changeset" title="No default repository defined">[13985]</a>:
</p>
<div class="message"><p>
Refs <a class="closed ticket" href="2954.html" title="enhancement: Integrate Peaks using Normal Fitting (closed: fixed)">#2954</a> Added InitDocs to IntegratePeakTimeSlices. <br />
Refs <a class="closed ticket" href="3563.html" title="enhancement: Save Isaw Orientation Matrix (closed: fixed)">#3563</a> Added test program for SaveIsawUB to list<br />
</p>
<blockquote>
<p>
Reduced the size of strings in SaveIsawUB<br />
</p>
</blockquote>
</div>
    </div>

              </div>
              <div class="change" id="trac-change-37">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:37" class="cnum">
      <a href="2954.html#comment:37">comment:37</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-08-16T20%3A32%3A38%2B01%3A00&amp;precision=second" title="2011-08-16T20:32:38+01:00 in Timeline">9 years</a> ago by Ruth Mikkelson
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>accepted</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-38">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:38" class="cnum">
      <a href="2954.html#comment:38">comment:38</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-09-19T20%3A11%3A45%2B01%3A00&amp;precision=second" title="2011-09-19T20:11:45+01:00 in Timeline">9 years</a> ago by Vickie Lynch
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li><li>
      <strong>Tester</strong>
        set to <em>Vickie Lynch</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-39">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:39" class="cnum">
      <a href="2954.html#comment:39">comment:39</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2011-09-19T20%3A37%3A25%2B01%3A00&amp;precision=second" title="2011-09-19T20:37:25+01:00 in Timeline">9 years</a> ago by Vickie Lynch
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>closed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Works for single peak and also when called by PeakIntegration for all peaks.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-40">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:40" class="cnum">
      <a href="2954.html#comment:40">comment:40</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-03T22%3A55%3A01%2B01%3A00&amp;precision=second" title="2015-06-03T22:55:01+01:00 in Timeline">5 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
This ticket has been transferred to github issue <a class="ext-link" href="http://github.com/mantidproject/mantid/issues/3801"><span class="icon">​</span>3801</a>
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/2954?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/2954?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/2954?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.5</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
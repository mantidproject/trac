<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      #9802 (Updating value of ParameterMap copy updates the original too)
     – Mantid Project
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="9801.html" title="Ticket #9801" />
        <link rel="last" href="11888.html" title="Ticket #11888" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/9802?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/9802?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/9802?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="9803.html" title="Ticket #9803" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mantid Project" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="a82fe30e7bef2e30fd2838e9";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/mantid/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 9802, escape_newlines: 0}
        $("#comment").autoPreview("/mantid/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/mantid/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.mantidproject.org/"><img src="../chrome/site/mantid_logo_with_name.png" alt="Mantid Logo" width="250" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://trac.mantidproject.org/mantid/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="9801.html" title="Ticket #9801">Previous Ticket</a></span></li><li class="last"><span><a class="next" href="9803.html" title="Ticket #9803">Next Ticket</a> &rarr;</span></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="9802.html">Ticket #9802</a>
          <span class="status">(closed: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-07-02T09%3A28%3A37%2B01%3A00&amp;precision=second" title="2014-07-02T09:28:37+01:00 in Timeline">6 years</a> ago</p>
    <p>Last modified <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T03%3A33%3A19%2B01%3A00&amp;precision=second" title="2015-06-04T03:33:19+01:00 in Timeline">5 years</a> ago</p>
  </div>
  <h2 class="summary searchable">Updating value of ParameterMap copy updates the original too</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;reporter=Martyn+Gigg">Martyn Gigg</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;owner=Martyn+Gigg">Martyn Gigg</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;priority=critical">critical</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="../milestone/Release&#32;3.2.html">Release 3.2</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;component=Framework">Framework</a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby"><span></span></td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking"><span></span></td>
        <th id="h_tester">
          Tester:
        </th>
        <td headers="h_tester">
              Roman Tolchenov
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
    </h3>
    <div class="searchable">
      <p>
This is most easily demonstrated using the script below. The data is in the AutoTest/UsageData directory.
</p>
<div class="code"><pre><span class="c"># load data</span>
data <span class="o">=</span> Load<span class="p">(</span><span class="s">"HRP39180"</span><span class="p">)</span>
<span class="c"># Move the detector so we can see affect of calibration</span>
MoveInstrumentComponent<span class="p">(</span>data<span class="p">,</span> ComponentName<span class="o">=</span><span class="s">"HRPD"</span><span class="p">,</span>X<span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>Y<span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>Z<span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>RelativePosition<span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="k">print</span> <span class="s">"data detector pos:"</span><span class="p">,</span>data<span class="o">.</span>getDetector<span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span>getPos<span class="p">()</span>

<span class="c"># load calibration</span>
Load<span class="p">(</span><span class="s">"HRP38094Calib"</span><span class="p">,</span> OutputWorkspace<span class="o">=</span><span class="s">"calibration"</span><span class="p">)</span>
calib_det_pos <span class="o">=</span> mtd<span class="p">[</span><span class="s">'calibration'</span><span class="p">]</span><span class="o">.</span>getDetector<span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span>getPos<span class="p">()</span>
<span class="k">print</span> <span class="s">"calibration detector pos:"</span><span class="p">,</span>calib_det_pos

<span class="c"># copy parameters from calibration to data</span>
CopyInstrumentParameters<span class="p">(</span><span class="s">"calibration"</span><span class="p">,</span> data<span class="p">)</span>
<span class="k">print</span> <span class="s">"data detector pos after calib:"</span><span class="p">,</span>data<span class="o">.</span>getDetector<span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span>getPos<span class="p">()</span> <span class="c"># should match statment from calibration workspace</span>

<span class="c"># Now move component on data workspace, where that component was a detector in the calibrated workspace and the calibration position will move</span>
MoveInstrumentComponent<span class="p">(</span>data<span class="p">,</span> DetectorID<span class="o">=</span><span class="mi">1100</span><span class="p">,</span>X<span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>Y<span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>Z<span class="o">=</span><span class="mf">5.0</span><span class="p">,</span>RelativePosition<span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="k">print</span> <span class="s">"data detector pos after move:"</span><span class="p">,</span>data<span class="o">.</span>getDetector<span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span>getPos<span class="p">()</span> <span class="c"># should match statment from calibration workspace</span>
calib_det_pos_end <span class="o">=</span> mtd<span class="p">[</span><span class="s">'calibration'</span><span class="p">]</span><span class="o">.</span>getDetector<span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span>getPos<span class="p">()</span>
<span class="k">print</span> <span class="s">"calibration detector after move:"</span><span class="p">,</span>calib_det_pos_end
<span class="k">if</span> calib_det_pos_end <span class="o">!=</span> calib_det_pos<span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s">"Calibrated detector positions have moved!"</span><span class="p">)</span>
</pre></div>
    </div>
  </div>
</div>
          

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="9802.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-07-02T09%3A28%3A42%2B01%3A00&amp;precision=second" title="2014-07-02T09:28:42+01:00 in Timeline">6 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>assigned</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="9802.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-07-02T10%3A32%3A51%2B01%3A00&amp;precision=second" title="2014-07-02T10:32:51+01:00 in Timeline">6 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Summary</strong>
        changed from <em>ParameterMap copy constructor results in shared parameters</em> to <em>Updating value of ParameterMap copy updates the original too</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="9802.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-07-02T14%3A19%3A33%2B01%3A00&amp;precision=second" title="2014-07-02T14:19:33+01:00 in Timeline">6 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>assigned</em> to <em>inprogress</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Change private method name
</p>
<p>
Avoids using get for something that is not really a constant.
Refs <a class="closed ticket" href="9802.html" title="defect: Updating value of ParameterMap copy updates the original too (closed: fixed)">#9802</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/1351e600c7ab7d7b0d3479944438b52e8b48806d" title="1351e600c7ab7d7b0d3479944438b52e8b48806d">1351e600c7ab7d7b0d3479944438b52e8b48806d</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="9802.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-07-02T14%3A19%3A33%2B01%3A00&amp;precision=second" title="2014-07-02T14:19:33+01:00 in Timeline">6 years</a> ago by Martyn Gigg
                </h3>
                
    <div class="comment searchable">
      
      <p>
Add a set of tests to define the behaviour that is currently broken.
</p>
<p>
Refs <a class="closed ticket" href="9802.html" title="defect: Updating value of ParameterMap copy updates the original too (closed: fixed)">#9802</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/e4616a87522e3f83941a621563e6e32871cd0356" title="e4616a87522e3f83941a621563e6e32871cd0356">e4616a87522e3f83941a621563e6e32871cd0356</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="9802.html#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-07-02T14%3A19%3A33%2B01%3A00&amp;precision=second" title="2014-07-02T14:19:33+01:00 in Timeline">6 years</a> ago by Martyn Gigg
                </h3>
                
    <div class="comment searchable">
      
      <p>
Fix add/replace of values for generic types
</p>
<p>
A brand new parameter object is always created and it either overwrites
an existing value or adds to the map.
The addPositionCoordinate/addRotationParam are still broken.
Refs <a class="closed ticket" href="9802.html" title="defect: Updating value of ParameterMap copy updates the original too (closed: fixed)">#9802</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/395dbcccb948c3c2b6f4f7f7cf6c0907d693f839" title="395dbcccb948c3c2b6f4f7f7cf6c0907d693f839">395dbcccb948c3c2b6f4f7f7cf6c0907d693f839</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="9802.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-07-02T14%3A19%3A33%2B01%3A00&amp;precision=second" title="2014-07-02T14:19:33+01:00 in Timeline">6 years</a> ago by Martyn Gigg
                </h3>
                
    <div class="comment searchable">
      
      <p>
Fix addPositionCoordinate for copied objects.
</p>
<p>
Refs <a class="closed ticket" href="9802.html" title="defect: Updating value of ParameterMap copy updates the original too (closed: fixed)">#9802</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/b3bfbc74336ee2f54075dac9329d670c3462fc51" title="b3bfbc74336ee2f54075dac9329d670c3462fc51">b3bfbc74336ee2f54075dac9329d670c3462fc51</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="9802.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-07-02T14%3A30%3A03%2B01%3A00&amp;precision=second" title="2014-07-02T14:30:03+01:00 in Timeline">6 years</a> ago by Martyn Gigg
                </h3>
                
    <div class="comment searchable">
      
      <p>
Fix addRotationParam for copied objects.
</p>
<p>
Refs <a class="closed ticket" href="9802.html" title="defect: Updating value of ParameterMap copy updates the original too (closed: fixed)">#9802</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/b2fb511fad821dd0ec3255deb0485993000399bb" title="b2fb511fad821dd0ec3255deb0485993000399bb">b2fb511fad821dd0ec3255deb0485993000399bb</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="9802.html#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-07-02T14%3A54%3A57%2B01%3A00&amp;precision=second" title="2014-07-02T14:54:57+01:00 in Timeline">6 years</a> ago by Martyn Gigg
                </h3>
                
    <div class="comment searchable">
      
      <p>
System test to cover reusing calibration workspaces
</p>
<p>
Refs <a class="closed ticket" href="9802.html" title="defect: Updating value of ParameterMap copy updates the original too (closed: fixed)">#9802</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/4e994619172df148652406d1d64678950e1b26b1" title="4e994619172df148652406d1d64678950e1b26b1">4e994619172df148652406d1d64678950e1b26b1</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="9802.html#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-07-02T14%3A55%3A42%2B01%3A00&amp;precision=second" title="2014-07-02T14:55:42+01:00 in Timeline">6 years</a> ago by Martyn Gigg
                </h3>
                
    <div class="comment searchable">
      
      <p>
Remove unused private method ParameterMap::retrieveParameter.
</p>
<p>
Refs <a class="closed ticket" href="9802.html" title="defect: Updating value of ParameterMap copy updates the original too (closed: fixed)">#9802</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/626b4b338f13659e8da99dc8f43b98e0af1b3756" title="626b4b338f13659e8da99dc8f43b98e0af1b3756">626b4b338f13659e8da99dc8f43b98e0af1b3756</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="9802.html#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-07-02T14%3A55%3A42%2B01%3A00&amp;precision=second" title="2014-07-02T14:55:42+01:00 in Timeline">6 years</a> ago by Martyn Gigg
                </h3>
                
    <div class="comment searchable">
      
      <p>
Add a test for the paramter values after copying between maps.
</p>
<p>
Refs <a class="closed ticket" href="9802.html" title="defect: Updating value of ParameterMap copy updates the original too (closed: fixed)">#9802</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/3d41c5fa42001d72c2fff2a49654d506fb4865a0" title="3d41c5fa42001d72c2fff2a49654d506fb4865a0">3d41c5fa42001d72c2fff2a49654d506fb4865a0</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="9802.html#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-07-03T08%3A43%3A14%2B01%3A00&amp;precision=second" title="2014-07-03T08:43:14+01:00 in Timeline">6 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>inprogress</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Branch: <a class="ext-link" href="https://github.com/mantidproject/mantid/compare/bugfix/9802_parameter_map_copy_and_update"><span class="icon">​</span>bugfix/9802_parameter_map_copy_and_update</a> in mantid repository <strong>AND</strong> <a class="ext-link" href="https://github.com/mantidproject/systemtests/compare/bugfix/9802_parameter_map_copy_and_update"><span class="icon">​</span>bugfix/9802_parameter_map_copy_and_update</a> in systemtests
</p>
<p>
Tester: The script in the description should run to completion without error. The new systemtest should be passing and there are new unit tests for this behaviour. Please check the code carefully as this is a core class.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="9802.html#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-07-03T09%3A44%3A00%2B01%3A00&amp;precision=second" title="2014-07-03T09:44:00+01:00 in Timeline">6 years</a> ago by Roman Tolchenov
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li><li>
      <strong>Tester</strong>
        set to <em>Roman Tolchenov</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="9802.html#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-07-03T10%3A24%3A02%2B01%3A00&amp;precision=second" title="2014-07-03T10:24:02+01:00 in Timeline">6 years</a> ago by Roman Tolchenov
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>reopened</em>
    </li><li>
      <strong>Resolution</strong>
        <em>fixed</em> deleted
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
During testing it was noticed that comparison of V3D objects in python is a bit wrong: != operator apparently compares references, not values. Add this code to the above script to demonstrate the issue:
</p>
<div class="code"><pre>
<span class="k">print</span> <span class="nb">repr</span><span class="p">(</span>calib_det_pos<span class="p">)</span>
<span class="k">print</span> <span class="nb">repr</span><span class="p">(</span>calib_det_pos_end<span class="p">)</span>

<span class="k">print</span> calib_det_pos_end <span class="o">==</span> calib_det_pos
<span class="k">print</span> calib_det_pos_end <span class="o">!=</span> calib_det_pos
<span class="k">print</span> calib_det_pos_end <span class="o">-</span> calib_det_pos
<span class="k">print</span> <span class="nb">type</span><span class="p">(</span>calib_det_pos<span class="p">)</span>

</pre></div>
    </div>

              </div>
              <div class="change" id="trac-change-14">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:14" class="cnum">
      <a href="9802.html#comment:14">comment:14</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-07-03T10%3A25%3A05%2B01%3A00&amp;precision=second" title="2014-07-03T10:25:05+01:00 in Timeline">6 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>reopened</em> to <em>inprogress</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-15">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:15" class="cnum">
      <a href="9802.html#comment:15">comment:15</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-07-03T10%3A44%3A47%2B01%3A00&amp;precision=second" title="2014-07-03T10:44:47+01:00 in Timeline">6 years</a> ago by Martyn Gigg
                </h3>
                
    <div class="comment searchable">
      
      <p>
Add != Python operator for V3D &amp; VMD.
</p>
<p>
This ensures that compairsons are done by value and not object identity.
Refs <a class="closed ticket" href="9802.html" title="defect: Updating value of ParameterMap copy updates the original too (closed: fixed)">#9802</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/2397e292d0e01f72604c9ddcb4edfed78201464f" title="2397e292d0e01f72604c9ddcb4edfed78201464f">2397e292d0e01f72604c9ddcb4edfed78201464f</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-16">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:16" class="cnum">
      <a href="9802.html#comment:16">comment:16</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-07-03T11%3A09%3A17%2B01%3A00&amp;precision=second" title="2014-07-03T11:09:17+01:00 in Timeline">6 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>inprogress</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-17">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:17" class="cnum">
      <a href="9802.html#comment:17">comment:17</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-07-03T13%3A32%3A01%2B01%3A00&amp;precision=second" title="2014-07-03T13:32:01+01:00 in Timeline">6 years</a> ago by Roman Tolchenov
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-18">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:18" class="cnum">
      <a href="9802.html#comment:18">comment:18</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-07-03T14%3A52%3A54%2B01%3A00&amp;precision=second" title="2014-07-03T14:52:54+01:00 in Timeline">6 years</a> ago by Roman Tolchenov
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>closed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Merge remote-tracking branch 'origin/bugfix/9802_parameter_map_copy_and_update'
</p>
<p>
Full changeset: <a class="ext-link" href="https://github.com/mantidproject/mantid/commit/04cec61f45ca8ed841a007977555032c94c49a78"><span class="icon">​</span>04cec61f45ca8ed841a007977555032c94c49a78</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-19">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:19" class="cnum">
      <a href="9802.html#comment:19">comment:19</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-07-03T14%3A54%3A30%2B01%3A00&amp;precision=second" title="2014-07-03T14:54:30+01:00 in Timeline">6 years</a> ago by Roman Tolchenov
                </h3>
                
    <div class="comment searchable">
      
      <p>
Merge remote-tracking branch 'origin/bugfix/9802_parameter_map_copy_and_update'
</p>
<p>
Full changeset: <a class="ext-link" href="https://github.com/mantidproject/systemtests/commit/357e2c4e6903db4f021b35bf31892d59b698e7c9"><span class="icon">​</span>357e2c4e6903db4f021b35bf31892d59b698e7c9</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-20">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:20" class="cnum">
      <a href="9802.html#comment:20">comment:20</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T03%3A33%3A19%2B01%3A00&amp;precision=second" title="2015-06-04T03:33:19+01:00 in Timeline">5 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
This ticket has been transferred to github issue <a class="ext-link" href="http://github.com/mantidproject/mantid/issues/10644"><span class="icon">​</span>10644</a>
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <script type="text/javascript">
        jQuery.loadStyleSheet("/mantid/pygments/trac.css", "text/css");
    </script>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/9802?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/9802?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/9802?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.5</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
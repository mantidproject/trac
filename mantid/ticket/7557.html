<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      #7557 (MUON: writing/reading tempMuonAnalysisGrouping.xml causes bug)
     – Mantid Project
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="7556.html" title="Ticket #7556" />
        <link rel="last" href="11888.html" title="Ticket #11888" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/7557?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/7557?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/7557?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="7558.html" title="Ticket #7558" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mantid Project" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="a82fe30e7bef2e30fd2838e9";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/mantid/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 7557, escape_newlines: 0}
        $("#comment").autoPreview("/mantid/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/mantid/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.mantidproject.org/"><img src="../chrome/site/mantid_logo_with_name.png" alt="Mantid Logo" width="250" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://trac.mantidproject.org/mantid/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="7556.html" title="Ticket #7556">Previous Ticket</a></span></li><li class="last"><span><a class="next" href="7558.html" title="Ticket #7558">Next Ticket</a> &rarr;</span></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="7557.html">Ticket #7557</a>
          <span class="status">(closed: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-07-29T14%3A06%3A41%2B01%3A00&amp;precision=second" title="2013-07-29T14:06:41+01:00 in Timeline">7 years</a> ago</p>
    <p>Last modified <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T02%3A00%3A13%2B01%3A00&amp;precision=second" title="2015-06-04T02:00:13+01:00 in Timeline">5 years</a> ago</p>
  </div>
  <h2 class="summary searchable">MUON: writing/reading tempMuonAnalysisGrouping.xml causes bug</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;reporter=Anders+Markvardsen">Anders Markvardsen</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;owner=Arturs+Bekasovs">Arturs Bekasovs</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;priority=critical">critical</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="../milestone/Release&#32;3.0.html">Release 3.0</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;component=Muon">Muon</a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby"><span></span></td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking"><span></span></td>
        <th id="h_tester">
          Tester:
        </th>
        <td headers="h_tester">
              Roman Tolchenov
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
    </h3>
    <div class="searchable">
      <p>
The MuonAnalysis interface currently save/reads information stored in a temporary file called tempMuonAnalysisGrouping.xml (see MuonAnalysis.cpp). 
</p>
<p>
Recently it has been found that writing/reading this file causes mantid to fail when an user quickly from the Home tab manually scan through datasets.
</p>
<p>
This file contains grouping selection, displayed in Grouping Options tab.
</p>
<p>
As a first step see if we can have this file in memory rather than store to disk. This may turn out to be an easier fix than trying to figure out why a few PCs randomly fails. 
</p>
<p>
For information tempMuonAnalysisGrouping.xml appears not to be used on startup of MuonAnalysis.
</p>

    </div>
  </div>
</div>
          
    <div id="attachments">
        <h2 class="foldable">Attachments</h2>
        <div>
          <dl class="attachments">
              <dt>
    <a href="../attachment/ticket/7557/ARGUS.png.html" title="View attachment">ARGUS.png</a><a href="../raw-attachment/ticket/7557/ARGUS.png" class="trac-rawlink" title="Download">​</a>
       (<span title="26685 bytes">26.1 KB</span>) -
      added by <em>Arturs Bekasovs</em> <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-17T15%3A54%3A42%2B01%3A00&amp;precision=second" title="2013-10-17T15:54:42+01:00 in Timeline">7 years</a> ago.
  </dt>
              <dd>
                argus0026287.nxs
              </dd>
              <dt>
    <a href="../attachment/ticket/7557/EMU.png.html" title="View attachment">EMU.png</a><a href="../raw-attachment/ticket/7557/EMU.png" class="trac-rawlink" title="Download">​</a>
       (<span title="29567 bytes">28.9 KB</span>) -
      added by <em>Arturs Bekasovs</em> <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-17T15%3A55%3A04%2B01%3A00&amp;precision=second" title="2013-10-17T15:55:04+01:00 in Timeline">7 years</a> ago.
  </dt>
              <dd>
                emu00006473.nxs
              </dd>
              <dt>
    <a href="../attachment/ticket/7557/MUSR.png.html" title="View attachment">MUSR.png</a><a href="../raw-attachment/ticket/7557/MUSR.png" class="trac-rawlink" title="Download">​</a>
       (<span title="27745 bytes">27.1 KB</span>) -
      added by <em>Arturs Bekasovs</em> <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-17T15%3A55%3A21%2B01%3A00&amp;precision=second" title="2013-10-17T15:55:21+01:00 in Timeline">7 years</a> ago.
  </dt>
              <dd>
                MUSR00015189.nxs
              </dd>
              <dt>
    <a href="../attachment/ticket/7557/HIFI.png.html" title="View attachment">HIFI.png</a><a href="../raw-attachment/ticket/7557/HIFI.png" class="trac-rawlink" title="Download">​</a>
       (<span title="27600 bytes">27.0 KB</span>) -
      added by <em>Arturs Bekasovs</em> <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-17T15%3A55%3A37%2B01%3A00&amp;precision=second" title="2013-10-17T15:55:37+01:00 in Timeline">7 years</a> ago.
  </dt>
              <dd>
                hifi00038401.nxs
              </dd>
          </dl>
          
        </div>
    </div>

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="7557.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-07-30T09%3A16%3A38%2B01%3A00&amp;precision=second" title="2013-07-30T09:16:38+01:00 in Timeline">7 years</a> ago by Anders Markvardsen
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Component</strong>
        changed from <em>Framework</em> to <em>Muon</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="7557.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-08-08T13%3A59%3A33%2B01%3A00&amp;precision=second" title="2013-08-08T13:59:33+01:00 in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>inprogress</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="7557.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-08-09T11%3A40%3A43%2B01%3A00&amp;precision=second" title="2013-08-09T11:40:43+01:00 in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocked By</strong>
        <em>2474, 7715, 7716</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Some stuff should be done before I can solve that one. When all the "Blocked by" tickets will get solved, I will be able to store all the information in <tt>GroupingWorkspace</tt> and string describing pairing, load and save all that information using <tt>LoadMuonDetectorsGroupingFile</tt> and <tt>SaveMuonDetectorsGrouping</tt>.
</p>
<p>
So instead of keeping the temporary file, when applying/saving grouping I will parse the information from the GUI to these data structures and use them instead.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="7557.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-08-09T11%3A52%3A16%2B01%3A00&amp;precision=second" title="2013-08-09T11:52:16+01:00 in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocked By</strong>
        <em>7715</em> removed
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
(In <a class="closed ticket" href="7715.html" title="enhancement: Add support for group naming to algorithms working with grouping XML files (closed: fixed)">#7715</a>) The Load one should output the list of names as another output parameter, and the Save one should accept it as an input parameter.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="7557.html#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-08-09T11%3A53%3A00%2B01%3A00&amp;precision=second" title="2013-08-09T11:53:00+01:00 in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocked By</strong>
        <em>7715</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="7557.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-16T08%3A54%3A57%2B01%3A00&amp;precision=second" title="2013-10-16T08:54:57+01:00 in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
All the stuff mentioned above turned out not to be that easy, because Muon Analysis uses a special case of grouping in the way that it allows one detector to be in multiple groups. It's too late to start resolving these issues this iteration, hence I'll leave them for now. However, the bug should certainly be solved for this release, but I'll do it in a different way - I'll try to use the possibility to specify custom spectra IDs for GroupDetectors, use it for every group and then just merge the results to one workspace.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="7557.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-16T08%3A54%3A57%2B01%3A00&amp;precision=second" title="2013-10-16T08:54:57+01:00 in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
All the stuff mentioned above turned out not to be that easy, because Muon Analysis uses a special case of grouping in the way that it allows one detector to be in multiple groups. It's too late to start resolving these issues this iteration, hence I'll leave them for now. However, the bug should certainly be solved for this release, but I'll do it in a different way - I'll try to use the possibility to specify custom spectra IDs for GroupDetectors, use it for every group and then just merge the results to one workspace.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="7557.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-16T08%3A56%3A34%2B01%3A00&amp;precision=second" title="2013-10-16T08:56:34+01:00 in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocked By</strong>
        <em>2474, 7715, 7716</em> removed
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="7557.html#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-17T14%3A11%3A36%2B01%3A00&amp;precision=second" title="2013-10-17T14:11:36+01:00 in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
New functions to interact with tables and XML files.
</p>
<p>
Plus removed old ones and tmp file usage. Grouping is not applied
properly yet.
</p>
<p>
Refs <a class="closed ticket" href="7557.html" title="defect: MUON: writing/reading tempMuonAnalysisGrouping.xml causes bug (closed: fixed)">#7557</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/c28ec3aea2dd4603b839de8dbeeca2e5fbe3679e" title="c28ec3aea2dd4603b839de8dbeeca2e5fbe3679e">c28ec3aea2dd4603b839de8dbeeca2e5fbe3679e</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="7557.html#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-17T14%3A11%3A36%2B01%3A00&amp;precision=second" title="2013-10-17T14:11:36+01:00 in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Updated function to apply grouping.
</p>
<p>
Not working for group workspaces yet.
</p>
<p>
Refs <a class="closed ticket" href="7557.html" title="defect: MUON: writing/reading tempMuonAnalysisGrouping.xml causes bug (closed: fixed)">#7557</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/b20ff519f0402cbb2d29842709348e61180798b6" title="b20ff519f0402cbb2d29842709348e61180798b6">b20ff519f0402cbb2d29842709348e61180798b6</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="7557.html#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-17T14%3A11%3A37%2B01%3A00&amp;precision=second" title="2013-10-17T14:11:37+01:00 in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Additional check for AsymmetryCalc.
</p>
<p>
Normally, this shouldn't happen, but it will help to identify problem
when it does.
</p>
<p>
Refs <a class="closed ticket" href="7557.html" title="defect: MUON: writing/reading tempMuonAnalysisGrouping.xml causes bug (closed: fixed)">#7557</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/855a27c15da320b30488423cb4e1e14060cf9850" title="855a27c15da320b30488423cb4e1e14060cf9850">855a27c15da320b30488423cb4e1e14060cf9850</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="7557.html#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-17T14%3A11%3A37%2B01%3A00&amp;precision=second" title="2013-10-17T14:11:37+01:00 in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Don't fill up pair combo-boxes manually when filling table.
</p>
<p>
This will be done in a slot, when group table is changed.
</p>
<p>
Refs <a class="closed ticket" href="7557.html" title="defect: MUON: writing/reading tempMuonAnalysisGrouping.xml causes bug (closed: fixed)">#7557</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/0fe75a255e8e45e135af16e5bc393e6ab62d366e" title="0fe75a255e8e45e135af16e5bc393e6ab62d366e">0fe75a255e8e45e135af16e5bc393e6ab62d366e</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="7557.html#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-17T14%3A14%3A00%2B01%3A00&amp;precision=second" title="2013-10-17T14:14:00+01:00 in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
One more should be here:
</p>
<p>
Refactored applyGroupingToWS and made it to work with groups.
    
</p>
<p>
Refs <a class="closed ticket" href="7557.html" title="defect: MUON: writing/reading tempMuonAnalysisGrouping.xml causes bug (closed: fixed)">#7557</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/379c3c2e5ad4ba0a89bfdf98f2d4168f52ade717" title="379c3c2e5ad4ba0a89bfdf98f2d4168f52ade717">379c3c2e5ad4ba0a89bfdf98f2d4168f52ade717</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-14">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:14" class="cnum">
      <a href="7557.html#comment:14">comment:14</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-17T14%3A27%3A07%2B01%3A00&amp;precision=second" title="2013-10-17T14:27:07+01:00 in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Added DLL export macros to functions.
</p>
<p>
Windows fails to use them in other files otherwise.
</p>
<p>
Refs <a class="closed ticket" href="7557.html" title="defect: MUON: writing/reading tempMuonAnalysisGrouping.xml causes bug (closed: fixed)">#7557</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/235c1ec636f6a9126badaad5dce962a07db72f20" title="235c1ec636f6a9126badaad5dce962a07db72f20">235c1ec636f6a9126badaad5dce962a07db72f20</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-15">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:15" class="cnum">
      <a href="7557.html#comment:15">comment:15</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-17T14%3A36%3A56%2B01%3A00&amp;precision=second" title="2013-10-17T14:36:56+01:00 in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Fix build errors because of not included file.
</p>
<p>
Plus improve code layout.
</p>
<p>
Refs <a class="closed ticket" href="7557.html" title="defect: MUON: writing/reading tempMuonAnalysisGrouping.xml causes bug (closed: fixed)">#7557</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/dbcdbe9cad3fc766eae9288530adcfe78e7cc32e" title="dbcdbe9cad3fc766eae9288530adcfe78e7cc32e">dbcdbe9cad3fc766eae9288530adcfe78e7cc32e</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-16">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:16" class="cnum">
      <a href="7557.html#comment:16">comment:16</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-17T14%3A50%3A35%2B01%3A00&amp;precision=second" title="2013-10-17T14:50:35+01:00 in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Fix build error on OS X due to incorrect constructor param type.
</p>
<p>
Refs <a class="closed ticket" href="7557.html" title="defect: MUON: writing/reading tempMuonAnalysisGrouping.xml causes bug (closed: fixed)">#7557</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/4c64d061d0a94d2e0a6e85a4d8571dbe3ef36693" title="4c64d061d0a94d2e0a6e85a4d8571dbe3ef36693">4c64d061d0a94d2e0a6e85a4d8571dbe3ef36693</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-17">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:17" class="cnum">
      <a href="7557.html#comment:17">comment:17</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-17T15%3A35%3A22%2B01%3A00&amp;precision=second" title="2013-10-17T15:35:22+01:00 in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Fixed the problem being unable to load more ws if group loading failed.
</p>
<p>
Refs <a class="closed ticket" href="7557.html" title="defect: MUON: writing/reading tempMuonAnalysisGrouping.xml causes bug (closed: fixed)">#7557</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/ae512fb1584d2f7dab60f268e32be07a42cc55f6" title="ae512fb1584d2f7dab60f268e32be07a42cc55f6">ae512fb1584d2f7dab60f268e32be07a42cc55f6</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-18">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:18" class="cnum">
      <a href="7557.html#comment:18">comment:18</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-17T15%3A53%3A55%2B01%3A00&amp;precision=second" title="2013-10-17T15:53:55+01:00 in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
<strong>Tester:</strong>
</p>
<p>
All in all, in this ticket I've changed the way <em>GUI</em> &lt;-&gt; <em>Grouping</em> &lt;-&gt; <em>XML file</em> interact with each other, and the way grouping is applied to a workspace.
</p>
<p>
The main aim was not to use temporary file for storing/applying grouping, so please check it was removed from everywhere in MuonAnalysis.cpp.
</p>
<p>
Verify that custom grouping saving/loading was not broken:
</p>
<ol><li>Load some data file.
</li><li>Go to Grouping tab and change the information in there. Make sure you:
<ul><li>Add some groups with custom names and detector IDs
</li><li>Add some pairs with custom names and your own added groups
</li><li>Change the description
</li></ul></li><li>Now using appropriate button at the top save this grouping to some file.
</li><li>Restart MuonAnalysis interface.
</li><li>Load the same data file.
</li><li>Go to Grouping tab and load previously saved grouping file. Make sure it all was properly loaded.
</li><li>Try to plot your own groups and pairs to make sure they are not just symbols on the screen. Try to change detector IDs/pair groups and check that plots are changing in that case.
</li><li>Additionally, try to load a file which is not a grouping file, and make sure that error is displayed and none of the information is overwritten.
</li></ol><p>
Now the only thing left to check is that grouping is applied properly. To do that I've made screenshots of some plots created using MuonAnalysis in MantidPlot 2.6. Your task is to load appropriate data files using MuonAnalysis, plot the only pair in there and compare the results. This will verify that (at least) testing files for all the Muon instruments are grouped correctly.
</p>
<p>
Data files used to make screenshots:
</p>
<ul><li>AutoTestData/MUSR00015189.nxs
</li><li>AutoTestData/argus0026287.nxs
</li><li>AutoTestData/emu00006473.nxs
</li><li>SystemTests/Data/hifi00038401.nxs
</li></ul><p>
 
</p>

    </div>

              </div>
              <div class="change">
                <h3 class="change">
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-17T15%3A54%3A42%2B01%3A00&amp;precision=second" title="2013-10-17T15:54:42+01:00 in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Attachment</strong>
        <a href="../attachment/ticket/7557/ARGUS.png.html"><em>ARGUS.png</em></a><a href="../raw-attachment/ticket/7557/ARGUS.png" title="Download" class="trac-rawlink">​</a>
          added
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
argus0026287.nxs
</p>

    </div>

              </div>
              <div class="change">
                <h3 class="change">
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-17T15%3A55%3A04%2B01%3A00&amp;precision=second" title="2013-10-17T15:55:04+01:00 in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Attachment</strong>
        <a href="../attachment/ticket/7557/EMU.png.html"><em>EMU.png</em></a><a href="../raw-attachment/ticket/7557/EMU.png" title="Download" class="trac-rawlink">​</a>
          added
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
emu00006473.nxs
</p>

    </div>

              </div>
              <div class="change">
                <h3 class="change">
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-17T15%3A55%3A21%2B01%3A00&amp;precision=second" title="2013-10-17T15:55:21+01:00 in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Attachment</strong>
        <a href="../attachment/ticket/7557/MUSR.png.html"><em>MUSR.png</em></a><a href="../raw-attachment/ticket/7557/MUSR.png" title="Download" class="trac-rawlink">​</a>
          added
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
MUSR00015189.nxs
</p>

    </div>

              </div>
              <div class="change">
                <h3 class="change">
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-17T15%3A55%3A37%2B01%3A00&amp;precision=second" title="2013-10-17T15:55:37+01:00 in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Attachment</strong>
        <a href="../attachment/ticket/7557/HIFI.png.html"><em>HIFI.png</em></a><a href="../raw-attachment/ticket/7557/HIFI.png" title="Download" class="trac-rawlink">​</a>
          added
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
hifi00038401.nxs
</p>

    </div>

              </div>
              <div class="change" id="trac-change-19">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:19" class="cnum">
      <a href="7557.html#comment:19">comment:19</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-17T16%3A02%3A34%2B01%3A00&amp;precision=second" title="2013-10-17T16:02:34+01:00 in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>inprogress</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-20">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:20" class="cnum">
      <a href="7557.html#comment:20">comment:20</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-18T14%3A45%3A02%2B01%3A00&amp;precision=second" title="2013-10-18T14:45:02+01:00 in Timeline">7 years</a> ago by Roman Tolchenov
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li><li>
      <strong>Tester</strong>
        set to <em>Roman Tolchenov</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-21">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:21" class="cnum">
      <a href="7557.html#comment:21">comment:21</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-18T16%3A08%3A33%2B01%3A00&amp;precision=second" title="2013-10-18T16:08:33+01:00 in Timeline">7 years</a> ago by Roman Tolchenov
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>closed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-22">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:22" class="cnum">
      <a href="7557.html#comment:22">comment:22</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-18T16%3A09%3A38%2B01%3A00&amp;precision=second" title="2013-10-18T16:09:38+01:00 in Timeline">7 years</a> ago by Roman Tolchenov
                </h3>
                
    <div class="comment searchable">
      
      <p>
Merge remote-tracking branch 'origin/feature/7557_muon_rm_tmp_file'
</p>
<p>
Full changeset: <a class="ext-link" href="https://github.com/mantidproject/mantid/commit/7f5492fc55112fcb1806378243e7ffd19ff2ac63"><span class="icon">​</span>7f5492fc55112fcb1806378243e7ffd19ff2ac63</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-23">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:23" class="cnum">
      <a href="7557.html#comment:23">comment:23</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T02%3A00%3A13%2B01%3A00&amp;precision=second" title="2015-06-04T02:00:13+01:00 in Timeline">5 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
This ticket has been transferred to github issue <a class="ext-link" href="http://github.com/mantidproject/mantid/issues/8402"><span class="icon">​</span>8402</a>
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/7557?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/7557?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/7557?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.5</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
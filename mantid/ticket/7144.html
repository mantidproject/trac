<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      #7144 (Fix ConvertSpectrumAxis algorithm)
     – Mantid Project
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="7143.html" title="Ticket #7143" />
        <link rel="last" href="11888.html" title="Ticket #11888" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/7144?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/7144?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/7144?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="7145.html" title="Ticket #7145" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mantid Project" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="a82fe30e7bef2e30fd2838e9";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/mantid/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 7144, escape_newlines: 0}
        $("#comment").autoPreview("/mantid/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/mantid/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.mantidproject.org/"><img src="../chrome/site/mantid_logo_with_name.png" alt="Mantid Logo" width="250" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://trac.mantidproject.org/mantid/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="7143.html" title="Ticket #7143">Previous Ticket</a></span></li><li class="last"><span><a class="next" href="7145.html" title="Ticket #7145">Next Ticket</a> &rarr;</span></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="7144.html">Ticket #7144</a>
          <span class="status">(closed: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-05-20T11%3A20%3A27%2B01%3A00&amp;precision=second" title="2013-05-20T11:20:27+01:00 in Timeline">7 years</a> ago</p>
    <p>Last modified <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T01%3A43%3A10%2B01%3A00&amp;precision=second" title="2015-06-04T01:43:10+01:00 in Timeline">5 years</a> ago</p>
  </div>
  <h2 class="summary searchable">Fix ConvertSpectrumAxis algorithm</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;reporter=Dereck+Kachere">Dereck Kachere</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;owner=Martyn+Gigg">Martyn Gigg</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;priority=critical">critical</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="../milestone/Release&#32;2.6.html">Release 2.6</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;component=Indirect+Inelastic">Indirect Inelastic</a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
              spencer.howells@…
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby"><span></span></td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking"><span></span></td>
        <th id="h_tester">
          Tester:
        </th>
        <td headers="h_tester">
              Arturs Bekasovs
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
      <span class="lastmod" title="2013-07-25 09:22:54.754607+00:00">
        (last modified by Nick Draper)
        (<a href="https://trac.mantidproject.org/mantid/ticket/7144?action=diff&amp;version=29">diff</a>)
      </span>
    </h3>
    <div class="searchable">
      <p>
Currently, ConvertToSpectrumAxis is incorrectly converting from <strong>theta</strong> to <strong>Q</strong>. The algorithm is used by Elwin, meaning all the output workspaces from the Elwin interface are wrong.
</p>
<p>
Fix this and look into the possibility of limiting the conversions carried out by this algorithm.
</p>

    </div>
  </div>
</div>
          

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="7144.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-05-23T16%3A04%3A12%2B01%3A00&amp;precision=second" title="2013-05-23T16:04:12+01:00 in Timeline">7 years</a> ago by Dereck Kachere
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Priority</strong>
        changed from <em>major</em> to <em>critical</em>
    </li><li>
      <strong>Description</strong>
        modified (<a href="https://trac.mantidproject.org/mantid/ticket/7144?action=diff&amp;version=1">diff</a>)
    </li><li>
      <strong>Summary</strong>
        changed from <em>Calculate Q value correctly in Elwin</em> to <em>Fix ConvertSpectrumAxis algorithm</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="7144.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-14T17%3A23%3A39%2B01%3A00&amp;precision=second" title="2013-06-14T17:23:39+01:00 in Timeline">7 years</a> ago by Dereck Kachere
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="7144.html" title="defect: Fix ConvertSpectrumAxis algorithm (closed: fixed)">#7144</a> New versions of the algorithm.
</p>
<p>
First few changes.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/6962092ef393b25b41c6909ab2c33c37c6991201" title="6962092ef393b25b41c6909ab2c33c37c6991201">6962092ef393b25b41c6909ab2c33c37c6991201</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="7144.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-14T17%3A23%3A39%2B01%3A00&amp;precision=second" title="2013-06-14T17:23:39+01:00 in Timeline">7 years</a> ago by Dereck Kachere
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="7144.html" title="defect: Fix ConvertSpectrumAxis algorithm (closed: fixed)">#7144</a> Refactored old alg
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/3e823dc2c0e3766f3d060bc9fe1f4be1e4607218" title="3e823dc2c0e3766f3d060bc9fe1f4be1e4607218">3e823dc2c0e3766f3d060bc9fe1f4be1e4607218</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="7144.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-14T17%3A23%3A39%2B01%3A00&amp;precision=second" title="2013-06-14T17:23:39+01:00 in Timeline">7 years</a> ago by Dereck Kachere
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="7144.html" title="defect: Fix ConvertSpectrumAxis algorithm (closed: fixed)">#7144</a> More refactoring
</p>
<p>
Work in progress still
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/ba26da9ee59df702050104bd5e69d62743a0b7bd" title="ba26da9ee59df702050104bd5e69d62743a0b7bd">ba26da9ee59df702050104bd5e69d62743a0b7bd</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="7144.html#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-17T13%3A59%3A00%2B01%3A00&amp;precision=second" title="2013-06-17T13:59:00+01:00 in Timeline">7 years</a> ago by Dereck Kachere
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="7144.html" title="defect: Fix ConvertSpectrumAxis algorithm (closed: fixed)">#7144</a> Latest version of the alg and unit test.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/c6c4a2eb8593392fd795b2f32cafd8b4836207bb" title="c6c4a2eb8593392fd795b2f32cafd8b4836207bb">c6c4a2eb8593392fd795b2f32cafd8b4836207bb</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="7144.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-19T12%3A18%3A48%2B01%3A00&amp;precision=second" title="2013-06-19T12:18:48+01:00 in Timeline">7 years</a> ago by Dereck Kachere
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="7144.html" title="defect: Fix ConvertSpectrumAxis algorithm (closed: fixed)">#7144</a> Few more additions - test still under construction.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/94b7243c79a19314c86ed01c967f47cf1bbd5c87" title="94b7243c79a19314c86ed01c967f47cf1bbd5c87">94b7243c79a19314c86ed01c967f47cf1bbd5c87</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="7144.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-20T17%3A42%3A18%2B01%3A00&amp;precision=second" title="2013-06-20T17:42:18+01:00 in Timeline">7 years</a> ago by Dereck Kachere
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="7144.html" title="defect: Fix ConvertSpectrumAxis algorithm (closed: fixed)">#7144</a> More up-to-date version
</p>
<p>
Q and QSquared values in the algorithm are given in units of Angstroms
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/66017e538916706cb70a8e6f5898528bc0c9f9eb" title="66017e538916706cb70a8e6f5898528bc0c9f9eb">66017e538916706cb70a8e6f5898528bc0c9f9eb</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="7144.html#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-21T17%3A36%3A49%2B01%3A00&amp;precision=second" title="2013-06-21T17:36:49+01:00 in Timeline">7 years</a> ago by Dereck Kachere
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="7144.html" title="defect: Fix ConvertSpectrumAxis algorithm (closed: fixed)">#7144</a> Added a couple more tests
</p>
<p>
A bit of refactoring needed to finalise the algorithm and the test.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/31fca5e0fa4f1a2eabbc6bea28e3052e3ed20ff3" title="31fca5e0fa4f1a2eabbc6bea28e3052e3ed20ff3">31fca5e0fa4f1a2eabbc6bea28e3052e3ed20ff3</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="7144.html#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-24T13%3A29%3A27%2B01%3A00&amp;precision=second" title="2013-06-24T13:29:27+01:00 in Timeline">7 years</a> ago by Dereck Kachere
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="7144.html" title="defect: Fix ConvertSpectrumAxis algorithm (closed: fixed)">#7144</a> Refactored code and made a few additions and deletions.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/373758ba1cdf465098ae2df0560b3a7bb188b2b0" title="373758ba1cdf465098ae2df0560b3a7bb188b2b0">373758ba1cdf465098ae2df0560b3a7bb188b2b0</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="7144.html#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-24T14%3A04%3A01%2B01%3A00&amp;precision=second" title="2013-06-24T14:04:01+01:00 in Timeline">7 years</a> ago by Dereck Kachere
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="7144.html" title="defect: Fix ConvertSpectrumAxis algorithm (closed: fixed)">#7144</a> Solved a conflict
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/426770544448d60e69c35b192f8865aa9722e353" title="426770544448d60e69c35b192f8865aa9722e353">426770544448d60e69c35b192f8865aa9722e353</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="7144.html#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-24T14%3A44%3A23%2B01%3A00&amp;precision=second" title="2013-06-24T14:44:23+01:00 in Timeline">7 years</a> ago by Dereck Kachere
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="7144.html" title="defect: Fix ConvertSpectrumAxis algorithm (closed: fixed)">#7144</a> Modified overloads on helper function.
</p>
<p>
Helper function was modified for unit test purposes.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/3b1361e8932b6dae6ca5c2bf0ece41c6ec9f9d6e" title="3b1361e8932b6dae6ca5c2bf0ece41c6ec9f9d6e">3b1361e8932b6dae6ca5c2bf0ece41c6ec9f9d6e</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="7144.html#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-24T18%3A34%3A39%2B01%3A00&amp;precision=second" title="2013-06-24T18:34:39+01:00 in Timeline">7 years</a> ago by Dereck Kachere
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="7144.html" title="defect: Fix ConvertSpectrumAxis algorithm (closed: fixed)">#7144</a> Some more refactoring
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/57765ec2e9aac127eedf87e133ae3fba7fdf326e" title="57765ec2e9aac127eedf87e133ae3fba7fdf326e">57765ec2e9aac127eedf87e133ae3fba7fdf326e</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="7144.html#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-25T11%3A12%3A16%2B01%3A00&amp;precision=second" title="2013-06-25T11:12:16+01:00 in Timeline">7 years</a> ago by Dereck Kachere
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>accepted</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-14">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:14" class="cnum">
      <a href="7144.html#comment:14">comment:14</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-25T17%3A20%3A50%2B01%3A00&amp;precision=second" title="2013-06-25T17:20:50+01:00 in Timeline">7 years</a> ago by Dereck Kachere
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="7144.html" title="defect: Fix ConvertSpectrumAxis algorithm (closed: fixed)">#7144</a> Corrected the inputs for energy.
</p>
<p>
The input was in Joules and not in meV and were not accounted for in the calculations.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/93b4ceb74fd6ea2f1b7a6634997434020fc81c12" title="93b4ceb74fd6ea2f1b7a6634997434020fc81c12">93b4ceb74fd6ea2f1b7a6634997434020fc81c12</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-15">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:15" class="cnum">
      <a href="7144.html#comment:15">comment:15</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-25T17%3A40%3A04%2B01%3A00&amp;precision=second" title="2013-06-25T17:40:04+01:00 in Timeline">7 years</a> ago by Dereck Kachere
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="7144.html" title="defect: Fix ConvertSpectrumAxis algorithm (closed: fixed)">#7144</a> Files for new version of ConvertSpectrumAxis algorithm.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/686498f3bdf97ff7841a40fdcf68892c6277770f" title="686498f3bdf97ff7841a40fdcf68892c6277770f">686498f3bdf97ff7841a40fdcf68892c6277770f</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-16">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:16" class="cnum">
      <a href="7144.html#comment:16">comment:16</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-25T17%3A44%3A25%2B01%3A00&amp;precision=second" title="2013-06-25T17:44:25+01:00 in Timeline">7 years</a> ago by Dereck Kachere
                </h3>
                
    <div class="comment searchable">
      
      <p>
<strong>A systemtest branch of the same name - 7144_new_v_cov_spectrum_axis - needs to be merged into master at the same time as this ticket</strong>
</p>

    </div>

                <div class="trac-lastedit ">
                  Last edited <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-25T17%3A44%3A46%2B01%3A00&amp;precision=second" title="2013-06-25T17:44:46+01:00 in Timeline">7 years</a> ago
                      by Dereck Kachere
                    (<a href="https://trac.mantidproject.org/mantid/ticket/7144?cversion=0&amp;cnum_hist=16#comment:16">previous</a>)
                    (<a href="https://trac.mantidproject.org/mantid/ticket/7144?action=comment-diff&amp;cnum=16&amp;version=1">diff</a>)
                </div>
              </div>
              <div class="change" id="trac-change-17">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:17" class="cnum">
      <a href="7144.html#comment:17">comment:17</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-27T11%3A38%3A20%2B01%3A00&amp;precision=second" title="2013-06-27T11:38:20+01:00 in Timeline">7 years</a> ago by Dereck Kachere
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="7144.html" title="defect: Fix ConvertSpectrumAxis algorithm (closed: fixed)">#7144</a> Updated reference results.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/d2b93d1e36f8740b4de48f92ac80ef5664100b5e" title="d2b93d1e36f8740b4de48f92ac80ef5664100b5e">d2b93d1e36f8740b4de48f92ac80ef5664100b5e</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-18">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:18" class="cnum">
      <a href="7144.html#comment:18">comment:18</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-27T11%3A56%3A24%2B01%3A00&amp;precision=second" title="2013-06-27T11:56:24+01:00 in Timeline">7 years</a> ago by Dereck Kachere
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="closed ticket" href="7144.html" title="defect: Fix ConvertSpectrumAxis algorithm (closed: fixed)">#7144</a> Removed unused variable.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/126380b256dc4a673e37b9d21390a57a2a1302c7" title="126380b256dc4a673e37b9d21390a57a2a1302c7">126380b256dc4a673e37b9d21390a57a2a1302c7</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-19">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:19" class="cnum">
      <a href="7144.html#comment:19">comment:19</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-06-28T17%3A15%3A37%2B01%3A00&amp;precision=second" title="2013-06-28T17:15:37+01:00 in Timeline">7 years</a> ago by Dereck Kachere
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Owner</strong>
        changed from <em>Dereck Kachere</em> to <em>Martyn Gigg</em>
    </li><li>
      <strong>Status</strong>
        changed from <em>accepted</em> to <em>assigned</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-20">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:20" class="cnum">
      <a href="7144.html#comment:20">comment:20</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-07-03T16%3A59%3A09%2B01%3A00&amp;precision=second" title="2013-07-03T16:59:09+01:00 in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
    <div class="comment searchable">
      
      <p>
Fix bug in Q calculation. Use theta not 2 theta. Refs <a class="closed ticket" href="7144.html" title="defect: Fix ConvertSpectrumAxis algorithm (closed: fixed)">#7144</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/3e539ea8758bf08a39ff38d7180a735a836fcb1f" title="3e539ea8758bf08a39ff38d7180a735a836fcb1f">3e539ea8758bf08a39ff38d7180a735a836fcb1f</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-21">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:21" class="cnum">
      <a href="7144.html#comment:21">comment:21</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-07-03T16%3A59%3A10%2B01%3A00&amp;precision=second" title="2013-07-03T16:59:10+01:00 in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
    <div class="comment searchable">
      
      <p>
Add progress reporting to elastic window. Refs <a class="closed ticket" href="7144.html" title="defect: Fix ConvertSpectrumAxis algorithm (closed: fixed)">#7144</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/0b88e6fe0dba4214e242706c134c91ba72ed5b06" title="0b88e6fe0dba4214e242706c134c91ba72ed5b06">0b88e6fe0dba4214e242706c134c91ba72ed5b06</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-22">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:22" class="cnum">
      <a href="7144.html#comment:22">comment:22</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-07-03T19%3A18%3A19%2B01%3A00&amp;precision=second" title="2013-07-03T19:18:19+01:00 in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
    <div class="comment searchable">
      
      <p>
Update reference results for Elwin &amp; MSDFit
</p>
<p>
Fixing ConvertSpectrumAxis requires an update to the results.
Refs <a class="closed ticket" href="7144.html" title="defect: Fix ConvertSpectrumAxis algorithm (closed: fixed)">#7144</a>
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/de8ad759836e48319ea2e85f3edfdc56c227aab4" title="de8ad759836e48319ea2e85f3edfdc56c227aab4">de8ad759836e48319ea2e85f3edfdc56c227aab4</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-23">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:23" class="cnum">
      <a href="7144.html#comment:23">comment:23</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-07-03T19%3A19%3A27%2B01%3A00&amp;precision=second" title="2013-07-03T19:19:27+01:00 in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>assigned</em> to <em>accepted</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-24">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:24" class="cnum">
      <a href="7144.html#comment:24">comment:24</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-07-03T19%3A42%3A39%2B01%3A00&amp;precision=second" title="2013-07-03T19:42:39+01:00 in Timeline">7 years</a> ago by Martyn Gigg
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>accepted</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Branch: feature/7144_new_v_conv_spectrum_axis <strong>in both code and systemtests repos</strong>
</p>
<p>
Tester: Use the script below to check the values are what you expect by displaying the detector table to see the two theta angles (labelled Theta!) and using Q=4*pi*sin(theta)/lambda &amp; lambda = sqrt(81.787/efixed) where efixed = 1.845 meV
</p>
<div class="code"><pre>nxs <span class="o">=</span> Load<span class="p">(</span>Filename<span class="o">=</span><span class="s">"irs26176_graphite002_red.nxs"</span><span class="p">)</span>
ws <span class="o">=</span> ConvertSpectrumAxis<span class="p">(</span>InputWorkspace<span class="o">=</span>nxs<span class="p">,</span>Target<span class="o">=</span><span class="s">"ElasticQ"</span><span class="p">)</span>

axis1 <span class="o">=</span> ws<span class="o">.</span>getAxis<span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="k">print</span> ws<span class="o">.</span>getValue<span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="k">print</span> ws<span class="o">.</span>getValue<span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
    </div>

              </div>
              <div class="change" id="trac-change-25">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:25" class="cnum">
      <a href="7144.html#comment:25">comment:25</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-07-05T13%3A57%3A46%2B01%3A00&amp;precision=second" title="2013-07-05T13:57:46+01:00 in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li><li>
      <strong>Tester</strong>
        set to <em>Arturs Bekasovs</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-26">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:26" class="cnum">
      <a href="7144.html#comment:26">comment:26</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-07-05T16%3A16%3A24%2B01%3A00&amp;precision=second" title="2013-07-05T16:16:24+01:00 in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
    <div class="comment searchable">
      
      <p>
Merge remote-tracking branch 'origin/feature/7144_new_v_conv_spectrum_axis'
</p>
<p>
Refs <a class="closed ticket" href="7144.html" title="defect: Fix ConvertSpectrumAxis algorithm (closed: fixed)">#7144</a>
Conflicts:
</p>
<blockquote>
<p>
Code/Mantid/Framework/TestHelpers/inc/MantidTestHelpers/WorkspaceCreationHelper.h
</p>
</blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/bb6357fae43e1fea9810d16b0387ef8b2997f2a3" title="bb6357fae43e1fea9810d16b0387ef8b2997f2a3">bb6357fae43e1fea9810d16b0387ef8b2997f2a3</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-27">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:27" class="cnum">
      <a href="7144.html#comment:27">comment:27</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-07-08T09%3A03%3A08%2B01%3A00&amp;precision=second" title="2013-07-08T09:03:08+01:00 in Timeline">7 years</a> ago by Arturs Bekasovs
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>closed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Compared the Slice Views of the original workspace and converted one, noticed the difference in axis. Run the Python script provided and checked that the values are corresponding to the ones expected.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-28">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:28" class="cnum">
      <a href="7144.html#comment:28">comment:28</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-07-24T09%3A53%3A06%2B01%3A00&amp;precision=second" title="2013-07-24T09:53:06+01:00 in Timeline">7 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Component</strong>
        changed from <em>Mantid</em> to <em>Framework</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-29">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:29" class="cnum">
      <a href="7144.html#comment:29">comment:29</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-07-25T10%3A22%3A54%2B01%3A00&amp;precision=second" title="2013-07-25T10:22:54+01:00 in Timeline">7 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Component</strong>
        changed from <em>Framework</em> to <em>Indirect Inelastic</em>
    </li><li>
      <strong>Description</strong>
        modified (<a href="https://trac.mantidproject.org/mantid/ticket/7144?action=diff&amp;version=29">diff</a>)
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-30">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:30" class="cnum">
      <a href="7144.html#comment:30">comment:30</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T01%3A43%3A10%2B01%3A00&amp;precision=second" title="2015-06-04T01:43:10+01:00 in Timeline">5 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
This ticket has been transferred to github issue <a class="ext-link" href="http://github.com/mantidproject/mantid/issues/7990"><span class="icon">​</span>7990</a>
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <script type="text/javascript">
        jQuery.loadStyleSheet("/mantid/pygments/trac.css", "text/css");
    </script>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/7144?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/7144?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/7144?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.5</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
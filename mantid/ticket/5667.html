<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      #5667 (Bug with negative xstep in IDF)
     – Mantid Project
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="5666.html" title="Ticket #5666" />
        <link rel="last" href="11888.html" title="Ticket #11888" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/5667?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/5667?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/5667?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="5668.html" title="Ticket #5668" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mantid Project" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="a82fe30e7bef2e30fd2838e9";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/mantid/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 5667, escape_newlines: 0}
        $("#comment").autoPreview("/mantid/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/mantid/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.mantidproject.org/"><img src="../chrome/site/mantid_logo_with_name.png" alt="Mantid Logo" width="250" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://trac.mantidproject.org/mantid/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="5666.html" title="Ticket #5666">Previous Ticket</a></span></li><li class="last"><span><a class="next" href="5668.html" title="Ticket #5668">Next Ticket</a> &rarr;</span></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="5667.html">Ticket #5667</a>
          <span class="status">(assigned)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-08-01T09%3A45%3A18%2B01%3A00&amp;precision=second" title="2012-08-01T09:45:18+01:00 in Timeline">8 years</a> ago</p>
    <p>Last modified <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T00%3A42%3A00%2B01%3A00&amp;precision=second" title="2015-06-04T00:42:00+01:00 in Timeline">5 years</a> ago</p>
  </div>
  <h2 class="summary searchable">Bug with negative xstep in IDF</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;reporter=Owen+Arnold">Owen Arnold</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;owner=Karl+Palmen">Karl Palmen</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;priority=major">major</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="milestone" href="../milestone/Backlog.html">Backlog</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;component=Framework">Framework</a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
              MikkelsonD@…, anders.markvardsen@…
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby"><span></span></td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking"><span></span></td>
        <th id="h_tester">
          Tester:
        </th>
        <td headers="h_tester">
              Dennis Mikkelson
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
      <span class="lastmod" title="2013-07-31 10:19:14.886969+00:00">
        (last modified by Karl Palmen)
        (<a href="https://trac.mantidproject.org/mantid/ticket/5667?action=diff&amp;version=23">diff</a>)
      </span>
    </h3>
    <div class="searchable">
      <p>
Message from Dennis below:
</p>
<p>
"NEW BUG:  There was a side-effect to the new SXD definition file.  If a new calibration file is not loaded, when an SXD peaks workspace is written to an ISAW peaks file, any detector where xstep is negative in the definition file gets written with a NEGATIVE WIDTH.  Similarly, if ystep is negative in the definition file, the detector gets a NEGATIVE HEIGHT.  We could fix this symptom by making SaveIsawPeaks() just write the absolute value of the width and height to the file, but fixing the symptom may hide worse problems that will be hard to find later.  That is, however the instrument definition information gets placed in the rectangular detector information, it is now getting set with a negative width and/or height for some of the SXD detectors.  Perhaps someone who is more familiar with the system than I could check this out and fix it in a way that should not break other things.  The negative width and height "broke" the detector calibration in Mantid, so I just used an editor to make them positive and used that fixed peaks file to do the calibration in ISAW."
</p>
<p>
The offending IDF is attached.
</p>

    </div>
  </div>
</div>
          
    <div id="attachments">
        <h2 class="foldable">Attachments</h2>
        <div>
          <dl class="attachments">
              <dt>
    <a href="../attachment/ticket/5667/SXD_Definition4.xml.html" title="View attachment">SXD_Definition4.xml</a><a href="../raw-attachment/ticket/5667/SXD_Definition4.xml" class="trac-rawlink" title="Download">​</a>
       (<span title="7159 bytes">7.0 KB</span>) -
      added by <em>Owen Arnold</em> <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-08-01T11%3A57%3A51%2B01%3A00&amp;precision=second" title="2012-08-01T11:57:51+01:00 in Timeline">8 years</a> ago.
  </dt>
          </dl>
          
        </div>
    </div>

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="5667.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-08-01T09%3A45%3A35%2B01%3A00&amp;precision=second" title="2012-08-01T09:45:35+01:00 in Timeline">8 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>accepted</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change">
                <h3 class="change">
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-08-01T11%3A57%3A51%2B01%3A00&amp;precision=second" title="2012-08-01T11:57:51+01:00 in Timeline">8 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Attachment</strong>
        <a href="../attachment/ticket/5667/SXD_Definition4.xml.html"><em>SXD_Definition4.xml</em></a><a href="../raw-attachment/ticket/5667/SXD_Definition4.xml" title="Download" class="trac-rawlink">​</a>
          added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="5667.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-08-01T11%3A58%3A20%2B01%3A00&amp;precision=second" title="2012-08-01T11:58:20+01:00 in Timeline">8 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Description</strong>
        modified (<a href="https://trac.mantidproject.org/mantid/ticket/5667?action=diff&amp;version=2">diff</a>)
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="5667.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-08-01T14%3A11%3A48%2B01%3A00&amp;precision=second" title="2012-08-01T14:11:48+01:00 in Timeline">8 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="assigned ticket" href="5667.html" title="defect: Bug with negative xstep in IDF (assigned)">#5667</a>. Add two failing test cases 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/419fc2f041434ca51bc2b709623c3d75a7f93101" title="419fc2f041434ca51bc2b709623c3d75a7f93101">419fc2f041434ca51bc2b709623c3d75a7f93101</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="5667.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-08-01T14%3A11%3A48%2B01%3A00&amp;precision=second" title="2012-08-01T14:11:48+01:00 in Timeline">8 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="assigned ticket" href="5667.html" title="defect: Bug with negative xstep in IDF (assigned)">#5667</a>. Fix failing test by fixing code 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/eb72adae009e466193761d4de093fda913712449" title="eb72adae009e466193761d4de093fda913712449">eb72adae009e466193761d4de093fda913712449</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="5667.html#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-08-01T14%3A40%3A50%2B01%3A00&amp;precision=second" title="2012-08-01T14:40:50+01:00 in Timeline">8 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>accepted</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Tester: 
</p>
<p>
Run the following and notice that the Height and Width entries in the output *.peaks file are not negative for all 11 Banks.
</p>
<div class="code"><pre>
LoadRaw<span class="p">(</span>Filename<span class="o">=</span><span class="s">r'SXD23767.raw'</span><span class="p">,</span>OutputWorkspace<span class="o">=</span><span class="s">'SXD23767'</span><span class="p">,</span>LoadLogFiles<span class="o">=</span><span class="s">'0'</span><span class="p">,</span>LoadMonitors<span class="o">=</span><span class="s">'Exclude'</span><span class="p">)</span>

LoadInstrument<span class="p">(</span>Workspace<span class="o">=</span><span class="s">'SXD23767'</span><span class="p">,</span>Filename<span class="o">=</span><span class="s">r'SXD_Definition4.xml'</span><span class="p">)</span>

ConvertToDiffractionMDWorkspace<span class="p">(</span>InputWorkspace<span class="o">=</span><span class="s">'SXD23767'</span><span class="p">,</span>
                                OneEventPerBin<span class="o">=</span><span class="s">'1'</span><span class="p">,</span>LorentzCorrection<span class="o">=</span><span class="s">'1'</span><span class="p">,</span>
                                SplitInto<span class="o">=</span><span class="s">'2,2,2'</span><span class="p">,</span>SplitThreshold<span class="o">=</span><span class="s">'25'</span><span class="p">,</span>MaxRecursionDepth<span class="o">=</span><span class="s">'12'</span><span class="p">,</span>Extents<span class="o">=</span><span class="s">'-12,12,-12,12,-12,12'</span><span class="p">,</span>
                                OutputWorkspace<span class="o">=</span><span class="s">'SXD23767_MD'</span><span class="p">)</span>

FindPeaksMD<span class="p">(</span>InputWorkspace<span class="o">=</span><span class="s">'SXD23767_MD'</span><span class="p">,</span>
            PeakDistanceThreshold<span class="o">=</span><span class="s">'0.5'</span><span class="p">,</span>MaxPeaks<span class="o">=</span><span class="s">'325'</span><span class="p">,</span>DensityThresholdFactor<span class="o">=</span><span class="s">'50'</span><span class="p">,</span>
            OutputWorkspace<span class="o">=</span><span class="s">'SXD_peaks_0pt3_300_100'</span><span class="p">)</span>
            
SaveIsawPeaks<span class="p">(</span>InputWorkspace<span class="o">=</span><span class="s">'SXD_peaks_0pt3_300_100'</span><span class="p">,</span> Filename<span class="o">=</span><span class="s">"demo.peaks"</span><span class="p">)</span>
</pre></div>
    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="5667.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-08-06T13%3A17%3A30%2B01%3A00&amp;precision=second" title="2012-08-06T13:17:30+01:00 in Timeline">8 years</a> ago by Dennis Mikkelson
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li><li>
      <strong>Tester</strong>
        set to <em>Dennis Mikkelson</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="5667.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-08-07T15%3A38%3A03%2B01%3A00&amp;precision=second" title="2012-08-07T15:38:03+01:00 in Timeline">8 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>reopened</em>
    </li><li>
      <strong>Resolution</strong>
        <em>fixed</em> deleted
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="5667.html#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-08-07T15%3A39%3A04%2B01%3A00&amp;precision=second" title="2012-08-07T15:39:04+01:00 in Timeline">8 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
I'm going to undo these changes and move the ticket to the next release because the issue is more complicated that we thought at first.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="5667.html#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-08-07T16%3A40%3A52%2B01%3A00&amp;precision=second" title="2012-08-07T16:40:52+01:00 in Timeline">8 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="assigned ticket" href="5667.html" title="defect: Bug with negative xstep in IDF (assigned)">#5667</a>. Revert changes. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/2397d0d869b65b7bf2092c5811c7d6e2f56510d6" title="2397d0d869b65b7bf2092c5811c7d6e2f56510d6">2397d0d869b65b7bf2092c5811c7d6e2f56510d6</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="5667.html#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-08-07T16%3A42%3A32%2B01%3A00&amp;precision=second" title="2012-08-07T16:42:32+01:00 in Timeline">8 years</a> ago by Owen Arnold
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Priority</strong>
        changed from <em>critical</em> to <em>major</em>
    </li><li>
      <strong>Status</strong>
        changed from <em>reopened</em> to <em>assigned</em>
    </li><li>
      <strong>Owner</strong>
        changed from <em>Owen Arnold</em> to <em>Dennis Mikkelson</em>
    </li><li>
      <strong>Milestone</strong>
        changed from <em>Release 2.2</em> to <em>Release 2.3</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="5667.html#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-08-13T15%3A36%3A41%2B01%3A00&amp;precision=second" title="2012-08-13T15:36:41+01:00 in Timeline">8 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="assigned ticket" href="5667.html" title="defect: Bug with negative xstep in IDF (assigned)">#5667</a>. Revert changes. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/2397d0d869b65b7bf2092c5811c7d6e2f56510d6" title="2397d0d869b65b7bf2092c5811c7d6e2f56510d6">2397d0d869b65b7bf2092c5811c7d6e2f56510d6</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="5667.html#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-08-14T19%3A44%3A24%2B01%3A00&amp;precision=second" title="2012-08-14T19:44:24+01:00 in Timeline">8 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="assigned ticket" href="5667.html" title="defect: Bug with negative xstep in IDF (assigned)">#5667</a>. Add two failing test cases 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/419fc2f041434ca51bc2b709623c3d75a7f93101" title="419fc2f041434ca51bc2b709623c3d75a7f93101">419fc2f041434ca51bc2b709623c3d75a7f93101</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="5667.html#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-08-14T19%3A44%3A25%2B01%3A00&amp;precision=second" title="2012-08-14T19:44:25+01:00 in Timeline">8 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="assigned ticket" href="5667.html" title="defect: Bug with negative xstep in IDF (assigned)">#5667</a>. Fix failing test by fixing code 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/eb72adae009e466193761d4de093fda913712449" title="eb72adae009e466193761d4de093fda913712449">eb72adae009e466193761d4de093fda913712449</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-14">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:14" class="cnum">
      <a href="5667.html#comment:14">comment:14</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-08-14T19%3A45%3A19%2B01%3A00&amp;precision=second" title="2012-08-14T19:45:19+01:00 in Timeline">8 years</a> ago by Owen Arnold
                </h3>
                
    <div class="comment searchable">
      
      <p>
refs <a class="assigned ticket" href="5667.html" title="defect: Bug with negative xstep in IDF (assigned)">#5667</a>. Revert changes. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/2397d0d869b65b7bf2092c5811c7d6e2f56510d6" title="2397d0d869b65b7bf2092c5811c7d6e2f56510d6">2397d0d869b65b7bf2092c5811c7d6e2f56510d6</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-15">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:15" class="cnum">
      <a href="5667.html#comment:15">comment:15</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-10-28T11%3A39%3A04Z&amp;precision=second" title="2012-10-28T11:39:04Z in Timeline">8 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>Release 2.3</em> to <em>Release 2.4</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Moved to milestone 2.4
</p>

    </div>

              </div>
              <div class="change" id="trac-change-16">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:16" class="cnum">
      <a href="5667.html#comment:16">comment:16</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-01-23T17%3A34%3A50Z&amp;precision=second" title="2013-01-23T17:34:50Z in Timeline">8 years</a> ago by Dennis Mikkelson
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Owner</strong>
        changed from <em>Dennis Mikkelson</em> to <em>Anyone</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Work on this ticket could possibly break lots of things for lots of instruments.  It should be addressed by someone with a thorough understanding of how detector geometry is treated in Mantid.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-17">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:17" class="cnum">
      <a href="5667.html#comment:17">comment:17</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-01-28T09%3A23%3A12Z&amp;precision=second" title="2013-01-28T09:23:12Z in Timeline">8 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>Release 2.4</em> to <em>Release 2.5</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Moved at the code freeze for release 2.4
</p>

    </div>

              </div>
              <div class="change" id="trac-change-18">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:18" class="cnum">
      <a href="5667.html#comment:18">comment:18</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-04-29T10%3A49%3A46%2B01%3A00&amp;precision=second" title="2013-04-29T10:49:46+01:00 in Timeline">7 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>Release 2.5</em> to <em>Release 2.6</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Moved to <a class="missing changeset" title="No default repository defined">r2</a>.6 at the end of <a class="missing changeset" title="No default repository defined">r2</a>.5
</p>

    </div>

              </div>
              <div class="change" id="trac-change-19">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:19" class="cnum">
      <a href="5667.html#comment:19">comment:19</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-05-01T15%3A42%3A25%2B01%3A00&amp;precision=second" title="2013-05-01T15:42:25+01:00 in Timeline">7 years</a> ago by Karl Palmen
                </h3>
                
    <div class="comment searchable">
      
      <p>
I had a similar problem when running my tube calibration scripts on MAPS for tubes that had a 'step' of -1 and subsequently fixed it.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-20">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:20" class="cnum">
      <a href="5667.html#comment:20">comment:20</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-07-18T16%3A27%3A11%2B01%3A00&amp;precision=second" title="2013-07-18T16:27:11+01:00 in Timeline">7 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>assigned</em> to <em>new</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-21">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:21" class="cnum">
      <a href="5667.html#comment:21">comment:21</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-07-24T09%3A53%3A08%2B01%3A00&amp;precision=second" title="2013-07-24T09:53:08+01:00 in Timeline">7 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Component</strong>
        changed from <em>Mantid</em> to <em>Framework</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-22">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:22" class="cnum">
      <a href="5667.html#comment:22">comment:22</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-07-26T14%3A54%3A59%2B01%3A00&amp;precision=second" title="2013-07-26T14:54:59+01:00 in Timeline">7 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>Release 2.6</em> to <em>Backlog</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Moved to backlog at the code freeze for R2.6
</p>

    </div>

              </div>
              <div class="change" id="trac-change-23">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:23" class="cnum">
      <a href="5667.html#comment:23">comment:23</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-07-31T11%3A19%3A14%2B01%3A00&amp;precision=second" title="2013-07-31T11:19:14+01:00 in Timeline">7 years</a> ago by Karl Palmen
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Owner</strong>
        changed from <em>Anyone</em> to <em>Karl Palmen</em>
    </li><li>
      <strong>Description</strong>
        modified (<a href="https://trac.mantidproject.org/mantid/ticket/5667?action=diff&amp;version=23">diff</a>)
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-24">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:24" class="cnum">
      <a href="5667.html#comment:24">comment:24</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-08-01T14%3A21%3A39%2B01%3A00&amp;precision=second" title="2013-08-01T14:21:39+01:00 in Timeline">7 years</a> ago by Karl Palmen
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Keywords</strong>
        <em>Poker</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-25">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:25" class="cnum">
      <a href="5667.html#comment:25">comment:25</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-08-02T16%3A43%3A49%2B01%3A00&amp;precision=second" title="2013-08-02T16:43:49+01:00 in Timeline">7 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Keywords</strong>
        <em>Poker</em> removed
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Poker Estimate: 6.5d
</p>

    </div>

              </div>
              <div class="change" id="trac-change-26">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:26" class="cnum">
      <a href="5667.html#comment:26">comment:26</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-14T11%3A04%3A57Z&amp;precision=second" title="2014-02-14T11:04:57Z in Timeline">7 years</a> ago by Nick Draper
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>assigned</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Bulk move to assigned at the introduction of the triage step
</p>

    </div>

              </div>
              <div class="change" id="trac-change-27">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:27" class="cnum">
      <a href="5667.html#comment:27">comment:27</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T00%3A42%3A00%2B01%3A00&amp;precision=second" title="2015-06-04T00:42:00+01:00 in Timeline">5 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
This ticket has been transferred to github issue <a class="ext-link" href="http://github.com/mantidproject/mantid/issues/6513"><span class="icon">​</span>6513</a>
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <script type="text/javascript">
        jQuery.loadStyleSheet("/mantid/pygments/trac.css", "text/css");
    </script>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/5667?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/5667?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/5667?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.5</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
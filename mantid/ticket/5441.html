<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      #5441 (Load algorithm throws exception when doing operations and different kind of files are present.)
     â€“ Mantid Project
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="5440.html" title="Ticket #5440" />
        <link rel="last" href="11888.html" title="Ticket #11888" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/5441?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/5441?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/5441?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="5442.html" title="Ticket #5442" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mantid Project" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="a82fe30e7bef2e30fd2838e9";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/mantid/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 5441, escape_newlines: 0}
        $("#comment").autoPreview("/mantid/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/mantid/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.mantidproject.org/"><img src="../chrome/site/mantid_logo_with_name.png" alt="Mantid Logo" width="250" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://trac.mantidproject.org/mantid/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="5440.html" title="Ticket #5440">Previous Ticket</a></span></li><li class="last"><span><a class="next" href="5442.html" title="Ticket #5442">Next Ticket</a> &rarr;</span></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="5441.html">Ticket #5441</a>
          <span class="status">(closed: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-06-01T09%3A49%3A19%2B01%3A00&amp;precision=second" title="2012-06-01T09:49:19+01:00 in Timeline">8 years</a> ago</p>
    <p>Last modified <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T00%3A32%3A35%2B01%3A00&amp;precision=second" title="2015-06-04T00:32:35+01:00 in Timeline">5 years</a> ago</p>
  </div>
  <h2 class="summary searchable">Load algorithm throws exception when doing operations and different kind of files are present.</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;reporter=Alex+Buts">Alex Buts</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;owner=Peter+Parker">Peter Parker</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;priority=major">major</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="../milestone/Release&#32;2.2.html">Release 2.2</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;component=Mantid">Mantid</a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby"><span></span></td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking"><span></span></td>
        <th id="h_tester">
          Tester:
        </th>
        <td headers="h_tester">
              Anders Markvardsen
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
      <span class="lastmod" title="2012-06-01 08:52:39.853614+00:00">
        (last modified by Alex Buts)
        (<a href="https://trac.mantidproject.org/mantid/ticket/5441?action=diff&amp;version=1">diff</a>)
      </span>
    </h3>
    <div class="searchable">
      <p>
this is extraction out of ticket <a class="closed ticket" href="5205.html" title="defect: Load algorithm throws exception when load nxspe is present and raw file ... (closed: fixed)">#5205</a>
</p>
<p>
When user is trying to sum number of files using Load algorithm interface if both raw and nxspe files are present, nxspe files are higher in a search path and last time you were loading raw files, an unknown exception is thrown 
</p>
<p>
This problem occurs often but not always. The point indicating that exception would be thrown, is the load interface for the type of files different from the type of files you trying to sum. 
Sometimes even this works fine but mainly not. 
</p>
<p>
Ann Terry (Sans2D) have risen the same issue when working with Load algorithm. They are typing file names in Load algorithm field and have 2 types of input files (raw and nxs). Claim was that nxs do not work from load but does work from loadNXS. I am almost sure, they hit the issue, revealed by this ticket.
</p>

    </div>
  </div>
</div>
          

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="5441.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-06-01T09%3A52%3A39%2B01%3A00&amp;precision=second" title="2012-06-01T09:52:39+01:00 in Timeline">8 years</a> ago by Alex Buts
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Description</strong>
        modified (<a href="https://trac.mantidproject.org/mantid/ticket/5441?action=diff&amp;version=1">diff</a>)
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="5441.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-06-06T12%3A02%3A57%2B01%3A00&amp;precision=second" title="2012-06-06T12:02:57+01:00 in Timeline">8 years</a> ago by Peter Parker
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>accepted</em>
    </li><li>
      <strong>Owner</strong>
        changed from <em>Roman Tolchenov</em> to <em>Peter Parker</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="5441.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-06-06T15%3A21%3A08%2B01%3A00&amp;precision=second" title="2012-06-06T15:21:08+01:00 in Timeline">8 years</a> ago by Peter Parker
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="5441.html" title="defect: Load algorithm throws exception when doing operations and different kind ... (closed: fixed)">#5441</a> - *Added* multi file functionality to Load dialog.
</p>
<p>
Now allowing devs to ask that MWRunFiles deals with file finding via a
specified algorithm property instead of the default method of passing the
user's inputs straight to FileFinder, which is ill-equipped to deal with
complex multi file loading / addition, etc.
</p>
<p>
LoadDialog now uses MWRunFiles in this way, via the "Filename" property
of Load.
</p>
<p>
This indirectly solves most (all?) of the recent problems surrounding the
Load dialog, which are a result of my lack of understanding in how it could
be affected by adding the multi file functionality.  I had certainly not
intended for LoadDialog to be even used for multi-file loading at this
stage, and so had simply not catered for it or spotted the problems caused.
Mea culpa.
</p>
<p>
There are still some outstanding issues:
</p>
<p>
1) Currently, the suggested ws name given to Load by the dialog is just the
"base" of the first filename, i.e. loading IRS21000+21009.raw produces a ws
with the name "IRS21000".  This name is neither helpful or accurate.
</p>
<p>
2) After loading multiple files and then reopening the dialog, the
MWRunFiles widget contains the full file name of the first file ONLY.  This
issue is compounded by the fact that specifying addition / ranges of files
during multi file loading is supported via the syntax
</p>
<p>
[full_path][inst][run]+[run][.ext]
</p>
<p>
BUT NOT
</p>
<p>
[full_path][inst][run]+[full_path][inst][run][.ext].
</p>
<p>
As far as I can tell it is only going to be possible to either:
</p>
<p>
a) display the full file path of the files that have been found but not
specify which files were added to which; OR
</p>
<p>
b) accurately display which files are being added to which, but not display
their full files path.
</p>
<p>
If b) is to be implemented I can not comment on how big a loss (if at all)
not seeing full file paths would be.  a) Does not seem to be a reasonable
option. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/8a0496585be1c2407e4aa8b9196bb3919fac6760" title="8a0496585be1c2407e4aa8b9196bb3919fac6760">8a0496585be1c2407e4aa8b9196bb3919fac6760</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="5441.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-06-08T15%3A57%3A23%2B01%3A00&amp;precision=second" title="2012-06-08T15:57:23+01:00 in Timeline">8 years</a> ago by Michael Reuter
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="5441.html" title="defect: Load algorithm throws exception when doing operations and different kind ... (closed: fixed)">#5441</a>. Using correct object for calls. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/faafb1f8e206f845db65f4fe6ec885ac1830655f" title="faafb1f8e206f845db65f4fe6ec885ac1830655f">faafb1f8e206f845db65f4fe6ec885ac1830655f</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="5441.html#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-06-13T16%3A56%3A40%2B01%3A00&amp;precision=second" title="2012-06-13T16:56:40+01:00 in Timeline">8 years</a> ago by Peter Parker
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="5441.html" title="defect: Load algorithm throws exception when doing operations and different kind ... (closed: fixed)">#5441</a> - *Added* multi file functionality to Load dialog.
</p>
<p>
Now allowing devs to ask that MWRunFiles deals with file finding via a
specified algorithm property instead of the default method of passing the
user's inputs straight to FileFinder, which is ill-equipped to deal with
complex multi file loading / addition, etc.
</p>
<p>
LoadDialog now uses MWRunFiles in this way, via the "Filename" property
of Load.
</p>
<p>
This indirectly solves most (all?) of the recent problems surrounding the
Load dialog, which are a result of my lack of understanding in how it could
be affected by adding the multi file functionality.  I had certainly not
intended for LoadDialog to be even used for multi-file loading at this
stage, and so had simply not catered for it or spotted the problems caused.
Mea culpa.
</p>
<p>
There are still some outstanding issues:
</p>
<p>
1) Currently, the suggested ws name given to Load by the dialog is just the
"base" of the first filename, i.e. loading IRS21000+21009.raw produces a ws
with the name "IRS21000".  This name is neither helpful or accurate.
</p>
<p>
2) After loading multiple files and then reopening the dialog, the
MWRunFiles widget contains the full file name of the first file ONLY.  This
issue is compounded by the fact that specifying addition / ranges of files
during multi file loading is supported via the syntax
</p>
<p>
[full_path][inst][run]+[run][.ext]
</p>
<p>
BUT NOT
</p>
<p>
[full_path][inst][run]+[full_path][inst][run][.ext].
</p>
<p>
As far as I can tell it is only going to be possible to either:
</p>
<p>
a) display the full file path of the files that have been found but not
specify which files were added to which; OR
</p>
<p>
b) accurately display which files are being added to which, but not display
their full files path.
</p>
<p>
If b) is to be implemented I can not comment on how big a loss (if at all)
not seeing full file paths would be.  a) Does not seem to be a reasonable
option. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/8a0496585be1c2407e4aa8b9196bb3919fac6760" title="8a0496585be1c2407e4aa8b9196bb3919fac6760">8a0496585be1c2407e4aa8b9196bb3919fac6760</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="5441.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-06-13T16%3A57%3A08%2B01%3A00&amp;precision=second" title="2012-06-13T16:57:08+01:00 in Timeline">8 years</a> ago by Michael Reuter
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="5441.html" title="defect: Load algorithm throws exception when doing operations and different kind ... (closed: fixed)">#5441</a>. Using correct object for calls. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/faafb1f8e206f845db65f4fe6ec885ac1830655f" title="faafb1f8e206f845db65f4fe6ec885ac1830655f">faafb1f8e206f845db65f4fe6ec885ac1830655f</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="5441.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-06-13T18%3A06%3A00%2B01%3A00&amp;precision=second" title="2012-06-13T18:06:00+01:00 in Timeline">8 years</a> ago by Peter Parker
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="5441.html" title="defect: Load algorithm throws exception when doing operations and different kind ... (closed: fixed)">#5441</a> - *Added* multi file functionality to Load dialog.
</p>
<p>
Now allowing devs to ask that MWRunFiles deals with file finding via a
specified algorithm property instead of the default method of passing the
user's inputs straight to FileFinder, which is ill-equipped to deal with
complex multi file loading / addition, etc.
</p>
<p>
LoadDialog now uses MWRunFiles in this way, via the "Filename" property
of Load.
</p>
<p>
This indirectly solves most (all?) of the recent problems surrounding the
Load dialog, which are a result of my lack of understanding in how it could
be affected by adding the multi file functionality.  I had certainly not
intended for LoadDialog to be even used for multi-file loading at this
stage, and so had simply not catered for it or spotted the problems caused.
Mea culpa.
</p>
<p>
There are still some outstanding issues:
</p>
<p>
1) Currently, the suggested ws name given to Load by the dialog is just the
"base" of the first filename, i.e. loading IRS21000+21009.raw produces a ws
with the name "IRS21000".  This name is neither helpful or accurate.
</p>
<p>
2) After loading multiple files and then reopening the dialog, the
MWRunFiles widget contains the full file name of the first file ONLY.  This
issue is compounded by the fact that specifying addition / ranges of files
during multi file loading is supported via the syntax
</p>
<p>
[full_path][inst][run]+[run][.ext]
</p>
<p>
BUT NOT
</p>
<p>
[full_path][inst][run]+[full_path][inst][run][.ext].
</p>
<p>
As far as I can tell it is only going to be possible to either:
</p>
<p>
a) display the full file path of the files that have been found but not
specify which files were added to which; OR
</p>
<p>
b) accurately display which files are being added to which, but not display
their full files path.
</p>
<p>
If b) is to be implemented I can not comment on how big a loss (if at all)
not seeing full file paths would be.  a) Does not seem to be a reasonable
option. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/8a0496585be1c2407e4aa8b9196bb3919fac6760" title="8a0496585be1c2407e4aa8b9196bb3919fac6760">8a0496585be1c2407e4aa8b9196bb3919fac6760</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="5441.html#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-06-13T18%3A06%3A27%2B01%3A00&amp;precision=second" title="2012-06-13T18:06:27+01:00 in Timeline">8 years</a> ago by Michael Reuter
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="5441.html" title="defect: Load algorithm throws exception when doing operations and different kind ... (closed: fixed)">#5441</a>. Using correct object for calls. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/faafb1f8e206f845db65f4fe6ec885ac1830655f" title="faafb1f8e206f845db65f4fe6ec885ac1830655f">faafb1f8e206f845db65f4fe6ec885ac1830655f</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="5441.html#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-06-26T11%3A30%3A37%2B01%3A00&amp;precision=second" title="2012-06-26T11:30:37+01:00 in Timeline">8 years</a> ago by Peter Parker
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="5441.html" title="defect: Load algorithm throws exception when doing operations and different kind ... (closed: fixed)">#5441</a> - Fix bug where we were erroneously removing whitespace. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/12dd145aab2d27e4f9940574eeec0f05e91e7545" title="12dd145aab2d27e4f9940574eeec0f05e91e7545">12dd145aab2d27e4f9940574eeec0f05e91e7545</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="5441.html#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-06-26T11%3A43%3A58%2B01%3A00&amp;precision=second" title="2012-06-26T11:43:58+01:00 in Timeline">8 years</a> ago by Peter Parker
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="5441.html" title="defect: Load algorithm throws exception when doing operations and different kind ... (closed: fixed)">#5441</a> - Fix builds.
</p>
<p>
Move folder creation / destruction to inside test case. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/7e8ec1acc74cfe1b250d09123a7062bb7e069169" title="7e8ec1acc74cfe1b250d09123a7062bb7e069169">7e8ec1acc74cfe1b250d09123a7062bb7e069169</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="5441.html#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-07-27T13%3A37%3A55%2B01%3A00&amp;precision=second" title="2012-07-27T13:37:55+01:00 in Timeline">8 years</a> ago by Peter Parker
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="5212.html" title="defect: Load algorithm with operations do not copies to python correctly (closed: fixed)">#5212</a>, <a class="closed ticket" href="5441.html" title="defect: Load algorithm throws exception when doing operations and different kind ... (closed: fixed)">#5441</a> - Better parsing when multifile loading. Hist Fixed.
</p>
<p>
Allow filenames specified with the format &lt;&lt;short&gt;&lt;operator&gt;&gt;...&lt;short&gt;
where:
</p>
<p>
&lt;short&gt; = &lt;dir&gt;&lt;inst&gt;&lt;underscore&gt;&lt;runs&gt;&lt;ext&gt;
&lt;operator&gt; = "+" or ","
&lt;runs&gt; = lists and/or ranges of (possibly added) runs e.g. "12,13+14,15:20".
</p>
<p>
See header file of MultipleFileProperty for more info on syntax.
</p>
<p>
This enables workspaces loaded through the algorithm to have a history that
can be used to reproduce the workspace properly.
</p>
<p>
MWRunFiles widget of LoadDialog now remembers the exact text a user typed -
in this way any user who types "INST0-50", clicks "Run" and reopens the
dialog is not met by a huge string containing a list of all 51 fully
resolved files, but rather their original input.
</p>
<p>
Changed the vector&lt;vector&lt;string&gt;&gt; templated versions of the toString and
toValue functions to accept customised delimiters.  This enables us to add
an option for the user to turn off multifile parsing if they are crazy
enough to want to load files with a plus or a comma in their path.
</p>
<p>
Changed the inner workings of Load for multi files.  No longer calling sub
algorithms with setChild or alwaysStoreInADS.  All workspaces are
essentially created outside the ADS and managed by the algorithm, right up
until the OutputWorkspaces are set.
</p>
<p>
Tests added where appropriate, but the majority of parsing cases are already
covered by MultiFileNameParser. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/5b78e0e5d0e8d64f7d93b668d676148a029d66e5" title="5b78e0e5d0e8d64f7d93b668d676148a029d66e5">5b78e0e5d0e8d64f7d93b668d676148a029d66e5</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="5441.html#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-07-30T08%3A40%3A03%2B01%3A00&amp;precision=second" title="2012-07-30T08:40:03+01:00 in Timeline">8 years</a> ago by Peter Parker
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="5441.html" title="defect: Load algorithm throws exception when doing operations and different kind ... (closed: fixed)">#5441</a> - Fix bug where we were erroneously removing whitespace. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/12dd145aab2d27e4f9940574eeec0f05e91e7545" title="12dd145aab2d27e4f9940574eeec0f05e91e7545">12dd145aab2d27e4f9940574eeec0f05e91e7545</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="5441.html#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-07-30T08%3A40%3A04%2B01%3A00&amp;precision=second" title="2012-07-30T08:40:04+01:00 in Timeline">8 years</a> ago by Peter Parker
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="5441.html" title="defect: Load algorithm throws exception when doing operations and different kind ... (closed: fixed)">#5441</a> - Fix builds.
</p>
<p>
Move folder creation / destruction to inside test case. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/7e8ec1acc74cfe1b250d09123a7062bb7e069169" title="7e8ec1acc74cfe1b250d09123a7062bb7e069169">7e8ec1acc74cfe1b250d09123a7062bb7e069169</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-14">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:14" class="cnum">
      <a href="5441.html#comment:14">comment:14</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-07-30T23%3A03%3A08%2B01%3A00&amp;precision=second" title="2012-07-30T23:03:08+01:00 in Timeline">8 years</a> ago by Peter Parker
                </h3>
                
    <div class="comment searchable">
      
      <p>
Refs <a class="closed ticket" href="5212.html" title="defect: Load algorithm with operations do not copies to python correctly (closed: fixed)">#5212</a>, <a class="closed ticket" href="5441.html" title="defect: Load algorithm throws exception when doing operations and different kind ... (closed: fixed)">#5441</a> - Better parsing when multifile loading. Hist Fixed.
</p>
<p>
Allow filenames specified with the format &lt;&lt;short&gt;&lt;operator&gt;&gt;...&lt;short&gt;
where:
</p>
<p>
&lt;short&gt; = &lt;dir&gt;&lt;inst&gt;&lt;underscore&gt;&lt;runs&gt;&lt;ext&gt;
&lt;operator&gt; = "+" or ","
&lt;runs&gt; = lists and/or ranges of (possibly added) runs e.g. "12,13+14,15:20".
</p>
<p>
See header file of MultipleFileProperty for more info on syntax.
</p>
<p>
This enables workspaces loaded through the algorithm to have a history that
can be used to reproduce the workspace properly.
</p>
<p>
MWRunFiles widget of LoadDialog now remembers the exact text a user typed -
in this way any user who types "INST0-50", clicks "Run" and reopens the
dialog is not met by a huge string containing a list of all 51 fully
resolved files, but rather their original input.
</p>
<p>
Changed the vector&lt;vector&lt;string&gt;&gt; templated versions of the toString and
toValue functions to accept customised delimiters.  This enables us to add
an option for the user to turn off multifile parsing if they are crazy
enough to want to load files with a plus or a comma in their path.
</p>
<p>
Changed the inner workings of Load for multi files.  No longer calling sub
algorithms with setChild or alwaysStoreInADS.  All workspaces are
essentially created outside the ADS and managed by the algorithm, right up
until the OutputWorkspaces are set.
</p>
<p>
Tests added where appropriate, but the majority of parsing cases are already
covered by MultiFileNameParser. 
</p>
<blockquote>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/5b78e0e5d0e8d64f7d93b668d676148a029d66e5" title="5b78e0e5d0e8d64f7d93b668d676148a029d66e5">5b78e0e5d0e8d64f7d93b668d676148a029d66e5</a>
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-15">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:15" class="cnum">
      <a href="5441.html#comment:15">comment:15</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-08-05T14%3A25%3A28%2B01%3A00&amp;precision=second" title="2012-08-05T14:25:28+01:00 in Timeline">8 years</a> ago by Peter Parker
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>accepted</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Closing.  This turned into a bit of long and rambling ticket, so here's a summary:
</p>
<ul><li>The problems related to this ticket were a result of the MultiFileParsing functionality being implemented for Load but not being implemented for the Load Dialog.  This has now been rectified.
</li></ul><ul><li>The string a user enters into the Filename field of Load Dialog is now remembered exactly as the user typed it, instead of the fully resolved filename used previously.  This is beneficial to users loading large ranges of files at once via "INST1-20" or similar, who do not wish to see a huge string of 20 fully resolved file names when they reopen the dialog.
</li></ul><ul><li>"Outstanding Issue 1)" from <a class="ext-link" href="5441.html#comment:3"><span class="icon">â€‹</span>comment 3</a> is still unresolved.  Leaving this for now, but suggestions for a sensible convention are welcome.
</li></ul><p>
The original problem as described in the ticket description should no longer occur as a result of these changes.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-16">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:16" class="cnum">
      <a href="5441.html#comment:16">comment:16</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-08-08T13%3A18%3A59%2B01%3A00&amp;precision=second" title="2012-08-08T13:18:59+01:00 in Timeline">8 years</a> ago by Anders Markvardsen
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li><li>
      <strong>Tester</strong>
        set to <em>Anders Markvardsen</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-17">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:17" class="cnum">
      <a href="5441.html#comment:17">comment:17</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2012-08-09T10%3A15%3A02%2B01%3A00&amp;precision=second" title="2012-08-09T10:15:02+01:00 in Timeline">8 years</a> ago by Anders Markvardsen
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>closed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Tested this by first load LOQ72224.raw and subsequently LOQ72224.nxs and no exception was thrown
</p>

    </div>

              </div>
              <div class="change" id="trac-change-18">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:18" class="cnum">
      <a href="5441.html#comment:18">comment:18</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T00%3A32%3A35%2B01%3A00&amp;precision=second" title="2015-06-04T00:32:35+01:00 in Timeline">5 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
This ticket has been transferred to github issue <a class="ext-link" href="http://github.com/mantidproject/mantid/issues/6287"><span class="icon">â€‹</span>6287</a>
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/5441?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/5441?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/5441?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.5</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
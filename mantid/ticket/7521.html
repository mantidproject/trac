<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      #7521 (Speed up the slowest unit tests)
     – Mantid Project
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="7520.html" title="Ticket #7520" />
        <link rel="last" href="11888.html" title="Ticket #11888" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/7521?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/7521?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="https://trac.mantidproject.org/mantid/ticket/7521?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="7522.html" title="Ticket #7522" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mantid Project" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="a82fe30e7bef2e30fd2838e9";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/mantid/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 7521, escape_newlines: 0}
        $("#comment").autoPreview("/mantid/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/mantid/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.mantidproject.org/"><img src="../chrome/site/mantid_logo_with_name.png" alt="Mantid Logo" width="250" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="https://trac.mantidproject.org/mantid/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="7520.html" title="Ticket #7520">Previous Ticket</a></span></li><li><span><a class="next" href="7522.html" title="Ticket #7522">Next Ticket</a> &rarr;</span></li><li class="last"><a href="../depgraph/7521.html">Depgraph</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="7521.html">Ticket #7521</a>
          <span class="status">(closed: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-07-25T14%3A57%3A36%2B01%3A00&amp;precision=second" title="2013-07-25T14:57:36+01:00 in Timeline">7 years</a> ago</p>
    <p>Last modified <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T01%3A58%3A43%2B01%3A00&amp;precision=second" title="2015-06-04T01:58:43+01:00 in Timeline">5 years</a> ago</p>
  </div>
  <h2 class="summary searchable">Speed up the slowest unit tests</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;reporter=Nick+Draper">Nick Draper</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;owner=Russell+Taylor">Russell Taylor</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;priority=major">major</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="../milestone/Release&#32;3.2.html">Release 3.2</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;component=Framework">Framework</a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
              <a href="https://trac.mantidproject.org/mantid/query?status=!closed&amp;keywords=~Maintenance">Maintenance</a>
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby"><span><a class="closed ticket" href="7655.html" title="Speed up CorrectFlightPaths unit test">#7655</a>, <a class="closed ticket" href="7656.html" title="Speed up LoadEventNexus unit test">#7656</a>, <a class="closed ticket" href="7707.html" title="Speed up MedianDetectorTest unit test">#7707</a></span></td>
    </tr><tr>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking"><span></span></td>
        <th id="h_tester">
          Tester:
        </th>
        <td headers="h_tester">
              Wenduo Zhou
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
    </h3>
    <div class="searchable">
      <p>
Come up with a target list and distribute work out.
</p>

    </div>
  </div>
</div>
          
    <div id="attachments">
        <h2 class="foldable">Attachments</h2>
        <div>
          <dl class="attachments">
              <dt>
    <a href="../attachment/ticket/7521/UnitTestTimes.xlsx.html" title="View attachment">UnitTestTimes.xlsx</a><a href="../raw-attachment/ticket/7521/UnitTestTimes.xlsx" class="trac-rawlink" title="Download">​</a>
       (<span title="101553 bytes">99.2 KB</span>) -
      added by <em>Russell Taylor</em> <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-08-05T19%3A02%3A21%2B01%3A00&amp;precision=second" title="2013-08-05T19:02:21+01:00 in Timeline">7 years</a> ago.
  </dt>
          </dl>
          
        </div>
    </div>

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="7521.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-07-30T19%3A08%3A53%2B01%3A00&amp;precision=second" title="2013-07-30T19:08:53+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>Backlog</em> to <em>Release 3.0</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="7521.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-08-01T22%3A39%3A48%2B01%3A00&amp;precision=second" title="2013-08-01T22:39:48+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>inprogress</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="7521.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-08-05T18%3A54%3A01%2B01%3A00&amp;precision=second" title="2013-08-05T18:54:01+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocked By</strong>
        <em>7655</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="7521.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-08-05T19%3A00%3A12%2B01%3A00&amp;precision=second" title="2013-08-05T19:00:12+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocked By</strong>
        <em>7656</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change">
                <h3 class="change">
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-08-05T19%3A02%3A21%2B01%3A00&amp;precision=second" title="2013-08-05T19:02:21+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Attachment</strong>
        <a href="../attachment/ticket/7521/UnitTestTimes.xlsx.html"><em>UnitTestTimes.xlsx</em></a><a href="../raw-attachment/ticket/7521/UnitTestTimes.xlsx" title="Download" class="trac-rawlink">​</a>
          added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="7521.html#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-08-05T19%3A08%3A25%2B01%3A00&amp;precision=second" title="2013-08-05T19:08:25+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Sent the following email to mantid-developers:
</p>
<blockquote>
<p>
One of my maintenance tasks this time around is to search for our slowest unit tests and look to get them speeded up. We want our unit tests to run quickly, so that we get quick feedback from the buildservers and so it is not too painful to run them ourselves. We would like none of our unit test suites to take more than a few seconds, and ideally much less. A good aim is something like 100ms per test method.
</p>
</blockquote>
<blockquote>
<p>
I’m going to get in and reiterate one of our main ways of doing this early: unit tests should not load real files/data. Please do not add new unit tests that do this. If you are testing a ticket and spot this, reopen it for this to be remedied. (Load* algorithms get a free pass on this one, though should still otherwise be kept fast.)
</p>
</blockquote>
<blockquote>
<p>
The attached spreadsheet shows that we are some way from this goal! The spreadsheet contains timings from a selection of builds and gives the wall-clock time for a test suite. In this way it includes any setup &amp; teardown time, which is missing in the timings you will see within the Jenkins reports. In some cases there are wide variations between platforms. My thinking is that this is partly explained by the fact that we run tests in parallel on the buildservers and there could sometimes be contention for resources (e.g. the filesystem) – another reason not to load files in tests!
</p>
</blockquote>
<blockquote>
<p>
My proposal is that first time around we try to improve all the tests that took more than 20s in any one case, or more than 10s in three or more cases. That leaves us with the following 18 test suites:
</p>
</blockquote>
<blockquote>
<p>
<strong>AlgorithmsTest_MedianDetectorTestTest</strong><br />
<strong>PythonWorkflowAlgorithmsTest_SANSBeamFluxCorrectionTest</strong><br />
<strong>DataHandlingTest_LoadInstrumentTest</strong><br />
<strong>AlgorithmsTest_ConvertUnitsTest</strong><br />
<strong>AlgorithmsTest_CorrectFlightPathsTest</strong><br />
<strong>DataHandlingTest_LoadEventNexusTest</strong><br />
<strong>AlgorithmsTest_ApplyTransmissionCorrectionTest</strong><br />
<strong>CrystalTest_GoniometerAnglesFromPhiRotationTest</strong><br />
<strong>DataHandlingTest_LoadILLTest</strong><br />
<strong>CrystalTest_FindUBUsingLatticeParametersTest</strong><br />
<strong>APITest_ExperimentInfoTest</strong><br />
<strong>PythonWorkflowAlgorithmsTest_EQSANSQ2DTest</strong><br />
<strong>AlgorithmsTest_AppendSpectraTest</strong><br />
<strong>MDAlgorithmsTest_ConvertToDiffractionMDWorkspaceTest</strong><br />
<strong>CrystalTest_PeakHKLErrorsTest</strong><br />
<strong>DataHandlingTest_LoadEmptyInstrumentTest</strong><br />
<strong>AlgorithmsTest_ConjoinWorkspacesTest</strong><br />
<strong>MDEventsTest_MDBoxTest</strong><br />
</p>
</blockquote>
<blockquote>
<p>
If you recognize any of these as tests that you wrote, or have worked on, then do volunteer to speed it up! After that people will be volunteered!
</p>
</blockquote>
<blockquote>
<p>
As a postscript, one last thing I’ve noticed past the particularly slow tests is that the tests for the Crystal package are pretty uniformly slow. I think this might be because they almost all load something, but if anyone knows of another reason do let me know.
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="7521.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-08-08T19%3A33%3A35%2B01%3A00&amp;precision=second" title="2013-08-08T19:33:35+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Blocked By</strong>
        <em>7707</em> added
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="7521.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-10-15T18%3A32%3A29%2B01%3A00&amp;precision=second" title="2013-10-15T18:32:29+01:00 in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>Release 3.0</em> to <em>Backlog</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
I came to the conclusion that I was looking at the wrong thing by taking the timings from the build server jobs. The issue is that they run tests in parallel (ctest -j) and what you see is that tests can vary greatly in time if they load a file from disk, depending on whether they have to compete for that resource. It is desirable to reduce the number of tests that load from disk, but some legitimately can.
</p>
<p>
I propose to collect the timings again, from local builds, during the next maintenance period and see if there are any that should be addressed. Note that the really pathological ones shown up in the previous timings have already been fixed. 
</p>

    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="7521.html#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2013-11-01T21%3A24%3A54Z&amp;precision=second" title="2013-11-01T21:24:54Z in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>Backlog</em> to <em>Release 3.1</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="7521.html#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-01-27T15%3A17%3A51Z&amp;precision=second" title="2014-01-27T15:17:51Z in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>Release 3.1</em> to <em>Backlog</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="7521.html#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-02-07T21%3A21%3A26Z&amp;precision=second" title="2014-02-07T21:21:26Z in Timeline">7 years</a> ago by Russell Taylor
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>Backlog</em> to <em>Release 3.2</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-11">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:11" class="cnum">
      <a href="7521.html#comment:11">comment:11</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-05-19T22%3A01%3A10%2B01%3A00&amp;precision=second" title="2014-05-19T22:01:10+01:00 in Timeline">6 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Did another check for any pathological tests by running the tests on a release build on each platform, not in parallel. The following tests came in the top 10 slowest tests on linux, windows &amp; osx:
</p>
<ul><li>DirectEnergyConversionTest
</li><li>LoadIsawSpectrumTest
</li><li>LoadEventNexusTest
</li><li>LoadILLTest
</li></ul><p>
I don't think I can do much about the loaders (LoadEventNexusTest was tackled previously in <a class="closed ticket" href="7656.html" title="task: Speed up LoadEventNexus unit test (closed: fixed)">#7656</a>), but I'll try and improve the others before signing off on this ticket.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-12">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:12" class="cnum">
      <a href="7521.html#comment:12">comment:12</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-05-19T22%3A17%3A34%2B01%3A00&amp;precision=second" title="2014-05-19T22:17:34+01:00 in Timeline">6 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="7521.html" title="enhancement: Speed up the slowest unit tests (closed: fixed)">#7521</a>. Speed up test 3x by using a smaller IDF.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/d6f87b5e21742c415718a514f90e8af758dcfd99" title="d6f87b5e21742c415718a514f90e8af758dcfd99">d6f87b5e21742c415718a514f90e8af758dcfd99</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-13">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:13" class="cnum">
      <a href="7521.html#comment:13">comment:13</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-05-19T22%3A17%3A35%2B01%3A00&amp;precision=second" title="2014-05-19T22:17:35+01:00 in Timeline">6 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="7521.html" title="enhancement: Speed up the slowest unit tests (closed: fixed)">#7521</a>. Remove check that accounts for 60% of test time.
</p>
<p>
I think we can manage without this as using MERLIN is tested
in a system test.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/9a24565b66081afe39500b88f56a0b2fd6a48365" title="9a24565b66081afe39500b88f56a0b2fd6a48365">9a24565b66081afe39500b88f56a0b2fd6a48365</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-14">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:14" class="cnum">
      <a href="7521.html#comment:14">comment:14</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-05-19T22%3A17%3A35%2B01%3A00&amp;precision=second" title="2014-05-19T22:17:35+01:00 in Timeline">6 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="7521.html" title="enhancement: Speed up the slowest unit tests (closed: fixed)">#7521</a>. Speed up test.
</p>
<p>
This code isn't used at the SNS anyway (we use DGSReduction).
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/8d35ea2eb9da00631955e5f9683c9065c6d774aa" title="8d35ea2eb9da00631955e5f9683c9065c6d774aa">8d35ea2eb9da00631955e5f9683c9065c6d774aa</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-15">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:15" class="cnum">
      <a href="7521.html#comment:15">comment:15</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-05-20T17%3A44%3A15%2B01%3A00&amp;precision=second" title="2014-05-20T17:44:15+01:00 in Timeline">6 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="7521.html" title="enhancement: Speed up the slowest unit tests (closed: fixed)">#7521</a>. Speed up test 3x by using a smaller IDF.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/9bb926f8df05701ac355862cc28b5dd0cc021a63" title="9bb926f8df05701ac355862cc28b5dd0cc021a63">9bb926f8df05701ac355862cc28b5dd0cc021a63</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-16">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:16" class="cnum">
      <a href="7521.html#comment:16">comment:16</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-05-20T17%3A44%3A16%2B01%3A00&amp;precision=second" title="2014-05-20T17:44:16+01:00 in Timeline">6 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="7521.html" title="enhancement: Speed up the slowest unit tests (closed: fixed)">#7521</a>. Remove check that accounts for 60% of test time.
</p>
<p>
I think we can manage without this as using MERLIN is tested
in a system test.
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/a20a2b069111ed91bf09fb62113586f50dae78e9" title="a20a2b069111ed91bf09fb62113586f50dae78e9">a20a2b069111ed91bf09fb62113586f50dae78e9</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-17">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:17" class="cnum">
      <a href="7521.html#comment:17">comment:17</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-05-20T17%3A44%3A16%2B01%3A00&amp;precision=second" title="2014-05-20T17:44:16+01:00 in Timeline">6 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
Re <a class="closed ticket" href="7521.html" title="enhancement: Speed up the slowest unit tests (closed: fixed)">#7521</a>. Speed up test.
</p>
<p>
This code isn't used at the SNS anyway (we use DGSReduction).
</p>
<p>
Changeset: <a class="changeset" href="https://github.com/mantidproject/mantid/commit/9d0116c35a77ae2e495b04b41104bf7335f3c071" title="9d0116c35a77ae2e495b04b41104bf7335f3c071">9d0116c35a77ae2e495b04b41104bf7335f3c071</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-18">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:18" class="cnum">
      <a href="7521.html#comment:18">comment:18</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-05-20T18%3A10%3A29%2B01%3A00&amp;precision=second" title="2014-05-20T18:10:29+01:00 in Timeline">6 years</a> ago by Russell Taylor
                </h3>
                
    <div class="comment searchable">
      
      <p>
There was a rebase that accounts for the duplicate commits above.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-19">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:19" class="cnum">
      <a href="7521.html#comment:19">comment:19</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-05-20T18%3A25%3A50%2B01%3A00&amp;precision=second" title="2014-05-20T18:25:50+01:00 in Timeline">6 years</a> ago by Russell Taylor
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>inprogress</em> to <em>verify</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
That will do for this one I think. The pathological ones have been addressed, mainly in the blocking tickets.
</p>
<p>
Things still aren't as fast as they could be. The main issue is the old one of touching the file system along with the fact that we run tests in parallel. This means that tests sometimes run fast, but sometimes very slowly if they have to fight with/wait for other tests that are also touching the file system. We have a <strong>lot</strong> of tests that load data still. The tests in the Crystal package seem to be particularly guilty of this.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-20">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:20" class="cnum">
      <a href="7521.html#comment:20">comment:20</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-05-23T15%3A14%3A06%2B01%3A00&amp;precision=second" title="2014-05-23T15:14:06+01:00 in Timeline">6 years</a> ago by Wenduo Zhou
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verify</em> to <em>verifying</em>
    </li><li>
      <strong>Tester</strong>
        set to <em>Wenduo Zhou</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-21">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:21" class="cnum">
      <a href="7521.html#comment:21">comment:21</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-05-23T15%3A28%3A22%2B01%3A00&amp;precision=second" title="2014-05-23T15:28:22+01:00 in Timeline">6 years</a> ago by Wenduo Zhou
                </h3>
                
    <div class="comment searchable">
      
      <p>
The 2 unit tests are sped up significantly. Thus ticket is closed. 
</p>

    </div>

              </div>
              <div class="change" id="trac-change-22">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:22" class="cnum">
      <a href="7521.html#comment:22">comment:22</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2014-05-23T15%3A28%3A34%2B01%3A00&amp;precision=second" title="2014-05-23T15:28:34+01:00 in Timeline">6 years</a> ago by Wenduo Zhou
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>verifying</em> to <em>closed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Merge remote-tracking branch 'origin/bugfix/7521_slow_unit_tests'
</p>
<p>
Full changeset: <a class="ext-link" href="https://github.com/mantidproject/mantid/commit/ef4ec7a00c2df6facbe0525a32313e4c6c744867"><span class="icon">​</span>ef4ec7a00c2df6facbe0525a32313e4c6c744867</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-23">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:23" class="cnum">
      <a href="7521.html#comment:23">comment:23</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="https://trac.mantidproject.org/mantid/timeline?from=2015-06-04T01%3A58%3A43%2B01%3A00&amp;precision=second" title="2015-06-04T01:58:43+01:00 in Timeline">5 years</a> ago by Stuart Campbell
                </h3>
                
    <div class="comment searchable">
      
      <p>
This ticket has been transferred to github issue <a class="ext-link" href="http://github.com/mantidproject/mantid/issues/8366"><span class="icon">​</span>8366</a>
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/7521?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/7521?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="https://trac.mantidproject.org/mantid/ticket/7521?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.5</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>